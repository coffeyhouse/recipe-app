

==================== C:\Code\recipe-app\backend.txt ====================



==================== C:\Code\recipe-app\backend\mydatabase2.db ====================



==================== C:\Code\recipe-app\backend\run.py ====================

from app import create_app

app = create_app()

if __name__ == '__main__':
    app.run(debug=True)


==================== C:\Code\recipe-app\backend\app\base.py ====================

from datetime import datetime
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class TimestampMixin(object):
    CreatedAt = db.Column(db.DateTime, default=datetime.utcnow)
    UpdatedAt = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)


==================== C:\Code\recipe-app\backend\app\extensions.py ====================

from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()


==================== C:\Code\recipe-app\backend\app\generic_crud.py ====================

from flask import Blueprint
from .utils import get_all, get_by_id, create_record, update_record, delete_record
from . import db

def create_crud_blueprint(model, url_prefix):
    bp = Blueprint(model.__tablename__, __name__, url_prefix=url_prefix)

    @bp.route('/', methods=['GET'])
    def get_records():
        return get_all(model)

    @bp.route('/<int:id>', methods=['GET'])
    def get_record(id):
        return get_by_id(model, id)

    @bp.route('/', methods=['POST'])
    def create():
        return create_record(model)

    @bp.route('/<int:id>', methods=['PUT'])
    def update(id):
        return update_record(model, id)

    @bp.route('/<int:id>', methods=['DELETE'])
    def delete(id):
        return delete_record(model, id)

    return bp


==================== C:\Code\recipe-app\backend\app\models.py ====================

from werkzeug.security import generate_password_hash, check_password_hash
from .extensions import db
from .base import TimestampMixin

class IngredientCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientCategories'
    CategoryID = db.Column(db.Integer, primary_key=True)
    CategoryName = db.Column(db.String, unique=True, nullable=False)

    def to_dict(self):
        return {
            'CategoryID': self.CategoryID,
            'CategoryName': self.CategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Ingredient(db.Model, TimestampMixin):
    __tablename__ = 'Ingredients'
    IngredientID = db.Column(db.Integer, primary_key=True)
    SubCategoryID = db.Column(db.Integer, db.ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = db.Column(db.String, nullable=False)
    PurchaseUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = db.Column(db.Float)
    PurchaseWeightUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))

    def to_dict(self):
        return {
            'IngredientID': self.IngredientID,
            'SubCategoryID': self.SubCategoryID,
            'IngredientName': self.IngredientName,
            'PurchaseUnitID': self.PurchaseUnitID,
            'PurchaseWeightVolume': self.PurchaseWeightVolume,
            'PurchaseWeightUnitID': self.PurchaseWeightUnitID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class IngredientSubCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = db.Column(db.Integer, primary_key=True)
    CategoryID = db.Column(db.Integer, db.ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SubCategoryID': self.SubCategoryID,
            'CategoryID': self.CategoryID,
            'SubCategoryName': self.SubCategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class MealPlanRecipe(db.Model):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = db.Column(db.Integer, primary_key=True)
    MealPlanID = db.Column(db.Integer, db.ForeignKey('MealPlans.MealPlanID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    MealType = db.Column(db.String)
    Date = db.Column(db.Date, nullable=False)

    def to_dict(self):
        return {
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'MealPlanID': self.MealPlanID,
            'RecipeID': self.RecipeID,
            'MealType': self.MealType,
            'Date': self.Date
        }

class MealPlan(db.Model, TimestampMixin):
    __tablename__ = 'MealPlans'
    MealPlanID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    PlanName = db.Column(db.String)
    StartDate = db.Column(db.Date)
    EndDate = db.Column(db.Date)

    def to_dict(self):
        return {
            'MealPlanID': self.MealPlanID,
            'UserID': self.UserID,
            'PlanName': self.PlanName,
            'StartDate': self.StartDate,
            'EndDate': self.EndDate,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeAuthor(db.Model):
    __tablename__ = 'RecipeAuthors'
    AuthorID = db.Column(db.Integer, primary_key=True)
    AuthorName = db.Column(db.String, nullable=False)
    AuthorImageURL = db.Column(db.String)

    def to_dict(self):
        return {
            'AuthorID': self.AuthorID,
            'AuthorName': self.AuthorName,
            'AuthorImageURL': self.AuthorImageURL
        }

class RecipeBook(db.Model):
    __tablename__ = 'RecipeBooks'
    BookID = db.Column(db.Integer, primary_key=True)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='CASCADE'), nullable=False)
    BookName = db.Column(db.String, nullable=False)
    CoverArtURL = db.Column(db.String)

    def to_dict(self):
        return {
            'BookID': self.BookID,
            'AuthorID': self.AuthorID,
            'BookName': self.BookName,
            'CoverArtURL': self.CoverArtURL
        }

class RecipeIngredient(db.Model):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    SectionID = db.Column(db.Integer, db.ForeignKey('RecipeIngredientSections.SectionID', ondelete='CASCADE'))
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))

    def to_dict(self):
        return {
            'RecipeIngredientID': self.RecipeIngredientID,
            'RecipeID': self.RecipeID,
            'IngredientID': self.IngredientID,
            'SectionID': self.SectionID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID
        }

class RecipeIngredientSection(db.Model):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    SectionName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SectionID': self.SectionID,
            'RecipeID': self.RecipeID,
            'SectionName': self.SectionName
        }

class RecipeReview(db.Model):
    __tablename__ = 'RecipeReviews'
    ReviewID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    Rating = db.Column(db.Float, nullable=False)
    ReviewText = db.Column(db.String)

    def to_dict(self):
        return {
            'ReviewID': self.ReviewID,
            'UserID': self.UserID,
            'RecipeID': self.RecipeID,
            'Rating': self.Rating,
            'ReviewText': self.ReviewText
        }

class Recipe(db.Model, TimestampMixin):
    __tablename__ = 'Recipes'
    RecipeID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='SET NULL'))
    RecipeName = db.Column(db.String, nullable=False)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='SET NULL'))
    BookID = db.Column(db.Integer, db.ForeignKey('RecipeBooks.BookID', ondelete='SET NULL'))
    PageNumber = db.Column(db.Integer)
    OnlineURL = db.Column(db.String)
    CookTime = db.Column(db.Integer)
    Difficulty = db.Column(db.String)
    Type = db.Column(db.String)
    ImageURL = db.Column(db.String)
    Servings = db.Column(db.Integer)
    Cuisine = db.Column(db.String)

    def to_dict(self):
        return {
            'RecipeID': self.RecipeID,
            'UserID': self.UserID,
            'RecipeName': self.RecipeName,
            'AuthorID': self.AuthorID,
            'BookID': self.BookID,
            'PageNumber': self.PageNumber,
            'OnlineURL': self.OnlineURL,
            'CookTime': self.CookTime,
            'Difficulty': self.Difficulty,
            'Type': self.Type,
            'ImageURL': self.ImageURL,
            'Servings': self.Servings,
            'Cuisine': self.Cuisine,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeStep(db.Model):
    __tablename__ = 'RecipeSteps'
    StepID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    StepNumber = db.Column(db.Integer, nullable=False)
    Description = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'StepID': self.StepID,
            'RecipeID': self.RecipeID,
            'StepNumber': self.StepNumber,
            'Description': self.Description
        }

class RecipeTag(db.Model):
    __tablename__ = 'RecipeTags'
    RecipeTagID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    TagID = db.Column(db.Integer, db.ForeignKey('Tags.TagID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'RecipeTagID': self.RecipeTagID,
            'RecipeID': self.RecipeID,
            'TagID': self.TagID
        }

class ShoppingListIngredient(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = db.Column(db.Integer, primary_key=True)
    ShoppingListID = db.Column(db.Integer, db.ForeignKey('ShoppingLists.ShoppingListID', ondelete='CASCADE'), nullable=False)
    MealPlanRecipeID = db.Column(db.Integer, db.ForeignKey('MealPlanRecipes.MealPlanRecipeID', ondelete='CASCADE'))
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))
    IsManual = db.Column(db.Boolean)
    AlreadyHave = db.Column(db.Boolean)
    Purchased = db.Column(db.Boolean)

    def to_dict(self):
        return {
            'ShoppingListIngredientID': self.ShoppingListIngredientID,
            'ShoppingListID': self.ShoppingListID,
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'IngredientID': self.IngredientID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID,
            'IsManual': self.IsManual,
            'AlreadyHave': self.AlreadyHave,
            'Purchased': self.Purchased,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class ShoppingList(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'ShoppingListID': self.ShoppingListID,
            'UserID': self.UserID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Tag(db.Model):
    __tablename__ = 'Tags'
    TagID = db.Column(db.Integer, primary_key=True)
    TagName = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'TagID': self.TagID,
            'TagName': self.TagName
        }

class UnitConversion(db.Model):
    __tablename__ = 'UnitConversions'
    FromUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ToUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ConversionFactor = db.Column(db.Float, nullable=False)

    def to_dict(self):
        return {
            'FromUnitID': self.FromUnitID,
            'ToUnitID': self.ToUnitID,
            'ConversionFactor': self.ConversionFactor
        }

class Unit(db.Model):
    __tablename__ = 'Units'
    UnitID = db.Column(db.Integer, primary_key=True)
    UnitName = db.Column(db.String, nullable=False, unique=True)
    Abbreviation = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'UnitID': self.UnitID,
            'UnitName': self.UnitName,
            'Abbreviation': self.Abbreviation
        }

class User(db.Model, TimestampMixin):
    __tablename__ = 'Users'
    UserID = db.Column(db.Integer, primary_key=True)
    Username = db.Column(db.String, nullable=False, unique=True)
    PasswordHash = db.Column(db.String, nullable=False)
    Email = db.Column(db.String, nullable=False, unique=True)

    def set_password(self, password):
        self.PasswordHash = generate_password_hash(password)

    def check_password(self, password):
        return check_password_hash(self.PasswordHash, password)

    def to_dict(self):
        return {
            'UserID': self.UserID,
            'Username': self.Username,
            'Email': self.Email,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }


==================== C:\Code\recipe-app\backend\app\utils.py ====================

from flask import request, jsonify
from sqlalchemy.exc import SQLAlchemyError, IntegrityError
from .extensions import db
from .models import User
from datetime import datetime

def get_all(model):
    try:
        records = model.query.all()
        return jsonify([record.to_dict() for record in records]), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def get_by_id(model, id):
    try:
        record = model.query.get_or_404(id)
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def create_record(model):
    try:
        data = request.get_json()
        if issubclass(model, TimestampMixin):
            if 'CreatedAt' not in data:
                data['CreatedAt'] = datetime.utcnow()
            if 'UpdatedAt' not in data:
                data['UpdatedAt'] = datetime.utcnow()

        if model == User:
            password = data.pop('Password')
            user = model(**data)
            user.set_password(password)
            db.session.add(user)
            db.session.commit()
            return jsonify(user.to_dict()), 201
        else:
            record = model(**data)
            db.session.add(record)
            db.session.commit()
            return jsonify(record.to_dict()), 201
    except IntegrityError as e:
        db.session.rollback()
        return jsonify({'error': 'A record with that unique value already exists.'}), 400
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def update_record(model, id):
    try:
        data = request.get_json()
        record = model.query.get_or_404(id)
        for key, value in data.items():
            setattr(record, key, value)
        if issubclass(model, TimestampMixin):
            record.UpdatedAt = datetime.utcnow()
        db.session.commit()
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def delete_record(model, id):
    try:
        record = model.query.get_or_404(id)
        db.session.delete(record)
        db.session.commit()
        return '', 204
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500


==================== C:\Code\recipe-app\backend\app\__init__.py ====================

from flask import Flask
from .extensions import db
from .models import IngredientCategory, Ingredient, IngredientSubCategory, MealPlanRecipe, MealPlan, RecipeAuthor, RecipeBook, RecipeIngredient, RecipeIngredientSection, RecipeReview, Recipe, RecipeStep, RecipeTag, ShoppingListIngredient, ShoppingList, Tag, UnitConversion, Unit, User
from .generic_crud import create_crud_blueprint
from sqlalchemy import inspect

def create_app():
    app = Flask(__name__)
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///../../mydatabase2.db'
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

    db.init_app(app)
    
    with app.app_context():
        # Print all tables in the database
        inspector = inspect(db.engine)
        print(inspector.get_table_names())

    # Register blueprints
    app.register_blueprint(create_crud_blueprint(IngredientCategory, '/ingredient_categories'))
    app.register_blueprint(create_crud_blueprint(Ingredient, '/ingredients'))
    app.register_blueprint(create_crud_blueprint(IngredientSubCategory, '/ingredient_subcategories'))
    app.register_blueprint(create_crud_blueprint(MealPlanRecipe, '/meal_plan_recipes'))
    app.register_blueprint(create_crud_blueprint(MealPlan, '/meal_plans'))
    app.register_blueprint(create_crud_blueprint(RecipeAuthor, '/recipe_authors'))
    app.register_blueprint(create_crud_blueprint(RecipeBook, '/recipe_books'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredient, '/recipe_ingredients'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredientSection, '/recipe_ingredient_sections'))
    app.register_blueprint(create_crud_blueprint(RecipeReview, '/recipe_reviews'))
    app.register_blueprint(create_crud_blueprint(Recipe, '/recipes'))
    app.register_blueprint(create_crud_blueprint(RecipeStep, '/recipe_steps'))
    app.register_blueprint(create_crud_blueprint(RecipeTag, '/recipe_tags'))
    app.register_blueprint(create_crud_blueprint(ShoppingListIngredient, '/shopping_list_ingredients'))
    app.register_blueprint(create_crud_blueprint(ShoppingList, '/shopping_lists'))
    app.register_blueprint(create_crud_blueprint(Tag, '/tags'))
    app.register_blueprint(create_crud_blueprint(UnitConversion, '/unit_conversions'))
    app.register_blueprint(create_crud_blueprint(Unit, '/units'))
    app.register_blueprint(create_crud_blueprint(User, '/users'))

    return app


==================== C:\Code\recipe-app\backend\instance\mydatabase2.db ====================



==================== C:\Code\recipe-app\client.txt ====================



==================== C:\Code\recipe-app\client\.eslintrc.cjs ====================

module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:react/jsx-runtime',
    'plugin:react-hooks/recommended',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parserOptions: { ecmaVersion: 'latest', sourceType: 'module' },
  settings: { react: { version: '18.2' } },
  plugins: ['react-refresh'],
  rules: {
    'react/jsx-no-target-blank': 'off',
    'react-refresh/only-export-components': [
      'warn',
      { allowConstantExport: true },
    ],
  },
}


==================== C:\Code\recipe-app\client\index.html ====================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================== C:\Code\recipe-app\client\postcss.config.js ====================

export default {
    plugins: {
      tailwindcss: {},
      autoprefixer: {},
    },
  };
  

==================== C:\Code\recipe-app\client\README.md ====================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh


==================== C:\Code\recipe-app\client\tailwind.config.js ====================

/** @type {import('tailwindcss').Config} */
module.exports = {
    content: [
      "./src/**/*.{js,jsx,ts,tsx}",
    ],
    theme: {
      extend: {},
    },
    plugins: [
      require('daisyui'),
    ],
    daisyui: {
      themes: ["light", "dark", "cupcake", "bumblebee", "emerald", "corporate", "synthwave", "retro", "cyberpunk", "valentine", "halloween", "garden", "forest", "aqua", "lofi", "pastel", "fantasy", "wireframe", "black", "luxury", "dracula", "cmyk", "autumn", "business", "acid", "lemonade", "night", "coffee", "winter"],
    },
  }
  

==================== C:\Code\recipe-app\client\vite.config.js ====================

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
});


==================== C:\Code\recipe-app\client\public\vite.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>

==================== C:\Code\recipe-app\client\src\App.css ====================



==================== C:\Code\recipe-app\client\src\App.jsx ====================

import React from 'react';
import AppRoutes from './routes';
import NavBar from './components/NavBar';
import { useAuth } from './context/AuthContext';
import SideBar from './components/SideBar';

function App() {
  const { isAuthenticated } = useAuth();

  return (
    <div className="flex flex-col min-h-screen">
      <NavBar />
      <div className="flex grow">
        {isAuthenticated && <SideBar />}
        <AppRoutes />
      </div>
    </div>
  );
}

export default App;


==================== C:\Code\recipe-app\client\src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;


==================== C:\Code\recipe-app\client\src\main.jsx ====================

import React from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { AuthProvider } from './context/AuthContext';
import { DataProvider } from './context/DataContext';

const rootElement = document.getElementById('root');
const root = createRoot(rootElement);

root.render(
  <BrowserRouter>
    <AuthProvider>
      <DataProvider>
        <App />
      </DataProvider>
    </AuthProvider>
  </BrowserRouter>
);


==================== C:\Code\recipe-app\client\src\routes.jsx ====================

// src/routes.jsx

import React from 'react';
import { Routes, Route } from 'react-router-dom';
import Login from './pages/Login';
import Dashboard from './pages/Dashboard';
import Register from './pages/Register';
import ManageCategories from './pages/ManageCategories';
import ManageSubCategories from './pages/ManageSubCategories';
import ManageIngredients from './pages/ManageIngredients';
import ManageRecipes from './pages/ManageRecipes';
import ManageAuthors from './pages/ManageAuthors';
import ManageRecipeBooks from './pages/ManageRecipeBooks';
import ManageMealPlans from './pages/ManageMealPlans';
import PrivateRoute from './components/PrivateRoute';
import MealPlanDetails from './pages/MealPlanDetails';

import Home from './pages/Home';

function AppRoutes() {
  return (
    <Routes>
      <Route path="login" element={<Login />} />
      <Route path="register" element={<Register />} />
      <Route path="/" element={<PrivateRoute><Home /></PrivateRoute>} />
      <Route path="/meal-plan/:mealPlanId" element={<PrivateRoute><MealPlanDetails /></PrivateRoute>} />
      <Route path="admin">
        <Route index element={<PrivateRoute><Dashboard /></PrivateRoute>} />
        <Route path="manage-categories" element={<PrivateRoute><ManageCategories /></PrivateRoute>} />
        <Route path="manage-sub-categories" element={<PrivateRoute><ManageSubCategories /></PrivateRoute>} />
        <Route path="manage-ingredients" element={<PrivateRoute><ManageIngredients /></PrivateRoute>} />
        <Route path="manage-recipes" element={<PrivateRoute><ManageRecipes /></PrivateRoute>} />
        <Route path="manage-authors" element={<PrivateRoute><ManageAuthors /></PrivateRoute>} />
        <Route path="manage-recipe-books" element={<PrivateRoute><ManageRecipeBooks /></PrivateRoute>} />
        <Route path="manage-meal-plans" element={<PrivateRoute><ManageMealPlans /></PrivateRoute>} />
      </Route>

    </Routes>
  );
}

export default AppRoutes;


==================== C:\Code\recipe-app\client\src\supabaseClient.js ====================

// src/supabaseClient.js

import { createClient } from '@supabase/supabase-js';

const SUPABASE_URL = 'https://fovbbeeexjqmcivjaujs.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZvdmJiZWVleGpxbWNpdmphdWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk1Nzg2NjksImV4cCI6MjAzNTE1NDY2OX0.F3M2b5cR9gKJo5muAZ45bgs8LKkf8znkMlixf7wN_88';

export const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);


==================== C:\Code\recipe-app\client\src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\client\src\components\AddAuthorModal.jsx ====================

// src/components/AddAuthorModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';

function AddAuthorModal() {
  const [authorName, setAuthorName] = useState('');
  const [authorImageURL, setAuthorImageURL] = useState('');
  const { createAuthor } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createAuthor(authorName, authorImageURL);
      document.getElementById('add_author_modal').close();
    } catch (error) {
      alert('Failed to add author');
    }
  };

  return (
    <Modal id="add_author_modal" title="Add Author">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Author Name"
          value={authorName}
          onChange={(e) => setAuthorName(e.target.value)}
          required
        />
        <TextInput
          label="Author Image URL"
          value={authorImageURL}
          onChange={(e) => setAuthorImageURL(e.target.value)}
        />
        <Button>Add Author</Button>
      </form>
    </Modal>
  );
}

export default AddAuthorModal;


==================== C:\Code\recipe-app\client\src\components\AddCategoryModal.jsx ====================

// src/components/AddCategoryModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Button from './ui/Button';

function AddCategoryModal() {
  const [categoryName, setCategoryName] = useState('');
  const { createCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createCategory(categoryName);
      document.getElementById('add_category_modal').close();
    } catch (error) {
      alert('Failed to add category');
    }
  };

  return (
    <Modal id="add_category_modal" title="Add Category">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Category Name"
          value={categoryName}
          onChange={(e) => setCategoryName(e.target.value)}
          required
        />
        <Button>Add Category</Button>
      </form>
    </Modal>
  );
}

export default AddCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AddIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Select from './ui/Select';
import Button from './ui/Button';

function AddIngredientModal({ onIngredientAdded = () => {} }) {
  const [ingredientName, setIngredientName] = useState('');
  const [purchaseWeightVolume, setPurchaseWeightVolume] = useState('');
  const [purchaseUnitId, setPurchaseUnitId] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const [subCategoryId, setSubCategoryId] = useState('');
  const [purchaseWeightUnitId, setPurchaseWeightUnitId] = useState('');

  const { categories, subCategories, units, createIngredient } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const ingredient = {
      IngredientName: ingredientName,
      PurchaseWeightVolume: purchaseWeightVolume,
      PurchaseUnitID: purchaseUnitId,
      SubCategoryID: subCategoryId,
      PurchaseWeightUnitID: purchaseWeightUnitId,
    };

    try {
      const newIngredient = await createIngredient(ingredient);
      onIngredientAdded(newIngredient);
      document.getElementById('add_ingredient_modal').close();
    } catch (error) {
      alert('Failed to add ingredient');
    }
  };

  const filteredSubCategories = subCategories.filter(
    (subCategory) => subCategory.CategoryID === parseInt(categoryId)
  );

  const unitOptions = units.map((unit) => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  const subCategoryOptions = filteredSubCategories.map((subCategory) => ({
    value: subCategory.SubCategoryID,
    label: subCategory.SubCategoryName,
  }));

  return (
    <Modal id="add_ingredient_modal" title="Add Ingredient" className="modal modal-bottom sm:modal-middle">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Ingredient Name"
          value={ingredientName}
          onChange={(e) => setIngredientName(e.target.value)}
          required
        />
        <TextInput
          label="Purchase Weight Volume"
          value={purchaseWeightVolume}
          onChange={(e) => setPurchaseWeightVolume(e.target.value)}
          required
        />
        <Select
          label="Purchase Unit"
          value={purchaseUnitId}
          onChange={(e) => setPurchaseUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Select
          label="Sub-Category"
          value={subCategoryId}
          onChange={(e) => setSubCategoryId(e.target.value)}
          required
          options={subCategoryOptions}
          defaultOption="Select a sub-category"
          disabled={!categoryId} // Disable until a category is selected
        />
        <Select
          label="Purchase Weight Unit"
          value={purchaseWeightUnitId}
          onChange={(e) => setPurchaseWeightUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Button>Add Ingredient</Button>
      </form>
    </Modal>
  );
}

export default AddIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanModal.jsx ====================

// src/components/AddMealPlanModal.jsx

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';

function AddMealPlanModal() {
  const [planName, setPlanName] = useState('');
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');
  const { createMealPlan } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const mealPlan = {
      PlanName: planName,
      StartDate: startDate,
      EndDate: endDate,
      UserID: 1, // Adjust as needed
    };

    try {
      await createMealPlan(mealPlan);
      document.getElementById('add_meal_plan_modal').close();
    } catch (error) {
      alert('Failed to add meal plan');
    }
  };

  return (
    <Modal id="add_meal_plan_modal" title="Add Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Plan Name"
          value={planName}
          onChange={(e) => setPlanName(e.target.value)}
          required
        />
        <TextInput
          label="Start Date"
          type="date"
          value={startDate}
          onChange={(e) => setStartDate(e.target.value)}
          required
        />
        <TextInput
          label="End Date"
          type="date"
          value={endDate}
          onChange={(e) => setEndDate(e.target.value)}
          required
        />
        <Button>Add Meal Plan</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import Select from './ui/Select';
import { format, isValid } from 'date-fns';
import TextInput from './ui/TextInput';

function AddMealPlanRecipeModal({ mealPlanId, defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId }) {

  const [recipeId, setRecipeId] = useState('');
  const [date, setDate] = useState(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
  const [mealType, setMealType] = useState(defaultMealType || '');
  const [currentMealPlanRecipeId, setCurrentMealPlanRecipeId] = useState(mealPlanRecipeId);

  const { recipes, createMealPlanRecipe, updateMealPlanRecipe } = useData();

  useEffect(() => {
    setDate(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
    setMealType(defaultMealType || '');
    setRecipeId(defaultRecipeId || '');
    setCurrentMealPlanRecipeId(mealPlanRecipeId || '');
  }, [defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!mealPlanId || !recipeId || !mealType || !date) {
      alert('All fields are required.');
      return;
    }

    const mealPlanRecipe = {
      MealPlanID: mealPlanId,
      RecipeID: recipeId,
      MealType: mealType,
      Date: date,
    };

    console.log("Submitting mealPlanRecipeId:", currentMealPlanRecipeId);

    try {
      if (currentMealPlanRecipeId) {
        // Update the existing meal plan recipe
        await updateMealPlanRecipe(currentMealPlanRecipeId, mealPlanRecipe);
      } else {
        // Create a new meal plan recipe
        await createMealPlanRecipe(mealPlanRecipe);
      }
      document.getElementById('add_meal_plan_recipe_modal').close();
      setRecipeId('');
      setMealType('');
      setDate('');
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add/update meal plan recipe');
    }
  };

  const recipeOptions = recipes.map(recipe => ({
    value: recipe.RecipeID,
    label: recipe.RecipeName,
  }));

  return (
    <Modal id="add_meal_plan_recipe_modal" title="Add/Update Meal in Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <Select
          label="Recipe"
          value={recipeId}
          onChange={(e) => setRecipeId(e.target.value)}
          required
          options={recipeOptions}
          defaultOption="Select a recipe"
        />
        <TextInput
          label="Date"
          type="date"
          value={date}
          onChange={(e) => setDate(e.target.value)}
          required
        />
        <Select
          label="Meal Type"
          value={mealType}
          onChange={(e) => setMealType(e.target.value)}
          required
          options={[
            { value: 'Breakfast', label: 'Breakfast' },
            { value: 'Lunch', label: 'Lunch' },
            { value: 'Dinner', label: 'Dinner' }
          ]}
          defaultOption="Select a meal type"
        />
        <Button type="submit">{currentMealPlanRecipeId ? 'Update Meal' : 'Add Meal'}</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeBookModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeBookModal() {
  const [bookName, setBookName] = useState('');
  const [authorID, setAuthorID] = useState('');
  const [coverArtURL, setCoverArtURL] = useState('');

  const { authors, createRecipeBook } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const recipeBook = {
      AuthorID: authorID,
      BookName: bookName,
      CoverArtURL: coverArtURL
    };

    try {
      await createRecipeBook(recipeBook);
      document.getElementById('add_recipe_book_modal').close();
    } catch (error) {
      alert('Failed to add book');
    }
  };

  const authorOptions = authors.map(author => ({
    value: author.AuthorID,
    label: author.AuthorName,
  }));

  return (
    <Modal id="add_recipe_book_modal" title="Add Recipe Book">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Book Name"
          value={bookName}
          onChange={(e) => setBookName(e.target.value)}
          required
        />
        <Select
          label="Author"
          value={authorID}
          onChange={(e) => setAuthorID(e.target.value)}
          required
          options={authorOptions}
          defaultOption="Select an author"
        />
        <TextInput
          label="Cover Art URL"
          value={coverArtURL}
          onChange={(e) => setCoverArtURL(e.target.value)}
        />
        <Button>Add Book</Button>
      </form>
    </Modal>
  );
}

export default AddRecipeBookModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import Fuse from 'fuse.js';
import { useData } from '../context/DataContext';
import AddIngredientModal from './AddIngredientModal';
import Table from './ui/Table';
import Button from './ui/Button';
import Modal from './ui/Modal';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeIngredientModal({ recipeId }) {
  const [selectedIngredientId, setSelectedIngredientId] = useState('');
  const [quantity, setQuantity] = useState('');
  const [selectedUnitId, setSelectedUnitId] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [filteredIngredients, setFilteredIngredients] = useState([]);
  const [defaultUnitId, setDefaultUnitId] = useState('');

  const { ingredients, units, categories, subCategories, createRecipeIngredient } = useData();

  useEffect(() => {
    if (ingredients.length && categories.length && subCategories.length) {
      const updatedIngredients = ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      });
      setFilteredIngredients(updatedIngredients);
    }
  }, [ingredients, categories, subCategories]);

  const handleSearch = (e) => {
    const term = e.target.value;
    setSearchTerm(term);

    if (term === '') {
      setFilteredIngredients(ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      }));
    } else {
      const fuse = new Fuse(filteredIngredients, {
        keys: ['IngredientName', 'CategoryName', 'SubCategoryName'],
        threshold: 0.3, // Adjust the threshold as needed
      });

      const result = fuse.search(term);
      setFilteredIngredients(result.map((r) => r.item));
    }
  };

  const handleAddClick = (ingredientId) => {
    const ingredient = ingredients.find((ing) => ing.IngredientID === ingredientId);
    if (ingredient) {
      setSelectedIngredientId(ingredientId);
      setDefaultUnitId(ingredient.PurchaseUnitID || ''); // Handle missing PurchaseUnitID
      setSelectedUnitId(ingredient.PurchaseUnitID || ''); // Set the default unit id
      document.getElementById('quantity_unit_modal').showModal();
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    const data = {
      RecipeID: recipeId,
      IngredientID: selectedIngredientId,
      Quantity: parseFloat(quantity),
      UnitID: selectedUnitId || defaultUnitId,
    };

    try {
      await createRecipeIngredient(data);
      window.location.reload(); // Refresh the page to show the new ingredient
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add ingredient');
    }
  };

  const handleAddNewIngredient = () => {
    document.getElementById('add_ingredient_modal').showModal();
  };

  const handleNewIngredientAdded = (newIngredient) => {
    if (newIngredient && newIngredient.PurchaseUnitID) {
      setFilteredIngredients((prevIngredients) => [
        ...prevIngredients,
        {
          ...newIngredient,
          CategoryName: '',
          SubCategoryName: '',
        },
      ]);

      // Automatically select the newly added ingredient and open the quantity/unit modal
      setSelectedIngredientId(newIngredient.IngredientID);
      setDefaultUnitId(newIngredient.PurchaseUnitID);
      setSelectedUnitId(newIngredient.PurchaseUnitID);
      setQuantity(''); // Reset the quantity
      document.getElementById('quantity_unit_modal').showModal();
    } else {
      alert('New ingredient does not have a PurchaseUnitID');
    }
  };

  const headers = ['Ingredient', 'Category', 'Sub-Category', 'Action'];
  const data = filteredIngredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientName,
      ingredient.CategoryName,
      ingredient.SubCategoryName,
      <Button
        size="sm"
        variant="primary"
        outline={true}
        onClick={() => handleAddClick(ingredient.IngredientID)}
      >
        Add
      </Button>
    ],
  }));

  const unitOptions = units.map(unit => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  return (
    <div>
      <Modal id="add_recipe_ingredient_modal" title="Add Ingredient to Recipe" wide={true}>
        <div className='flex flex-col gap-4 mb-8'>
          <TextInput
            label="Search Ingredient"
            value={searchTerm}
            onChange={handleSearch}
            placeholder="Type to search ingredients..."
          />

          <Button
            outline={true}
            size='sm'
            onClick={handleAddNewIngredient}
          >Add New Ingredient</Button>
        </div>
        <Table headers={headers} data={data} />
      </Modal>

      <Modal id="quantity_unit_modal" title="Enter Quantity and Unit">
        <form onSubmit={handleSubmit} className="flex gap-4 flex-col mt-4">
          <TextInput
            label="Quantity"
            value={quantity}
            onChange={(e) => setQuantity(e.target.value)}
            required
          />

          <Select
            label="Unit"
            value={selectedUnitId || defaultUnitId}
            onChange={(e) => setSelectedUnitId(e.target.value)}
            required
            options={unitOptions}
            defaultOption="Select a unit"
          />
          <Button>Add Ingredient</Button>
        </form>
      </Modal>

      <AddIngredientModal onIngredientAdded={handleNewIngredientAdded} />
    </div>
  );
}

export default AddRecipeIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeModal() {
    const [recipeName, setRecipeName] = useState('');
    const [authorID, setAuthorID] = useState('');
    const [bookID, setBookID] = useState('');
    const [pageNumber, setPageNumber] = useState('');
    const [onlineURL, setOnlineURL] = useState('');
    const [cookTime, setCookTime] = useState('');
    const [difficulty, setDifficulty] = useState('');
    const [type, setType] = useState('');
    const [imageURL, setImageURL] = useState('');
    const [servings, setServings] = useState('');
    const [cuisine, setCuisine] = useState('');
    const [filteredBooks, setFilteredBooks] = useState([]);

    const { authors, recipeBooks, createRecipe } = useData();

    useEffect(() => {
        if (authorID) {
            setFilteredBooks(recipeBooks.filter(book => book.AuthorID === parseInt(authorID)));
        } else {
            setFilteredBooks([]);
        }
    }, [authorID, recipeBooks]);

    const handleAuthorChange = (e) => {
        setAuthorID(e.target.value);
        setBookID(''); // Reset book selection when author changes
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        const recipe = {
            RecipeName: recipeName,
            AuthorID: parseInt(authorID) || null,
            BookID: parseInt(bookID) || null,
            PageNumber: parseInt(pageNumber) || null,
            OnlineURL: onlineURL,
            CookTime: parseInt(cookTime) || null,
            Difficulty: difficulty,
            Type: type,
            ImageURL: imageURL,
            Servings: parseInt(servings) || null,
            Cuisine: cuisine,
        };

        try {
            await createRecipe(recipe);
            document.getElementById('add_recipe_modal').close();
        } catch (error) {
            alert('Failed to add recipe');
        }
    };

    const authorOptions = authors.map(author => ({
        value: author.AuthorID,
        label: author.AuthorName
    }));

    const bookOptions = filteredBooks.map(book => ({
        value: book.BookID,
        label: book.BookName
    }));

    return (
        <Modal id="add_recipe_modal" title="Add Recipe">
            <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
                <TextInput
                    label="Recipe Name"
                    value={recipeName}
                    onChange={(e) => setRecipeName(e.target.value)}
                    required
                />
                <Select
                    label="Author"
                    value={authorID}
                    onChange={handleAuthorChange}
                    options={authorOptions}
                    defaultOption="Select an author"
                />
                <Select
                    label="Book"
                    value={bookID}
                    onChange={(e) => setBookID(e.target.value)}
                    options={bookOptions}
                    defaultOption="Select a book"
                    disabled={!authorID}
                />
                <TextInput
                    label="Page Number"
                    type="number"
                    value={pageNumber}
                    onChange={(e) => setPageNumber(e.target.value)}
                    disabled={!bookID}
                />
                <TextInput
                    label="Online URL"
                    type="url"
                    value={onlineURL}
                    onChange={(e) => setOnlineURL(e.target.value)}
                />
                <TextInput
                    label="Cook Time (minutes)"
                    type="number"
                    value={cookTime}
                    onChange={(e) => setCookTime(e.target.value)}
                    required
                />
                <TextInput
                    label="Difficulty"
                    value={difficulty}
                    onChange={(e) => setDifficulty(e.target.value)}
                />
                <TextInput
                    label="Type"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                />
                <TextInput
                    label="Image URL"
                    type="url"
                    value={imageURL}
                    onChange={(e) => setImageURL(e.target.value)}
                />
                <TextInput
                    label="Servings"
                    type="number"
                    value={servings}
                    onChange={(e) => setServings(e.target.value)}
                    required
                />
                <TextInput
                    label="Cuisine"
                    value={cuisine}
                    onChange={(e) => setCuisine(e.target.value)}
                />
                <Button>Add Recipe</Button>
            </form>
        </Modal>
    );
}

export default AddRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddSubCategoryModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddSubCategoryModal() {
  const [subCategoryName, setSubCategoryName] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const { categories, createSubCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const subCategory = {
      SubCategoryName: subCategoryName,
      CategoryID: categoryId,
    };

    try {
      await createSubCategory(subCategory);
      document.getElementById('add_sub_category_modal').close();
    } catch (error) {
      console.error('Error adding sub-category:', error);
      alert('Failed to add sub-category');
    }
  };

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  return (
    <Modal id="add_sub_category_modal" title="Add Sub-Category">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Sub-Category Name"
          value={subCategoryName}
          onChange={(e) => setSubCategoryName(e.target.value)}
          required
        />        
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Button>Add Sub-Category</Button>
      </form>
    </Modal>
  );
}

export default AddSubCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AuthorTable.jsx ====================

// src/components/AuthorTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import Table from './ui/Table';
import DeleteButton from './ui/DeleteButton';

function AuthorTable() {
  const { authors, deleteAuthor } = useData();

  const handleDelete = async (authorId) => {
    if (window.confirm('Are you sure you want to delete this author?')) {
      await deleteAuthor(authorId);
    }
  };

  const headers = ['#', 'Author Name', 'Actions'];

  const data = authors.map((author, index) => ({
    id: author.AuthorID,
    cells: [
      index + 1,
      author.AuthorName,
      <DeleteButton onClick={() => handleDelete(author.AuthorID)} />      
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default AuthorTable;


==================== C:\Code\recipe-app\client\src\components\Calendar.jsx ====================

// src/components/Calendar.jsx
import React from 'react';
import Button from './ui/Button';
import { format, eachDayOfInterval, parseISO } from 'date-fns';

const Calendar = ({ mealPlan, mealPlanRecipes, recipes, onAddMeal, onModifyMeal }) => {
  const days = eachDayOfInterval({
    start: parseISO(mealPlan.StartDate),
    end: parseISO(mealPlan.EndDate),
  });

  const getMealForDay = (date, mealType) => {
    return mealPlanRecipes.find(
      (mpr) => mpr.Date === format(date, 'yyyy-MM-dd') && mpr.MealType === mealType
    );
  };

  const getRecipeName = (recipeId) => {
    const recipe = recipes.find(r => r.RecipeID === recipeId);
    return recipe ? recipe.RecipeName : 'Unknown Recipe';
  };

  return (
    <div className="grid grid-cols-1 gap-4">
      {days.map((day) => (
        <div key={day} className="border p-2">
          <h3 className="font-bold">{format(day, 'eee, MMM d')}</h3>
          {['Breakfast', 'Lunch', 'Dinner'].map((mealType) => {
            const meal = getMealForDay(day, mealType);
            return (
              <div key={mealType} className="my-2">
                <h4 className="font-semibold">{mealType}</h4>
                {meal ? (
                  <div>
                    <div>{getRecipeName(meal.RecipeID)}</div>
                    <div className="flex gap-2">
                      <Button
                        size="sm"
                        variant="secondary"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID)}
                      >
                        Modify
                      </Button>
                      <Button
                        size="sm"
                        variant="error"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID, true)}
                      >
                        Remove
                      </Button>
                    </div>
                  </div>
                ) : (
                  <Button
                    size="sm"
                    variant="secondary"
                    outline
                    onClick={() => onAddMeal(day, mealType)}
                  >
                    Add {mealType}
                  </Button>
                )}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
};

export default Calendar;


==================== C:\Code\recipe-app\client\src\components\CategoryTable.jsx ====================

// src/components/CategoryTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function CategoryTable() {
  const { categories, subCategories, deleteCategory } = useData();

  const handleDelete = async (categoryId) => {
    if (window.confirm('Are you sure you want to delete this category?')) {
      await deleteCategory(categoryId);
    }
  };

  const headers = ['ID', 'Category Name', 'Sub-Categories', 'Actions'];

  const data = categories.map((category, index) => {
    const categorySubCategories = subCategories.filter(sub => sub.CategoryID === category.CategoryID).map(sub => sub.SubCategoryName).join(', ');

    return {
      id: category.CategoryID,
      cells: [
        category.CategoryID,
        category.CategoryName,
        categorySubCategories || 'None',
        <DeleteButton onClick={() => handleDelete(category.CategoryID)} />
      ],
    };
  });

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default CategoryTable;


==================== C:\Code\recipe-app\client\src\components\IngredientTable.jsx ====================

// src/components/IngredientTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function IngredientTable() {
  const { ingredients, categories, subCategories, units, deleteIngredient } = useData();

  const handleDelete = async (ingredientId) => {
    if (window.confirm('Are you sure you want to delete this ingredient?')) {
      try {
        await deleteIngredient(ingredientId);
      } catch (error) {
        alert('Failed to delete ingredient');
      }
    }
  };

  const getSubCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    return subCategory ? subCategory.SubCategoryName : 'Unknown';
  };

  const getCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    if (subCategory) {
      const category = categories.find(category => category.CategoryID === subCategory.CategoryID);
      return category ? category.CategoryName : 'Unknown';
    }
    return 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const headers = ['ID', 'Ingredient Name', 'Purchase Weight Volume', 'Purchase Unit', 'Category', 'Subcategory', 'Purchase Weight Unit', 'Actions'];

  const data = ingredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientID,
      ingredient.IngredientName,
      ingredient.PurchaseWeightVolume,
      getUnitName(ingredient.PurchaseUnitID),
      getCategoryName(ingredient.SubCategoryID),
      getSubCategoryName(ingredient.SubCategoryID),
      getUnitName(ingredient.PurchaseWeightUnitID),
      <DeleteButton onClick={() => handleDelete(ingredient.IngredientID)} />
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default IngredientTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanRecipeTable.jsx ====================

// src/components/MealPlanRecipeTable.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanRecipeTable({ mealPlanId }) {
    const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

    const handleDelete = async (mealPlanRecipeId) => {
        if (window.confirm('Are you sure you want to delete this meal?')) {
            try {
                await deleteMealPlanRecipe(mealPlanRecipeId);
            } catch (error) {
                alert('Failed to delete meal');
            }
        }
    };

    const getRecipeName = (recipeId) => {
        const recipe = recipes.find(recipe => recipe.RecipeID === recipeId);
        return recipe ? recipe.RecipeName : 'Unknown';
    };

    const headers = ['ID', 'Recipe', 'Meal Type', 'Date', 'Actions'];

    const data = mealPlanRecipes
        .filter(mpr => mpr.MealPlanID === mealPlanId)
        .map((mealPlanRecipe) => ({
            id: mealPlanRecipe.MealPlanRecipeID,
            cells: [
                mealPlanRecipe.MealPlanRecipeID,
                getRecipeName(mealPlanRecipe.RecipeID),
                mealPlanRecipe.MealType,
                mealPlanRecipe.Date,
                <DeleteButton onClick={() => handleDelete(mealPlanRecipe.MealPlanRecipeID)} />,
            ],
        }));

    function handleAddClick() {
        document.getElementById('add_meal_plan_recipe_modal').showModal();
    }

    return (
        <div className="overflow-x-auto">
            <Button size='sm' outline={true} variant='secondary' onClick={handleAddClick}>Add meal</Button>
            <Table headers={headers} data={data} />
        </div>
    );
}

export default MealPlanRecipeTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanTable.jsx ====================

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanTable({ onManageMeals }) {
  const { mealPlans, deleteMealPlan } = useData();

  const handleDelete = async (mealPlanId) => {
    if (window.confirm('Are you sure you want to delete this meal plan?')) {
      try {
        await deleteMealPlan(mealPlanId);
      } catch (error) {
        alert('Failed to delete meal plan');
      }
    }
  };

  const headers = ['ID', 'Plan Name', 'Start Date', 'End Date', 'Actions'];

  const data = mealPlans.map((mealPlan) => ({
    id: mealPlan.MealPlanID,
    cells: [
      mealPlan.MealPlanID,
      mealPlan.PlanName,
      mealPlan.StartDate,
      mealPlan.EndDate,
      <div className="flex gap-2">
        <Button
          size="sm"
          variant="primary"
          outline={true}
          onClick={() => onManageMeals(mealPlan)}
        >
          Manage Meals
        </Button>
        <DeleteButton onClick={() => handleDelete(mealPlan.MealPlanID)} />
      </div>
    ],
  }));

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default MealPlanTable;


==================== C:\Code\recipe-app\client\src\components\NavBar.jsx ====================

// src/components/NavBar.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import ThemeSwitcher from './ThemeSwitcher';
import { useAuth } from '../context/AuthContext';

const NavBar = () => {
  const { isAuthenticated, logout } = useAuth();

  return (
    <nav className="navbar justify-between bg-base-300">
      <a className="btn btn-ghost text-lg">
        <img alt="Logo" src="../vite.svg" className="w-4" />
        Recipe App
      </a>
      <div className="dropdown dropdown-end sm:hidden">
        <button className="btn btn-ghost">
          <i className="fa-solid fa-bars text-lg"></i>
        </button>

        <ul tabIndex="0" className="dropdown-content menu z-[1] bg-base-200 p-6 rounded-box shadow w-56 gap-2">
          <li><a>About</a></li>
          <li><a>Pricing</a></li>
          <li><a>Blog</a></li>
          <li><a>Contact</a></li>
          <a className="btn btn-sm btn-primary">Log in</a>
        </ul>
      </div>
      <div className="hidden sm:flex gap-2">
        <ThemeSwitcher />       
        {isAuthenticated ? (
          <button
            onClick={logout}
            className="btn btn-primary btn-sm"
          >
            Logout
          </button>
        ) : (
          <>
            <Link to="/register" className="btn btn-ghost btn-sm">Register</Link>
            <Link to="/login" className="btn btn-primary btn-sm">Login</Link>
          </>
        )}
      </div>
    </nav>
  );
};

export default NavBar;


==================== C:\Code\recipe-app\client\src\components\PrivateRoute.jsx ====================

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import SideBar from './SideBar';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  return (
    <div className="flex grow">     
      <div className="flex flex-col px-8 py-6 grow">
        {children}
      </div>
    </div>
  );
};

export default PrivateRoute;


==================== C:\Code\recipe-app\client\src\components\RecipeBookTable.jsx ====================

// src/components/RecipeBookTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';

function RecipeBookTable() {
  const { recipeBooks, authors, deleteRecipeBook } = useData();

  const handleDelete = async (bookId) => {
    if (window.confirm('Are you sure you want to delete this book?')) {
      try {
        await deleteRecipeBook(bookId);
      } catch (error) {
        alert('Failed to delete book');
      }
    }
  };

  const getAuthorName = (authorId) => {
    const author = authors.find(author => author.AuthorID === authorId);
    return author ? author.AuthorName : 'Unknown';
  };

  const headers = ['#', 'Book Name', 'Author Name', 'Actions'];

  const data = useMemo(() => 
    recipeBooks.map((book, index) => ({
      id: book.BookID,
      cells: [
        index + 1,
        book.BookName,
        getAuthorName(book.AuthorID),
        <DeleteButton onClick={() => handleDelete(book.BookID)} />,
      ],
    })),
    [recipeBooks, authors]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeBookTable;


==================== C:\Code\recipe-app\client\src\components\RecipeTable.jsx ====================

// src/components/RecipeTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function RecipeTable({ onAddIngredients }) {
  const { recipes, ingredients, units, recipeIngredients, deleteRecipe } = useData();

  const handleDelete = async (recipeId) => {
    if (window.confirm('Are you sure you want to delete this recipe?')) {
      try {
        await deleteRecipe(recipeId);
      } catch (error) {
        alert('Failed to delete recipe');
      }
    }
  };

  const getIngredientName = (ingredientId) => {
    const ingredient = ingredients.find(ingredient => ingredient.IngredientID === ingredientId);
    return ingredient ? ingredient.IngredientName : 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const renderIngredients = (recipeId) => {
    const filteredIngredients = recipeIngredients.filter(ri => ri.RecipeID === recipeId);
    return filteredIngredients.map(ingredient => (
      <li key={ingredient.RecipeIngredientID}>
        {ingredient.Quantity} {getUnitName(ingredient.UnitID)} of {getIngredientName(ingredient.IngredientID)}
      </li>
    ));
  };

  const headers = ['#', 'Recipe Name', 'Author ID', 'Ingredients', 'Actions'];

  const data = useMemo(() =>
    recipes.map((recipe, index) => ({
      id: recipe.RecipeID,
      cells: [
        index + 1,
        recipe.RecipeName,
        recipe.AuthorID,
        <ul className='list-disc ml-4'>
          {renderIngredients(recipe.RecipeID)}
        </ul>,
        <div className='flex gap-2'>
          <Button
            size="sm"
            variant="primary"
            outline={true}
            onClick={() => onAddIngredients(recipe.RecipeID)}
          >
            Add Ingredients
          </Button>
          <DeleteButton onClick={() => handleDelete(recipe.RecipeID)} />
        </div>
      ],
    })),
    [recipes, recipeIngredients, ingredients, units]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeTable;


==================== C:\Code\recipe-app\client\src\components\ShoppingList.jsx ====================

// src/components/ShoppingList.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';

function ShoppingList({ mealPlanId }) {
    const { getShoppingList } = useData();
    const shoppingList = getShoppingList(mealPlanId);

    const headers = ['Ingredient Name', 'Quantity', 'Unit'];

    const data = shoppingList.map((ingredient) => ({
        id: ingredient.IngredientID,
        cells: [
            ingredient.IngredientName,
            ingredient.Quantity,
            ingredient.unit ? ingredient.unit.UnitName : 'Unknown'
        ],
    }));

    return (
        <div className="overflow-x-auto">
            <Table headers={headers} data={data} />
        </div>
    );
}

export default ShoppingList;


==================== C:\Code\recipe-app\client\src\components\ShoppingListModal.jsx ====================

// src/components/ShoppingListModal.jsx

import React from 'react';
import Modal from './ui/Modal';

function ShoppingListModal({ shoppingList }) {
    return (
        <Modal id="shopping_list_modal" title="Generated Shopping List">
            {shoppingList ? (
                <ul className="list-disc ml-4">
                    {shoppingList.map((item, index) => (
                        <li key={index}>{item.Quantity} {item.UnitName} of {item.IngredientName}</li>
                    ))}
                </ul>
            ) : (
                <p>No items in the shopping list.</p>
            )}
        </Modal>
    );
}

export default ShoppingListModal;


==================== C:\Code\recipe-app\client\src\components\SideBar.jsx ====================

// src/components/SideBar.jsx

import React from "react";
import { NavLink } from "react-router-dom";
import { FaTachometerAlt, FaList, FaSitemap, FaLeaf, FaBook, FaUser, FaUtensils, FaCalendarAlt } from "react-icons/fa";

const menuItems = [
  { title: "Ingredients", isTitle: true },
  { title: "Categories", link: "/admin/manage-categories", Icon: FaList },
  { title: "Sub-categories", link: "/admin/manage-sub-categories", Icon: FaSitemap },
  { title: "Ingredients", link: "/admin/manage-ingredients", Icon: FaLeaf },
  { title: "Recipes", isTitle: true },
  { title: "Recipes", link: "/admin/manage-recipes", Icon: FaUtensils },
  { title: "Authors", link: "/admin/manage-authors", Icon: FaUser },
  { title: "Recipe books", link: "/admin/manage-recipe-books", Icon: FaBook },
  { title: "Meal Plans", link: "/admin/manage-meal-plans", Icon: FaCalendarAlt },
];

const MenuItem = ({ item }) => {
  if (item.isTitle) {
    return <li className="menu-title">{item.title}</li>;
  }

  const { Icon } = item;

  return (
    <li>
      <NavLink to={item.link} className={({ isActive }) => (isActive ? "active" : "")}>
        <Icon className="inline mr-2" />
        {item.title}
      </NavLink>
    </li>
  );
};

export default function SideBar() {
  return (
    <aside className="sticky top-0 overflow-y-auto w-60 bg-base-200 p-4 min-w-60">
      <ul className="menu px-0 gap-1">
        {menuItems.map((item, index) => (
          <MenuItem key={index} item={item} />
        ))}
      </ul>
    </aside>
  );
}


==================== C:\Code\recipe-app\client\src\components\SubCategoryTable.jsx ====================

// src/components/SubCategoryTable.jsx
import React, { useState, useMemo } from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function SubCategoryTable() {
  const [selectedCategories, setSelectedCategories] = useState([]);
  const { categories, subCategories, deleteSubCategory } = useData();

  const handleDelete = async (subCategoryId) => {
    if (window.confirm('Are you sure you want to delete this sub-category?')) {
      try {
        await deleteSubCategory(subCategoryId);
      } catch (error) {
        alert('Failed to delete sub-category');
      }
    }
  };

  const getCategoryName = (categoryId) => {
    const category = categories.find(category => category.CategoryID === categoryId);
    return category ? category.CategoryName : 'Unknown';
  };

  const handleCategoryChange = (e) => {
    const selectedValue = parseInt(e.target.value);
    setSelectedCategories(prevSelected =>
      prevSelected.includes(selectedValue)
        ? prevSelected.filter(id => id !== selectedValue)
        : [...prevSelected, selectedValue]
    );
  };

  const filteredSubCategories = useMemo(() => 
    selectedCategories.length > 0
      ? subCategories.filter(subCategory => selectedCategories.includes(subCategory.CategoryID))
      : subCategories,
    [subCategories, selectedCategories]
  );

  const headers = ['#', 'Sub-Category Name', 'Category Name', 'Actions'];

  const data = useMemo(() =>
    filteredSubCategories.map((subCategory, index) => ({
      id: subCategory.SubCategoryID,
      cells: [
        index + 1,
        subCategory.SubCategoryName,
        getCategoryName(subCategory.CategoryID),
        <DeleteButton key={subCategory.SubCategoryID} onClick={() => handleDelete(subCategory.SubCategoryID)} />
      ],
    })),
    [filteredSubCategories, categories]
  );

  return (
    <div className="overflow-x-auto">
      <div className="flex items-center mb-4">
        <label className="mr-2">Filter by Category:</label>
        <select
          className="select select-bordered"
          value=""
          onChange={handleCategoryChange}
        >
          <option value="" disabled>Select Categories</option>
          {categories.map(category => (
            <option
              key={category.CategoryID}
              value={category.CategoryID}
              disabled={selectedCategories.includes(category.CategoryID)}
            >
              {category.CategoryName}
            </option>
          ))}
        </select>
      </div>
      <div className="mb-4">
        {selectedCategories.map(categoryId => (
          <div key={categoryId} className="badge badge-primary mr-2">
            {getCategoryName(categoryId)}
            <button
              type="button"
              className="ml-1"
              onClick={() => setSelectedCategories(selectedCategories.filter(id => id !== categoryId))}
            >
              
            </button>
          </div>
        ))}
      </div>
      <Table headers={headers} data={data} />
    </div>
  );
}

export default SubCategoryTable;


==================== C:\Code\recipe-app\client\src\components\ThemeSwitcher.jsx ====================

import React, { useEffect, useState } from 'react';

const ThemeSwitcher = () => {
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      setTheme(savedTheme);
    }
  }, []);

  const handleThemeChange = (event) => {
    const selectedTheme = event.target.value;
    document.documentElement.setAttribute('data-theme', selectedTheme);
    localStorage.setItem('theme', selectedTheme);
    setTheme(selectedTheme);
  };

  return (   
    <div className="dropdown dropdown-end">
      <select className="btn btn-ghost btn-sm" value={theme} onChange={handleThemeChange}>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="cupcake">Cupcake</option>
        <option value="bumblebee">Bumblebee</option>
        <option value="emerald">Emerald</option>
        <option value="corporate">Corporate</option>
        <option value="synthwave">Synthwave</option>
        <option value="retro">Retro</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="valentine">Valentine</option>
        <option value="halloween">Halloween</option>
        <option value="garden">Garden</option>
        <option value="forest">Forest</option>
        <option value="aqua">Aqua</option>
        <option value="lofi">Lofi</option>
        <option value="pastel">Pastel</option>
        <option value="fantasy">Fantasy</option>
        <option value="wireframe">Wireframe</option>
        <option value="black">Black</option>
        <option value="luxury">Luxury</option>
        <option value="dracula">Dracula</option>
        <option value="cmyk">CMYK</option>
        <option value="autumn">Autumn</option>
        <option value="business">Business</option>
        <option value="acid">Acid</option>
        <option value="lemonade">Lemonade</option>
        <option value="night">Night</option>
        <option value="coffee">Coffee</option>
        <option value="winter">Winter</option>
      </select>
    </div>
  );
};

export default ThemeSwitcher;


==================== C:\Code\recipe-app\client\src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== C:\Code\recipe-app\client\src\components\ui\Card.jsx ====================

// src/components/ui/Card.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import Button from './Button';

const Card = ({ title, count, link, children }) => {
    return (
        <div className="card bg-base-100 w-96 shadow-xl">
            <div className="card-body">
                <h2 className="card-title">{title}</h2>
                {count && <p className="text-2xl font-bold">{count}</p>}
                {children}
                <div className="card-actions justify-end">
                    <Link to={link}>
                        <Button
                            variant='secondary'
                            outline={true}
                        >
                            Manage
                        </Button>
                    </Link>
                </div>
            </div>
        </div>
    );
};

export default Card;


==================== C:\Code\recipe-app\client\src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== C:\Code\recipe-app\client\src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== C:\Code\recipe-app\client\src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== C:\Code\recipe-app\client\src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== C:\Code\recipe-app\client\src\components\ui\TextInput.jsx ====================

import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered', min, max }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
        min={min}
        max={max}
      />
    </label>
  );
};

export default TextInput;


==================== C:\Code\recipe-app\client\src\context\AuthContext.jsx ====================

import React, { createContext, useContext, useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    const storedAuth = localStorage.getItem('isAuthenticated');
    if (storedAuth === 'true') {
      setIsAuthenticated(true);
    }
    setLoading(false); // Indicate that the auth status has been checked
  }, []);

  const login = async (username, password) => {
    const response = await fetch('http://localhost:8000/api/users/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Password: password }),
    });

    if (response.ok) {
      setIsAuthenticated(true);
      localStorage.setItem('isAuthenticated', 'true');
      navigate('/');
    } else {
      alert('Login failed');
    }
  };

  const logout = () => {
    setIsAuthenticated(false);
    localStorage.removeItem('isAuthenticated');
    navigate('/login');
  };

  if (loading) {
    return <div>Loading...</div>; // Display a loading message or spinner while checking auth status
  }

  return (
    <AuthContext.Provider value={{ isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);


==================== C:\Code\recipe-app\client\src\context\DataContext.jsx ====================

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);
  const [mealPlans, setMealPlans] = useState([]);
  const [mealPlanRecipes, setMealPlanRecipes] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
          mealPlansData,
          mealPlanRecipesData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
          apiService.getMealPlans(),
          apiService.getMealPlanRecipes(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
        setMealPlans(mealPlansData);
        setMealPlanRecipes(mealPlanRecipesData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    try {
      const newCategory = await apiService.addCategory(categoryName);
      setCategories([...categories, newCategory]);
    } catch (error) {
      console.error('Error adding category:', error);
    }
  };

  const updateCategory = async (categoryId, categoryName) => {
    try {
      const updatedCategory = await apiService.updateCategory(categoryId, categoryName);
      setCategories(categories.map(cat => (cat.CategoryID === categoryId ? updatedCategory : cat)));
    } catch (error) {
      console.error('Error updating category:', error);
    }
  };

  const deleteCategory = async (categoryId) => {
    try {
      await apiService.deleteCategory(categoryId);
      setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
    } catch (error) {
      console.error('Error deleting category:', error);
    }
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    try {
      const newSubCategory = await apiService.addSubCategory(subCategory);
      setSubCategories([...subCategories, newSubCategory]);
    } catch (error) {
      console.error('Error adding subcategory:', error);
    }
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    try {
      const updatedSubCategory = await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
      setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? updatedSubCategory : sub)));
    } catch (error) {
      console.error('Error updating subcategory:', error);
    }
  };

  const deleteSubCategory = async (subCategoryId) => {
    try {
      await apiService.deleteSubCategory(subCategoryId);
      setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
    } catch (error) {
      console.error('Error deleting subcategory:', error);
    }
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    try {
      const newIngredient = await apiService.addIngredient(ingredient);
      setIngredients([...ingredients, newIngredient]);
    } catch (error) {
      console.error('Error adding ingredient:', error);
    }
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    try {
      const updatedIngredient = await apiService.updateIngredient(ingredientId, ingredient);
      setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? updatedIngredient : ing)));
    } catch (error) {
      console.error('Error updating ingredient:', error);
    }
  };

  const deleteIngredient = async (ingredientId) => {
    try {
      await apiService.deleteIngredient(ingredientId);
      setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
    } catch (error) {
      console.error('Error deleting ingredient:', error);
    }
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    try {
      const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
      setAuthors([...authors, newAuthor]);
    } catch (error) {
      console.error('Error adding author:', error);
    }
  };

  const updateAuthor = async (authorId, author) => {
    try {
      const updatedAuthor = await apiService.updateAuthor(authorId, author);
      setAuthors(authors.map(auth => (auth.AuthorID === authorId ? updatedAuthor : auth)));
    } catch (error) {
      console.error('Error updating author:', error);
    }
  };

  const deleteAuthor = async (authorId) => {
    try {
      await apiService.deleteAuthor(authorId);
      setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
    } catch (error) {
      console.error('Error deleting author:', error);
    }
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    try {
      const newRecipeBook = await apiService.addRecipeBook(recipeBook);
      setRecipeBooks([...recipeBooks, newRecipeBook]);
    } catch (error) {
      console.error('Error adding recipe book:', error);
    }
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    try {
      const updatedRecipeBook = await apiService.updateRecipeBook(recipeBookId, recipeBook);
      setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? updatedRecipeBook : book)));
    } catch (error) {
      console.error('Error updating recipe book:', error);
    }
  };

  const deleteRecipeBook = async (recipeBookId) => {
    try {
      await apiService.deleteRecipeBook(recipeBookId);
      setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
    } catch (error) {
      console.error('Error deleting recipe book:', error);
    }
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    try {
      const newRecipe = await apiService.addRecipe(recipe);
      setRecipes([...recipes, newRecipe]);
    } catch (error) {
      console.error('Error adding recipe:', error);
      throw error; // Ensure to rethrow the error to be caught in the component
    }
  };

  const updateRecipe = async (recipeId, recipe) => {
    try {
      const updatedRecipe = await apiService.updateRecipe(recipeId, recipe);
      setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? updatedRecipe : rec)));
    } catch (error) {
      console.error('Error updating recipe:', error);
    }
  };

  const deleteRecipe = async (recipeId) => {
    try {
      await apiService.deleteRecipe(recipeId);
      setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
    } catch (error) {
      console.error('Error deleting recipe:', error);
    }
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    try {
      const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
      setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
    } catch (error) {
      console.error('Error adding recipe ingredient:', error);
    }
  };

  // Meal Plans CRUD
  const createMealPlan = async (mealPlan) => {
    try {
      const newMealPlan = await apiService.addMealPlan(mealPlan);
      setMealPlans([...mealPlans, newMealPlan]);
    } catch (error) {
      console.error('Error adding meal plan:', error);
    }
  };

  const updateMealPlan = async (mealPlanId, mealPlan) => {
    try {
      const updatedMealPlan = await apiService.updateMealPlan(mealPlanId, mealPlan);
      setMealPlans(mealPlans.map(mp => (mp.MealPlanID === mealPlanId ? updatedMealPlan : mp)));
    } catch (error) {
      console.error('Error updating meal plan:', error);
    }
  };

  const deleteMealPlan = async (mealPlanId) => {
    try {
      await apiService.deleteMealPlan(mealPlanId);
      setMealPlans(mealPlans.filter(mp => mp.MealPlanID !== mealPlanId));
    } catch (error) {
      console.error('Error deleting meal plan:', error);
    }
  };

  // Meal Plan Recipes CRUD
  const createMealPlanRecipe = async (mealPlanRecipe) => {
    try {
      const newMealPlanRecipe = await apiService.addMealPlanRecipe(mealPlanRecipe);
      setMealPlanRecipes([...mealPlanRecipes, newMealPlanRecipe]);
    } catch (error) {
      console.error('Error adding meal plan recipe:', error);
    }
  };

  const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    try {
      const updatedMealPlanRecipe = await apiService.updateMealPlanRecipe(mealPlanRecipeId, mealPlanRecipe);
      setMealPlanRecipes(prev => prev.map(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId ? updatedMealPlanRecipe : mpr));
    } catch (error) {
      console.error('Error updating meal plan recipe:', error);
    }
  };

  const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    try {
      await apiService.deleteMealPlanRecipe(mealPlanRecipeId);
      setMealPlanRecipes(mealPlanRecipes.filter(mpr => mpr.MealPlanRecipeID !== mealPlanRecipeId));
    } catch (error) {
      console.error('Error deleting meal plan recipe:', error);
    }
  };

  const getShoppingList = (mealPlanId) => {
    const filteredMealPlanRecipes = mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlanId);

    const ingredientMap = new Map();

    filteredMealPlanRecipes.forEach(mpr => {
      const recipeId = mpr.RecipeID;
      const recipeIngredientsForRecipe = recipeIngredients.filter(ri => ri.RecipeID === recipeId);

      recipeIngredientsForRecipe.forEach(ri => {
        const ingredient = ingredients.find(ing => ing.IngredientID === ri.IngredientID);
        const unit = units.find(unit => unit.UnitID === ri.UnitID);
        if (ingredient) {
          const existing = ingredientMap.get(ingredient.IngredientID);
          if (existing) {
            existing.Quantity += ri.Quantity;
          } else {
            ingredientMap.set(ingredient.IngredientID, {
              ...ingredient,
              Quantity: ri.Quantity,
              unit: unit || { UnitName: 'Unknown' }
            });
          }
        }
      });
    });

    return Array.from(ingredientMap.values());
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient,
        mealPlans, createMealPlan, updateMealPlan, deleteMealPlan,
        mealPlanRecipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe,
        getShoppingList,
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== C:\Code\recipe-app\client\src\pages\Dashboard.jsx ====================

// src/pages/Home.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';

function Dashboard() {
  const { categories, subCategories, ingredients, authors, recipeBooks, recipes } = useData();

  const items = [
    { name: 'Categories', count: categories.length, link: '/manage-categories' },
    { name: 'Subcategories', count: subCategories.length, link: '/manage-sub-categories' },
    { name: 'Ingredients', count: ingredients.length, link: '/manage-ingredients' },
    { name: 'Authors', count: authors.length, link: '/manage-authors' },
    { name: 'Recipe Books', count: recipeBooks.length, link: '/manage-recipe-books' },
    { name: 'Recipes', count: recipes.length, link: '/manage-recipes' },
  ];

  return (
    <div className="flex flex-wrap gap-4 p-6">
      {items.map((item, index) => (
        <Card key={index} title={item.name} count={item.count} link={item.link} />
      ))}
    </div>
  );
}

export default Dashboard;


==================== C:\Code\recipe-app\client\src\pages\Home.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';
import Button from '../components/ui/Button';
import AddMealPlanModal from '../components/AddMealPlanModal';
import { format, isWithinInterval, parseISO, startOfWeek, endOfWeek, isFuture, isPast } from 'date-fns';
import { Link } from 'react-router-dom';

const Home = () => {
  const { mealPlans } = useData();
  const [isModalOpen, setIsModalOpen] = useState(false);

  const categorizeMealPlans = (mealPlans) => {
    const now = new Date();
    const currentWeekStart = startOfWeek(now, { weekStartsOn: 1 });
    const currentWeekEnd = endOfWeek(now, { weekStartsOn: 1 });

    const currentWeekPlans = mealPlans.filter(plan =>
      isWithinInterval(parseISO(plan.StartDate), { start: currentWeekStart, end: currentWeekEnd }) ||
      isWithinInterval(parseISO(plan.EndDate), { start: currentWeekStart, end: currentWeekEnd })
    );

    const upcomingPlans = mealPlans.filter(plan =>
      isFuture(parseISO(plan.StartDate)) && !currentWeekPlans.includes(plan)
    );

    const previousPlans = mealPlans.filter(plan =>
      isPast(parseISO(plan.EndDate)) && !currentWeekPlans.includes(plan)
    );

    return { currentWeekPlans, upcomingPlans, previousPlans };
  };

  const { currentWeekPlans, upcomingPlans, previousPlans } = categorizeMealPlans(mealPlans);

  const renderMealPlanCard = (plan) => (
    <Link to={`/meal-plan/${plan.MealPlanID}`} key={plan.MealPlanID}>
      <Card title={plan.PlanName} count={1}>
        <p>Start: {format(parseISO(plan.StartDate), 'yyyy-MM-dd')}</p>
        <p>End: {format(parseISO(plan.EndDate), 'yyyy-MM-dd')}</p>
      </Card>
    </Link>
  );

  const openModal = () => {
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_modal').showModal();
  };

  return (
    <div className="p-6">
      <h1 className="text-2xl font-bold mb-4">Current Week</h1>
      {currentWeekPlans.length > 0 ? (
        <div className="flex flex-wrap gap-4 mb-8">
          {currentWeekPlans.map(renderMealPlanCard)}
        </div>
      ) : (
        <div className="mb-8">
          <p>No current meal plans for this week.</p>
          <Button onClick={openModal}>Add Meal Plan</Button>
        </div>
      )}

      <h2 className="text-xl font-bold mb-4">Upcoming Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {upcomingPlans.map(renderMealPlanCard)}
      </div>

      <h2 className="text-xl font-bold mb-4">Previous Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {previousPlans.map(renderMealPlanCard)}
      </div>

      {isModalOpen && <AddMealPlanModal />}
    </div>
  );
};

export default Home;


==================== C:\Code\recipe-app\client\src\pages\Login.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import TextInput from '../components/ui/TextInput';
import Button from '../components/ui/Button';

function Login() {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleSubmit = async (e) => {
        e.preventDefault();
        await login(username, password);
    };

    return (
        <div className="flex items-start p-8 justify-center w-full">
            <div className="flex flex-col w-96 rounded-box bg-base-200 p-6 gap-4">
                <h1 className="text-3xl font-bold self-center">Log in</h1>
                {/* <span className="self-center flex gap-2">
                    Don't have an account?
                    <a className="link link-secondary" onClick={() => navigate('/register')}>Register</a>
                </span>
                <a className="btn btn-neutral">
                    <i className="fa-brands fa-google text-primary"></i>
                    Log in with Google
                </a>
                <div className="divider">OR</div> */}
                <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
                    <TextInput
                        label="Username"
                        value={username}
                        onChange={(e) => setUsername(e.target.value)}
                        required
                    />
                    <label className="form-control w-full">
                        <div className="label">
                            <span className="label-text">Password</span>
                            <a className="label-text link link-accent">Forgot password?</a>
                        </div>
                        <TextInput
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            required
                        />
                    </label>
                    <div className="form-control">
                        <label className="cursor-pointer label self-start gap-2">
                            <input type="checkbox" className="checkbox" />
                            <span className="label-text">Remember me</span>
                        </label>
                    </div>
                    <Button type="submit">Log in</Button>
                </form>
            </div>
        </div>
    );
}

export default Login;


==================== C:\Code\recipe-app\client\src\pages\ManageAuthors.jsx ====================

// src/pages/ManageAuthors.jsx
import React from 'react';
import AuthorTable from '../components/AuthorTable';
import AddAuthorModal from '../components/AddAuthorModal';

function ManageAuthors() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Authors</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_author_modal').showModal()}>Add Author</button>
      </div>
      <AuthorTable />
      <AddAuthorModal />
    </div>
  );
}

export default ManageAuthors;


==================== C:\Code\recipe-app\client\src\pages\ManageCategories.jsx ====================

// src/pages/ManageCategories.jsx
import React from 'react';
import CategoryTable from '../components/CategoryTable';
import AddCategoryModal from '../components/AddCategoryModal';

function ManageCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_category_modal').showModal()}>Add Category</button>
      </div>
      <CategoryTable />
      <AddCategoryModal />
    </div>
  );
}

export default ManageCategories;


==================== C:\Code\recipe-app\client\src\pages\ManageIngredients.jsx ====================

// src/pages/ManageIngredients.jsx
import React from 'react';
import IngredientTable from '../components/IngredientTable';
import AddIngredientModal from '../components/AddIngredientModal';

function ManageIngredients() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Ingredients</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_ingredient_modal').showModal()}>Add Ingredient</button>
      </div>
      <IngredientTable />
      <AddIngredientModal />
    </div>
  );
}

export default ManageIngredients;


==================== C:\Code\recipe-app\client\src\pages\ManageMealPlans.jsx ====================

// src/pages/ManageMealPlans.jsx

import React, { useState } from 'react';
import MealPlanTable from '../components/MealPlanTable';
import AddMealPlanModal from '../components/AddMealPlanModal';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';
import Calendar from '../components/Calendar';
import ShoppingList from '../components/ShoppingList';
import { useData } from '../context/DataContext';

function ManageMealPlans() {
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [addingMeal, setAddingMeal] = useState(null);
  const [modifyingMeal, setModifyingMeal] = useState(null);
  const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

  const handleAddMeals = (mealPlan) => {
    setSelectedMealPlan(mealPlan);
  };

  const handleAddMeal = (date, mealType) => {
    setAddingMeal({ date, mealType });
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = async (mealPlanRecipeId, remove = false) => {
    if (remove) {
      if (window.confirm('Are you sure you want to remove this meal?')) {
        try {
          await deleteMealPlanRecipe(mealPlanRecipeId);
        } catch (error) {
          console.log(error);
          alert('Failed to remove meal');
        }
      }
    } else {
      const mealPlanRecipe = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
      if (mealPlanRecipe) {
        setModifyingMeal(mealPlanRecipe);
        setAddingMeal({
          date: mealPlanRecipe.Date,
          mealType: mealPlanRecipe.MealType,
          recipeId: mealPlanRecipe.RecipeID,
          mealPlanRecipeId: mealPlanRecipeId
        });
        document.getElementById('add_meal_plan_recipe_modal').showModal();
      } else {
        console.error('Meal plan recipe not found:', mealPlanRecipeId);
      }
    }
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Meal Plans</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_meal_plan_modal').showModal()}>Add Meal Plan</button>
      </div>
      <MealPlanTable onManageMeals={handleAddMeals} />
      {selectedMealPlan && (
        <>
          <h2 className="text-2xl font-bold mt-6">Meals for Selected Plan</h2>
          <Calendar
            mealPlan={selectedMealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === selectedMealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
          />
          <h2 className="text-2xl font-bold mt-6">Shopping List</h2>
          <ShoppingList mealPlanId={selectedMealPlan.MealPlanID} />
        </>
      )}
      <AddMealPlanModal />
      {selectedMealPlan && (
        <AddMealPlanRecipeModal
          mealPlanId={selectedMealPlan.MealPlanID}
          startDate={selectedMealPlan.StartDate}
          endDate={selectedMealPlan.EndDate}
          defaultDate={addingMeal?.date}
          defaultMealType={addingMeal?.mealType}
          defaultRecipeId={addingMeal?.recipeId}
          mealPlanRecipeId={addingMeal?.mealPlanRecipeId}
        />
      )}
    </div>
  );
}

export default ManageMealPlans;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipeBooks.jsx ====================

// src/pages/ManageRecipeBooks.jsx
import React from 'react';
import RecipeBookTable from '../components/RecipeBookTable';
import AddRecipeBookModal from '../components/AddRecipeBookModal';

function ManageRecipeBooks() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipe Books</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_recipe_book_modal').showModal()}>Add Recipe Book</button>
      </div>
      <RecipeBookTable />
      <AddRecipeBookModal />
    </div>
  );
}

export default ManageRecipeBooks;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipes.jsx ====================

// src/pages/ManageRecipes.jsx
import React, { useState } from 'react';
import RecipeTable from '../components/RecipeTable';
import AddRecipeModal from '../components/AddRecipeModal';
import AddRecipeIngredientModal from '../components/AddRecipeIngredientModal';
import Button from '../components/ui/Button';

function ManageRecipes() {
  const [selectedRecipeId, setSelectedRecipeId] = useState(null);

  const handleAddIngredients = (recipeId) => {
    setSelectedRecipeId(recipeId);
    document.getElementById('add_recipe_ingredient_modal').showModal();
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipes</h1>
      <div>
        <Button
          size='sm'
          variant='secondary'
          outline={true}
          onClick={() => document.getElementById('add_recipe_modal').showModal()}
        >
          Add Recipe
        </Button>       
      </div>
      <RecipeTable onAddIngredients={handleAddIngredients} />
      <AddRecipeModal />
      <AddRecipeIngredientModal recipeId={selectedRecipeId} />
    </div>
  );
}

export default ManageRecipes;


==================== C:\Code\recipe-app\client\src\pages\ManageSubCategories.jsx ====================

// src/pages/ManageSubCategories.jsx
import React from 'react';
import SubCategoryTable from '../components/SubCategoryTable';
import AddSubCategoryModal from '../components/AddSubCategoryModal';

function ManageSubCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Sub-Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_sub_category_modal').showModal()}>Add Sub-Category</button>
      </div>
      <SubCategoryTable />
      <AddSubCategoryModal />
    </div>
  );
}

export default ManageSubCategories;


==================== C:\Code\recipe-app\client\src\pages\MealPlanDetails.jsx ====================

import React, { useState } from 'react';
import { useParams } from 'react-router-dom';
import { useData } from '../context/DataContext';
import Calendar from '../components/Calendar';
import Button from '../components/ui/Button';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';

const MealPlanDetails = () => {
  const { mealPlanId } = useParams();
  const { mealPlans, mealPlanRecipes, recipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe } = useData();
  const mealPlan = mealPlans.find(mp => mp.MealPlanID === parseInt(mealPlanId));
  const [selectedMeal, setSelectedMeal] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  const handleAddMeal = (date, mealType) => {
    setSelectedMeal({ date, mealType, mealPlanRecipeId: null });
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = (mealPlanRecipeId) => {
    const meal = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
    if (meal) {
      setSelectedMeal({
        date: meal.Date,
        mealType: meal.MealType,
        recipeId: meal.RecipeID,
        mealPlanRecipeId: meal.MealPlanRecipeID,
      });
      setIsModalOpen(true);
      document.getElementById('add_meal_plan_recipe_modal').showModal();
    }
  };

  const handleSaveMeal = async (mealPlanRecipe) => {
    if (selectedMeal.mealPlanRecipeId) {
      await updateMealPlanRecipe(selectedMeal.mealPlanRecipeId, mealPlanRecipe);
    } else {
      await createMealPlanRecipe(mealPlanRecipe);
    }
    setIsModalOpen(false);
  };

  const handleRemoveMeal = async (mealPlanRecipeId) => {
    if (window.confirm('Are you sure you want to remove this meal?')) {
      await deleteMealPlanRecipe(mealPlanRecipeId);
    }
  };

  return (
    <div className="p-6">
      {mealPlan ? (
        <>
          <h1 className="text-2xl font-bold mb-4">{mealPlan.PlanName}</h1>
          <Calendar
            mealPlan={mealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
            onRemoveMeal={handleRemoveMeal}
          />

          <AddMealPlanRecipeModal
            mealPlanId={mealPlan.MealPlanID}
            defaultDate={selectedMeal?.date}
            defaultMealType={selectedMeal?.mealType}
            defaultRecipeId={selectedMeal?.recipeId}
            mealPlanRecipeId={selectedMeal?.mealPlanRecipeId}
            onSave={handleSaveMeal}
          />
        </>
      ) : (
        <p>Meal plan not found.</p>
      )}
    </div>
  );
};

export default MealPlanDetails;


==================== C:\Code\recipe-app\client\src\pages\Register.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';

function Register() {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const { login } = useAuth();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const response = await fetch('http://localhost:8000/api/users/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Email: email, Password: password }),
    });

    if (response.ok) {
      await login(username, password);
    } else {
      alert('Registration failed');
    }
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <div className="p-8 bg-white rounded shadow-md w-96">
        <h2 className="mb-4 text-2xl font-bold text-center">Register</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Email</label>
            <input
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <button type="submit" className="w-full py-2 text-white bg-green-500 rounded hover:bg-green-600">
            Register
          </button>
        </form>
      </div>
    </div>
  );
}

export default Register;


==================== C:\Code\recipe-app\client\src\services\apiService.js ====================

import { supabase } from '../supabaseClient';

// Categories
export const getCategories = async () => {
    const { data, error } = await supabase.from('IngredientCategories').select('*');
    if (error) throw error;
    return data;
};

export const addCategory = async (categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .insert([{ CategoryName: categoryName }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateCategory = async (categoryId, categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .update({ CategoryName: categoryName })
        .eq('CategoryID', categoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteCategory = async (categoryId) => {
    const { data, error } = await supabase.from('IngredientCategories').delete().eq('CategoryID', categoryId).select();
    if (error) throw error;
    return data;
};

// SubCategories
export const getSubCategories = async () => {
    const { data, error } = await supabase.from('IngredientSubCategories').select('*');
    if (error) throw error;
    return data;
};

export const addSubCategory = async (subCategory) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .insert([subCategory])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .update({ SubCategoryName: subCategoryName, CategoryID: categoryId })
        .eq('SubCategoryID', subCategoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteSubCategory = async (subCategoryId) => {
    const { data, error } = await supabase.from('IngredientSubCategories').delete().eq('SubCategoryID', subCategoryId).select();
    if (error) throw error;
    return data;
};

// Ingredients
export const getIngredients = async () => {
    const { data, error } = await supabase.from('Ingredients').select('*');
    if (error) throw error;
    return data;
};

export const addIngredient = async (ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .insert([ingredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateIngredient = async (ingredientId, ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .update(ingredient)
        .eq('IngredientID', ingredientId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteIngredient = async (ingredientId) => {
    const { data, error } = await supabase.from('Ingredients').delete().eq('IngredientID', ingredientId).select();
    if (error) throw error;
    return data;
};

// Authors
export const getAuthors = async () => {
    const { data, error } = await supabase.from('RecipeAuthors').select('*');
    if (error) throw error;
    return data;
};

export const addAuthor = async (authorName, authorImageURL) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .insert([{ AuthorName: authorName, AuthorImageURL: authorImageURL }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateAuthor = async (authorId, author) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .update(author)
        .eq('AuthorID', authorId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteAuthor = async (authorId) => {
    const { data, error } = await supabase.from('RecipeAuthors').delete().eq('AuthorID', authorId).select();
    if (error) throw error;
    return data;
};

// Recipe Books
export const getRecipeBooks = async () => {
    const { data, error } = await supabase.from('RecipeBooks').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeBook = async (recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .insert([recipeBook])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipeBook = async (recipeBookId, recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .update(recipeBook)
        .eq('BookID', recipeBookId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipeBook = async (recipeBookId) => {
    const { data, error } = await supabase.from('RecipeBooks').delete().eq('BookID', recipeBookId).select();
    if (error) throw error;
    return data;
};

// Recipes
export const getRecipes = async () => {
    const { data, error } = await supabase.from('Recipes').select('*');
    if (error) throw error;
    return data;
};

export const addRecipe = async (recipe) => {
    console.log('Inserting recipe:', recipe);
    const { data, error } = await supabase
        .from('Recipes')
        .insert([recipe])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipe = async (recipeId, recipe) => {
    const { data, error } = await supabase
        .from('Recipes')
        .update(recipe)
        .eq('RecipeID', recipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipe = async (recipeId) => {
    const { data, error } = await supabase.from('Recipes').delete().eq('RecipeID', recipeId).select();
    if (error) throw error;
    return data;
};

// Units
export const getUnits = async () => {
    const { data, error } = await supabase.from('Units').select('*');
    if (error) throw error;
    return data;
};

// Recipe Ingredients
export const getRecipeIngredients = async () => {
    const { data, error } = await supabase.from('RecipeIngredients').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeIngredient = async (recipeIngredient) => {
    const { data, error } = await supabase
        .from('RecipeIngredients')
        .insert([recipeIngredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

// Meal Plans
export const getMealPlans = async () => {
    const { data, error } = await supabase.from('MealPlans').select('*');
    if (error) throw error;
    return data;
};

export const addMealPlan = async (mealPlan) => {
    console.log('Inserting meal plan:', mealPlan);
    const { data, error } = await supabase
        .from('MealPlans')
        .insert([mealPlan])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlan = async (mealPlanId, mealPlan) => {
    const { data, error } = await supabase
        .from('MealPlans')
        .update(mealPlan)
        .eq('MealPlanID', mealPlanId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlan = async (mealPlanId) => {
    const { data, error } = await supabase.from('MealPlans')
        .delete()
        .eq('MealPlanID', mealPlanId)
        .select();
    if (error) throw error;
    return data;
};

// Meal Plan Recipes
export const getMealPlanRecipes = async () => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .select('*');
    if (error) throw error;
    return data;
};

export const addMealPlanRecipe = async (mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .insert([mealPlanRecipe])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .update(mealPlanRecipe)
        .eq('MealPlanRecipeID', mealPlanRecipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    const { data, error } = await supabase.from('MealPlanRecipes').delete().eq('MealPlanRecipeID', mealPlanRecipeId).select();
    if (error) throw error;
    return data;
};


==================== C:\Code\recipe-app\client\src\utils\cache.js ====================

// src/utils/cache.js

class Cache {
    constructor() {
      this.cache = {};
    }
  
    set(key, data) {
      this.cache[key] = {
        data,
        timestamp: new Date().getTime(),
      };
    }
  
    get(key, expiryTime = 180000) { // default expiry time is 180 seconds
      const cachedItem = this.cache[key];
      if (cachedItem && (new Date().getTime() - cachedItem.timestamp < expiryTime)) {
        return cachedItem.data;
      }
      return null;
    }
  
    invalidate(key) {
      delete this.cache[key];
    }
  }
  
  const cache = new Cache();
  export default cache;
  

==================== C:\Code\recipe-app\collated_output.txt ====================



==================== client/src\pages\ManageMealPlans.jsx ====================

// src/pages/ManageMealPlans.jsx

import React, { useState, useEffect } from 'react';
import MealPlanTable from '../components/MealPlanTable';
import AddMealPlanModal from '../components/AddMealPlanModal';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';
import Calendar from '../components/Calendar';
import { useData } from '../context/DataContext';

function ManageMealPlans() {
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [addingMeal, setAddingMeal] = useState(null);
  const [modifyingMeal, setModifyingMeal] = useState(null);
  const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

  const handleAddMeals = (mealPlan) => {
    setSelectedMealPlan(mealPlan);
  };

  const handleAddMeal = (date, mealType) => {
    setAddingMeal({ date, mealType });
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = async (mealPlanRecipeId, remove = false) => {
    if (remove) {
      if (window.confirm('Are you sure you want to remove this meal?')) {
        try {
          await deleteMealPlanRecipe(mealPlanRecipeId);
        } catch (error) {
          console.log(error);
          alert('Failed to remove meal');
        }
      }
    } else {
      const mealPlanRecipe = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
      if (mealPlanRecipe) {
        setModifyingMeal(mealPlanRecipe);
        document.getElementById('add_meal_plan_recipe_modal').showModal();
      } else {
        console.error('Meal plan recipe not found:', mealPlanRecipeId);
      }
    }
  };

  useEffect(() => {
    if (modifyingMeal) {
      setAddingMeal({
        date: modifyingMeal.Date,
        mealType: modifyingMeal.MealType,
        recipeId: modifyingMeal.RecipeID,
      });
    }
  }, [modifyingMeal]);

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Meal Plans</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_meal_plan_modal').showModal()}>Add Meal Plan</button>
      </div>
      <MealPlanTable onManageMeals={handleAddMeals} />
      {selectedMealPlan && (
        <>
          <h2 className="text-2xl font-bold mt-6">Meals for Selected Plan</h2>
          <Calendar
            mealPlan={selectedMealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === selectedMealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
          />
        </>
      )}
      <AddMealPlanModal />
      {selectedMealPlan && (
        <AddMealPlanRecipeModal
          mealPlanId={selectedMealPlan.MealPlanID}
          startDate={selectedMealPlan.StartDate}
          endDate={selectedMealPlan.EndDate}
          defaultDate={addingMeal?.date}
          defaultMealType={addingMeal?.mealType}
          defaultRecipeId={addingMeal?.recipeId}
        />
      )}
    </div>
  );
}

export default ManageMealPlans;


==================== client\src\components\MealPlanTable.jsx ====================

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanTable({ onManageMeals }) {
  const { mealPlans, deleteMealPlan } = useData();

  const handleDelete = async (mealPlanId) => {
    if (window.confirm('Are you sure you want to delete this meal plan?')) {
      try {
        await deleteMealPlan(mealPlanId);
      } catch (error) {
        alert('Failed to delete meal plan');
      }
    }
  };

  const headers = ['ID', 'Plan Name', 'Start Date', 'End Date', 'Actions'];

  const data = mealPlans.map((mealPlan) => ({
    id: mealPlan.MealPlanID,
    cells: [
      mealPlan.MealPlanID,
      mealPlan.PlanName,
      mealPlan.StartDate,
      mealPlan.EndDate,
      <div className="flex gap-2">
        <Button
          size="sm"
          variant="primary"
          outline={true}
          onClick={() => onManageMeals(mealPlan)}
        >
          Manage Meals
        </Button>
        <DeleteButton onClick={() => handleDelete(mealPlan.MealPlanID)} />
      </div>
    ],
  }));

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default MealPlanTable;


==================== client\src\context\DataContext.jsx ====================

// src/context/DataContext.jsx

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);
  const [mealPlans, setMealPlans] = useState([]);
  const [mealPlanRecipes, setMealPlanRecipes] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
          mealPlansData,
          mealPlanRecipesData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
          apiService.getMealPlans(),
          apiService.getMealPlanRecipes(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
        setMealPlans(mealPlansData);
        setMealPlanRecipes(mealPlanRecipesData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    const newCategory = await apiService.addCategory(categoryName);
    setCategories([...categories, newCategory]);
  };

  const updateCategory = async (categoryId, categoryName) => {
    await apiService.updateCategory(categoryId, categoryName);
    setCategories(categories.map(cat => (cat.CategoryID === categoryId ? { ...cat, CategoryName: categoryName } : cat)));
  };

  const deleteCategory = async (categoryId) => {
    await apiService.deleteCategory(categoryId);
    setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    const newSubCategory = await apiService.addSubCategory(subCategory);
    setSubCategories([...subCategories, newSubCategory]);
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
    setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? { ...sub, SubCategoryName: subCategoryName, CategoryID: categoryId } : sub)));
  };

  const deleteSubCategory = async (subCategoryId) => {
    await apiService.deleteSubCategory(subCategoryId);
    setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    const newIngredient = await apiService.addIngredient(ingredient);
    setIngredients([...ingredients, newIngredient]);
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    await apiService.updateIngredient(ingredientId, ingredient);
    setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? { ...ing, ...ingredient } : ing)));
  };

  const deleteIngredient = async (ingredientId) => {
    await apiService.deleteIngredient(ingredientId);
    setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
    setAuthors([...authors, newAuthor]);
  };

  const updateAuthor = async (authorId, author) => {
    await apiService.updateAuthor(authorId, author);
    setAuthors(authors.map(auth => (auth.AuthorID === authorId ? { ...auth, ...author } : auth)));
  };

  const deleteAuthor = async (authorId) => {
    await apiService.deleteAuthor(authorId);
    setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    const newRecipeBook = await apiService.addRecipeBook(recipeBook);
    setRecipeBooks([...recipeBooks, newRecipeBook]);
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    await apiService.updateRecipeBook(recipeBookId, recipeBook);
    setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? { ...book, ...recipeBook } : book)));
  };

  const deleteRecipeBook = async (recipeBookId) => {
    await apiService.deleteRecipeBook(recipeBookId);
    setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    const newRecipe = await apiService.addRecipe(recipe);
    setRecipes([...recipes, newRecipe]);
  };

  const updateRecipe = async (recipeId, recipe) => {
    await apiService.updateRecipe(recipeId, recipe);
    setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? { ...rec, ...recipe } : rec)));
  };

  const deleteRecipe = async (recipeId) => {
    await apiService.deleteRecipe(recipeId);
    setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
    setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
  };

  // Meal Plans CRUD
  const createMealPlan = async (mealPlan) => {
    const newMealPlan = await apiService.addMealPlan(mealPlan);
    setMealPlans([...mealPlans, newMealPlan]);
  };

  const updateMealPlan = async (mealPlanId, mealPlan) => {
    await apiService.updateMealPlan(mealPlanId, mealPlan);
    setMealPlans(mealPlans.map(mp => (mp.MealPlanID === mealPlanId ? { ...mp, ...mealPlan } : mp)));
  };

  const deleteMealPlan = async (mealPlanId) => {
    await apiService.deleteMealPlan(mealPlanId);
    setMealPlans(mealPlans.filter(mp => mp.MealPlanID !== mealPlanId));
  };

   // Meal Plan Recipes CRUD
   const createMealPlanRecipe = async (mealPlanRecipe) => {
    const newMealPlanRecipe = await apiService.addMealPlanRecipe(mealPlanRecipe);
    setMealPlanRecipes([...mealPlanRecipes, newMealPlanRecipe]);
  };

  const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    await apiService.updateMealPlanRecipe(mealPlanRecipeId, mealPlanRecipe);
    setMealPlanRecipes(mealPlanRecipes.map(mpr => (mpr.MealPlanRecipeID === mealPlanRecipeId ? { ...mpr, ...mealPlanRecipe } : mpr)));
  };

  const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    await apiService.deleteMealPlanRecipe(mealPlanRecipeId);
    setMealPlanRecipes(mealPlanRecipes.filter(mpr => mpr.MealPlanRecipeID !== mealPlanRecipeId));
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient,
        mealPlans, createMealPlan, updateMealPlan, deleteMealPlan,
        mealPlanRecipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe,      
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== client\src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== client\src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== client\src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== client\src\components\AddMealPlanModal.jsx ====================

// src/components/AddMealPlanModal.jsx

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';

function AddMealPlanModal() {
  const [planName, setPlanName] = useState('');
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');
  const { createMealPlan } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const mealPlan = {
      PlanName: planName,
      StartDate: startDate,
      EndDate: endDate,
      UserID: 1, // Adjust as needed
    };

    try {
      await createMealPlan(mealPlan);
      document.getElementById('add_meal_plan_modal').close();
    } catch (error) {
      alert('Failed to add meal plan');
    }
  };

  return (
    <Modal id="add_meal_plan_modal" title="Add Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Plan Name"
          value={planName}
          onChange={(e) => setPlanName(e.target.value)}
          required
        />
        <TextInput
          label="Start Date"
          type="date"
          value={startDate}
          onChange={(e) => setStartDate(e.target.value)}
          required
        />
        <TextInput
          label="End Date"
          type="date"
          value={endDate}
          onChange={(e) => setEndDate(e.target.value)}
          required
        />
        <Button>Add Meal Plan</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanModal;


==================== client\src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== client\src\components\ui\TextInput.jsx ====================

import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered', min, max }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
        min={min}
        max={max}
      />
    </label>
  );
};

export default TextInput;


==================== client\src\components\AddMealPlanRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import Select from './ui/Select';
import { format, isValid } from 'date-fns';

function AddMealPlanRecipeModal({ mealPlanId, defaultDate, defaultMealType, defaultRecipeId  }) {
  const [recipeId, setRecipeId] = useState('');
  const [date, setDate] = useState(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
  const [mealType, setMealType] = useState(defaultMealType || '');
  const { recipes, createMealPlanRecipe } = useData();

  useEffect(() => {
    setDate(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
    setMealType(defaultMealType || '');
    setRecipeId(defaultRecipeId || '');
  }, [defaultDate, defaultMealType, defaultRecipeId]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!mealPlanId || !recipeId || !mealType || !date) {
      alert('All fields are required.');
      return;
    }

    const mealPlanRecipe = {
      MealPlanID: mealPlanId,
      RecipeID: recipeId,
      MealType: mealType,
      Date: date,
    };

    try {
      await createMealPlanRecipe(mealPlanRecipe);
      document.getElementById('add_meal_plan_recipe_modal').close();
      setRecipeId('');
      setMealType('');
      setDate('');
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add meal plan recipe');
    }
  };

  const recipeOptions = recipes.map(recipe => ({
    value: recipe.RecipeID,
    label: recipe.RecipeName,
  }));

  return (
    <Modal id="add_meal_plan_recipe_modal" title="Add Meal to Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <Select
          label="Recipe"
          value={recipeId}
          onChange={(e) => setRecipeId(e.target.value)}
          required
          options={recipeOptions}
          defaultOption="Select a recipe"
        />
        <Button type="submit">Add Meal</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanRecipeModal;


==================== client\src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== client\src\components\Calendar.jsx ====================

// src/components/Calendar.jsx
import React from 'react';
import Button from './ui/Button';
import { format, eachDayOfInterval, parseISO } from 'date-fns';

const Calendar = ({ mealPlan, mealPlanRecipes, recipes, onAddMeal, onModifyMeal }) => {
  const days = eachDayOfInterval({
    start: parseISO(mealPlan.StartDate),
    end: parseISO(mealPlan.EndDate),
  });

  const getMealForDay = (date, mealType) => {
    return mealPlanRecipes.find(
      (mpr) => mpr.Date === format(date, 'yyyy-MM-dd') && mpr.MealType === mealType
    );
  };

  const getRecipeName = (recipeId) => {
    const recipe = recipes.find(r => r.RecipeID === recipeId);
    return recipe ? recipe.RecipeName : 'Unknown Recipe';
  };

  return (
    <div className="grid grid-cols-7 gap-4">
      {days.map((day) => (
        <div key={day} className="border p-2">
          <h3 className="font-bold">{format(day, 'eee, MMM d')}</h3>
          {['Breakfast', 'Lunch', 'Dinner'].map((mealType) => {
            const meal = getMealForDay(day, mealType);
            return (
              <div key={mealType} className="my-2">
                <h4 className="font-semibold">{mealType}</h4>
                {meal ? (
                  <div>
                    <div>{getRecipeName(meal.RecipeID)}</div>
                    <div className="flex gap-2">
                      <Button
                        size="sm"
                        variant="secondary"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID)}
                      >
                        Modify
                      </Button>
                      <Button
                        size="sm"
                        variant="error"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID, true)}
                      >
                        Remove
                      </Button>
                    </div>
                  </div>
                ) : (
                  <Button
                    size="sm"
                    variant="secondary"
                    outline
                    onClick={() => onAddMeal(day, mealType)}
                  >
                    Add {mealType}
                  </Button>
                )}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
};

export default Calendar;


==================== C:\Code\recipe-app\combine.py ====================

import os

def combine_files(directory, output_file):
    """
    Combines text files from a specified directory into a single output file,
    excluding certain directories, file extensions, and specific filenames.
    """
    excluded_dirs = {'node_modules', '.git', 'migrations', '__pycache__'}
    excluded_extensions = {'.png', '.jpg', '.jpeg', '.gif', '.sqlite', '.sqlite3', '.log'}
    excluded_files = {'package.json', 'package-lock.json', 'yarn.lock', '.gitignore', '.npmrc'}
    
    with open(output_file, 'a', encoding='utf-8') as outfile:
        for root, dirs, files in os.walk(directory):
            dirs[:] = [d for d in dirs if d not in excluded_dirs]
            for file in files:
                if any(file.endswith(ext) for ext in excluded_extensions) or file in excluded_files:
                    continue
                file_path = os.path.join(root, file)
                outfile.write(f"\n\n{'='*20} {file_path} {'='*20}\n\n")
                try:
                    with open(file_path, 'r', encoding='utf-8') as infile:
                        content = infile.read()
                        outfile.write(content)
                except UnicodeDecodeError:
                    with open(file_path, 'r', encoding='latin-1') as infile:
                        content = infile.read()
                        outfile.write(content)

base_dir = os.path.dirname(os.path.abspath(__file__))
client_dir = os.path.join(base_dir, 'client')
backend_dir = os.path.join(base_dir, 'backend')
frontend_dir = os.path.join(base_dir, 'frontend')
server_dir = os.path.join(base_dir, 'server')

client_output = os.path.join(base_dir, 'output_client.txt')
backend_output = os.path.join(base_dir, 'output_backend.txt')
frontend_output = os.path.join(base_dir, 'output_frontend.txt')
server_output = os.path.join(base_dir, 'output_server.txt')
all_output = os.path.join(base_dir, 'output_all.txt')

# Clear or create the output files
open(client_output, 'w', encoding='utf-8').close()
open(backend_output, 'w', encoding='utf-8').close()
open(frontend_output, 'w', encoding='utf-8').close()
open(server_output, 'w', encoding='utf-8').close()
open(all_output, 'w', encoding='utf-8').close()

# Combine client files
combine_files(client_dir, client_output)

# Combine backend files
combine_files(backend_dir, backend_output)

# Combine frontend files
combine_files(frontend_dir, frontend_output)

# Combine server files
combine_files(server_dir, server_output)

# Combine all files
combine_files(base_dir, all_output)

==================== C:\Code\recipe-app\combined_project_files.txt ====================



==================== C:\Code\recipe-app\client/src\App.css ====================



==================== C:\Code\recipe-app\client/src\App.jsx ====================

import React from 'react';
import AppRoutes from './routes';
import NavBar from './components/NavBar';
import { useAuth } from './context/AuthContext';
import SideBar from './components/SideBar';

function App() {
  const { isAuthenticated } = useAuth();

  return (
    <div className="flex flex-col min-h-screen">
      <NavBar />
      <div className="flex grow">
        {isAuthenticated && <SideBar />}
        <AppRoutes />
      </div>
    </div>
  );
}

export default App;


==================== C:\Code\recipe-app\client/src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;


==================== C:\Code\recipe-app\client/src\main.jsx ====================

import React from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { AuthProvider } from './context/AuthContext';
import { DataProvider } from './context/DataContext';

const rootElement = document.getElementById('root');
const root = createRoot(rootElement);

root.render(
  <BrowserRouter>
    <AuthProvider>
      <DataProvider>
        <App />
      </DataProvider>
    </AuthProvider>
  </BrowserRouter>
);


==================== C:\Code\recipe-app\client/src\routes.jsx ====================

// src/routes.jsx
import React from 'react';
import { Routes, Route } from 'react-router-dom';
import Login from './pages/Login';
import Home from './pages/Home';
import Register from './pages/Register';
import ManageCategories from './pages/ManageCategories';
import ManageSubCategories from './pages/ManageSubCategories';
import ManageIngredients from './pages/ManageIngredients';
import ManageRecipes from './pages/ManageRecipes';
import ManageAuthors from './pages/ManageAuthors';
import ManageRecipeBooks from './pages/ManageRecipeBooks'; // Import the new page
import PrivateRoute from './components/PrivateRoute';

function AppRoutes() {
  return (
    <Routes>
      <Route path="/login" element={<Login />} />
      <Route path="/register" element={<Register />} />
      <Route path="/manage-categories" element={<PrivateRoute><ManageCategories /></PrivateRoute>} />
      <Route path="/manage-sub-categories" element={<PrivateRoute><ManageSubCategories /></PrivateRoute>} />
      <Route path="/manage-ingredients" element={<PrivateRoute><ManageIngredients /></PrivateRoute>} />
      <Route path="/manage-recipes" element={<PrivateRoute><ManageRecipes /></PrivateRoute>} />
      <Route path="/manage-authors" element={<PrivateRoute><ManageAuthors /></PrivateRoute>} />
      <Route path="/manage-recipe-books" element={<PrivateRoute><ManageRecipeBooks /></PrivateRoute>} /> {/* Add route */}
      <Route path="/" element={<PrivateRoute><Home /></PrivateRoute>} />
      {/* Add other routes here */}
    </Routes>
  );
}

export default AppRoutes;


==================== C:\Code\recipe-app\client/src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\client/src\components\AddAuthorModal.jsx ====================

// src/components/AddAuthorModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';

function AddAuthorModal() {
  const [authorName, setAuthorName] = useState('');
  const [authorImageURL, setAuthorImageURL] = useState('');
  const { createAuthor } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createAuthor(authorName, authorImageURL);
      document.getElementById('add_author_modal').close();
    } catch (error) {
      alert('Failed to add author');
    }
  };

  return (
    <Modal id="add_author_modal" title="Add Author">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Author Name"
          value={authorName}
          onChange={(e) => setAuthorName(e.target.value)}
          required
        />
        <TextInput
          label="Author Image URL"
          value={authorImageURL}
          onChange={(e) => setAuthorImageURL(e.target.value)}
        />
        <Button>Add Author</Button>
      </form>
    </Modal>
  );
}

export default AddAuthorModal;


==================== C:\Code\recipe-app\client/src\components\AddCategoryModal.jsx ====================

// src/components/AddCategoryModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Button from './ui/Button';

function AddCategoryModal() {
  const [categoryName, setCategoryName] = useState('');
  const { createCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createCategory(categoryName);
      document.getElementById('add_category_modal').close();
    } catch (error) {
      alert('Failed to add category');
    }
  };

  return (
    <Modal id="add_category_modal" title="Add Category">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Category Name"
          value={categoryName}
          onChange={(e) => setCategoryName(e.target.value)}
          required
        />
        <Button>Add Category</Button>
      </form>
    </Modal>
  );
}

export default AddCategoryModal;


==================== C:\Code\recipe-app\client/src\components\AddIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Select from './ui/Select';
import Button from './ui/Button';

function AddIngredientModal({ onIngredientAdded = () => {} }) {
  const [ingredientName, setIngredientName] = useState('');
  const [purchaseWeightVolume, setPurchaseWeightVolume] = useState('');
  const [purchaseUnitId, setPurchaseUnitId] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const [subCategoryId, setSubCategoryId] = useState('');
  const [purchaseWeightUnitId, setPurchaseWeightUnitId] = useState('');

  const { categories, subCategories, units, createIngredient } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const ingredient = {
      IngredientName: ingredientName,
      PurchaseWeightVolume: purchaseWeightVolume,
      PurchaseUnitID: purchaseUnitId,
      SubCategoryID: subCategoryId,
      PurchaseWeightUnitID: purchaseWeightUnitId,
    };

    try {
      const newIngredient = await createIngredient(ingredient);
      onIngredientAdded(newIngredient);
      document.getElementById('add_ingredient_modal').close();
    } catch (error) {
      alert('Failed to add ingredient');
    }
  };

  const filteredSubCategories = subCategories.filter(
    (subCategory) => subCategory.CategoryID === parseInt(categoryId)
  );

  const unitOptions = units.map((unit) => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  const subCategoryOptions = filteredSubCategories.map((subCategory) => ({
    value: subCategory.SubCategoryID,
    label: subCategory.SubCategoryName,
  }));

  return (
    <Modal id="add_ingredient_modal" title="Add Ingredient" className="modal modal-bottom sm:modal-middle">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Ingredient Name"
          value={ingredientName}
          onChange={(e) => setIngredientName(e.target.value)}
          required
        />
        <TextInput
          label="Purchase Weight Volume"
          value={purchaseWeightVolume}
          onChange={(e) => setPurchaseWeightVolume(e.target.value)}
          required
        />
        <Select
          label="Purchase Unit"
          value={purchaseUnitId}
          onChange={(e) => setPurchaseUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Select
          label="Sub-Category"
          value={subCategoryId}
          onChange={(e) => setSubCategoryId(e.target.value)}
          required
          options={subCategoryOptions}
          defaultOption="Select a sub-category"
          disabled={!categoryId} // Disable until a category is selected
        />
        <Select
          label="Purchase Weight Unit"
          value={purchaseWeightUnitId}
          onChange={(e) => setPurchaseWeightUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Button>Add Ingredient</Button>
      </form>
    </Modal>
  );
}

export default AddIngredientModal;


==================== C:\Code\recipe-app\client/src\components\AddRecipeBookModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeBookModal() {
  const [bookName, setBookName] = useState('');
  const [authorID, setAuthorID] = useState('');
  const [coverArtURL, setCoverArtURL] = useState('');

  const { authors, createRecipeBook } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const recipeBook = {
      AuthorID: authorID,
      BookName: bookName,
      CoverArtURL: coverArtURL
    };

    try {
      await createRecipeBook(recipeBook);
      document.getElementById('add_recipe_book_modal').close();
    } catch (error) {
      alert('Failed to add book');
    }
  };

  const authorOptions = authors.map(author => ({
    value: author.AuthorID,
    label: author.AuthorName,
  }));

  return (
    <Modal id="add_recipe_book_modal" title="Add Recipe Book">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Book Name"
          value={bookName}
          onChange={(e) => setBookName(e.target.value)}
          required
        />
        <Select
          label="Author"
          value={authorID}
          onChange={(e) => setAuthorID(e.target.value)}
          required
          options={authorOptions}
          defaultOption="Select an author"
        />
        <TextInput
          label="Cover Art URL"
          value={coverArtURL}
          onChange={(e) => setCoverArtURL(e.target.value)}
        />
        <Button>Add Book</Button>
      </form>
    </Modal>
  );
}

export default AddRecipeBookModal;


==================== C:\Code\recipe-app\client/src\components\AddRecipeIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import Fuse from 'fuse.js';
import { useData } from '../context/DataContext';
import AddIngredientModal from './AddIngredientModal';
import Table from './ui/Table';
import Button from './ui/Button';
import Modal from './ui/Modal';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeIngredientModal({ recipeId }) {
  const [selectedIngredientId, setSelectedIngredientId] = useState('');
  const [quantity, setQuantity] = useState('');
  const [selectedUnitId, setSelectedUnitId] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [filteredIngredients, setFilteredIngredients] = useState([]);
  const [defaultUnitId, setDefaultUnitId] = useState('');

  const { ingredients, units, categories, subCategories, createRecipeIngredient } = useData();

  useEffect(() => {
    if (ingredients.length && categories.length && subCategories.length) {
      const updatedIngredients = ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      });
      setFilteredIngredients(updatedIngredients);
    }
  }, [ingredients, categories, subCategories]);

  const handleSearch = (e) => {
    const term = e.target.value;
    setSearchTerm(term);

    if (term === '') {
      setFilteredIngredients(ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      }));
    } else {
      const fuse = new Fuse(filteredIngredients, {
        keys: ['IngredientName', 'CategoryName', 'SubCategoryName'],
        threshold: 0.3, // Adjust the threshold as needed
      });

      const result = fuse.search(term);
      setFilteredIngredients(result.map((r) => r.item));
    }
  };

  const handleAddClick = (ingredientId) => {
    const ingredient = ingredients.find((ing) => ing.IngredientID === ingredientId);
    if (ingredient) {
      setSelectedIngredientId(ingredientId);
      setDefaultUnitId(ingredient.PurchaseUnitID || ''); // Handle missing PurchaseUnitID
      setSelectedUnitId(ingredient.PurchaseUnitID || ''); // Set the default unit id
      document.getElementById('quantity_unit_modal').showModal();
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    const data = {
      RecipeID: recipeId,
      IngredientID: selectedIngredientId,
      Quantity: parseFloat(quantity),
      UnitID: selectedUnitId || defaultUnitId,
    };

    try {
      await createRecipeIngredient(data);
      window.location.reload(); // Refresh the page to show the new ingredient
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add ingredient');
    }
  };

  const handleAddNewIngredient = () => {
    document.getElementById('add_ingredient_modal').showModal();
  };

  const handleNewIngredientAdded = (newIngredient) => {
    if (newIngredient && newIngredient.PurchaseUnitID) {
      setFilteredIngredients((prevIngredients) => [
        ...prevIngredients,
        {
          ...newIngredient,
          CategoryName: '',
          SubCategoryName: '',
        },
      ]);

      // Automatically select the newly added ingredient and open the quantity/unit modal
      setSelectedIngredientId(newIngredient.IngredientID);
      setDefaultUnitId(newIngredient.PurchaseUnitID);
      setSelectedUnitId(newIngredient.PurchaseUnitID);
      setQuantity(''); // Reset the quantity
      document.getElementById('quantity_unit_modal').showModal();
    } else {
      alert('New ingredient does not have a PurchaseUnitID');
    }
  };

  const headers = ['Ingredient', 'Category', 'Sub-Category', 'Action'];
  const data = filteredIngredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientName,
      ingredient.CategoryName,
      ingredient.SubCategoryName,
      <Button
        size="sm"
        variant="primary"
        outline={true}
        onClick={() => handleAddClick(ingredient.IngredientID)}
      >
        Add
      </Button>
    ],
  }));

  const unitOptions = units.map(unit => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  return (
    <div>
      <Modal id="add_recipe_ingredient_modal" title="Add Ingredient to Recipe" wide={true}>
        <div className='flex flex-col gap-4 mb-8'>
          <TextInput
            label="Search Ingredient"
            value={searchTerm}
            onChange={handleSearch}
            placeholder="Type to search ingredients..."
          />

          <Button
            outline={true}
            size='sm'
            onClick={handleAddNewIngredient}
          >Add New Ingredient</Button>
        </div>
        <Table headers={headers} data={data} />
      </Modal>

      <Modal id="quantity_unit_modal" title="Enter Quantity and Unit">
        <form onSubmit={handleSubmit} className="flex gap-4 flex-col mt-4">
          <TextInput
            label="Quantity"
            value={quantity}
            onChange={(e) => setQuantity(e.target.value)}
            required
          />

          <Select
            label="Unit"
            value={selectedUnitId || defaultUnitId}
            onChange={(e) => setSelectedUnitId(e.target.value)}
            required
            options={unitOptions}
            defaultOption="Select a unit"
          />
          <Button>Add Ingredient</Button>
        </form>
      </Modal>

      <AddIngredientModal onIngredientAdded={handleNewIngredientAdded} />
    </div>
  );
}

export default AddRecipeIngredientModal;


==================== C:\Code\recipe-app\client/src\components\AddRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeModal() {
    const [recipeName, setRecipeName] = useState('');
    const [authorID, setAuthorID] = useState('');
    const [bookID, setBookID] = useState('');
    const [pageNumber, setPageNumber] = useState('');
    const [onlineURL, setOnlineURL] = useState('');
    const [cookTime, setCookTime] = useState('');
    const [difficulty, setDifficulty] = useState('');
    const [type, setType] = useState('');
    const [imageURL, setImageURL] = useState('');
    const [servings, setServings] = useState('');
    const [cuisine, setCuisine] = useState('');
    const [filteredBooks, setFilteredBooks] = useState([]);

    const { authors, recipeBooks, createRecipe } = useData();

    useEffect(() => {
        if (authorID) {
            setFilteredBooks(recipeBooks.filter(book => book.AuthorID === parseInt(authorID)));
        } else {
            setFilteredBooks([]);
        }
    }, [authorID, recipeBooks]);

    const handleAuthorChange = (e) => {
        setAuthorID(e.target.value);
        setBookID(''); // Reset book selection when author changes
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        const recipe = {
            RecipeName: recipeName,
            AuthorID: parseInt(authorID) || null,
            BookID: parseInt(bookID) || null,
            PageNumber: parseInt(pageNumber) || null,
            OnlineURL: onlineURL,
            CookTime: parseInt(cookTime) || null,
            Difficulty: difficulty,
            Type: type,
            ImageURL: imageURL,
            Servings: parseInt(servings) || null,
            Cuisine: cuisine,
        };

        try {
            await createRecipe(recipe);
            document.getElementById('add_recipe_modal').close();
        } catch (error) {
            alert('Failed to add recipe');
        }
    };

    const authorOptions = authors.map(author => ({
        value: author.AuthorID,
        label: author.AuthorName
    }));

    const bookOptions = filteredBooks.map(book => ({
        value: book.BookID,
        label: book.BookName
    }));

    return (
        <Modal id="add_recipe_modal" title="Add Recipe">
            <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
                <TextInput
                    label="Recipe Name"
                    value={recipeName}
                    onChange={(e) => setRecipeName(e.target.value)}
                    required
                />
                <Select
                    label="Author"
                    value={authorID}
                    onChange={handleAuthorChange}
                    required
                    options={authorOptions}
                    defaultOption="Select an author"
                />
                <Select
                    label="Book"
                    value={bookID}
                    onChange={(e) => setBookID(e.target.value)}
                    options={bookOptions}
                    defaultOption="Select a book"
                    disabled={!authorID}
                />
                <TextInput
                    label="Page Number"
                    type="number"
                    value={pageNumber}
                    onChange={(e) => setPageNumber(e.target.value)}
                    disabled={!bookID}
                />
                <TextInput
                    label="Online URL"
                    type="url"
                    value={onlineURL}
                    onChange={(e) => setOnlineURL(e.target.value)}
                />
                <TextInput
                    label="Cook Time (minutes)"
                    type="number"
                    value={cookTime}
                    onChange={(e) => setCookTime(e.target.value)}
                    required
                />
                <TextInput
                    label="Difficulty"
                    value={difficulty}
                    onChange={(e) => setDifficulty(e.target.value)}
                />
                <TextInput
                    label="Type"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                />
                <TextInput
                    label="Image URL"
                    type="url"
                    value={imageURL}
                    onChange={(e) => setImageURL(e.target.value)}
                />
                <TextInput
                    label="Servings"
                    type="number"
                    value={servings}
                    onChange={(e) => setServings(e.target.value)}
                    required
                />
                <TextInput
                    label="Cuisine"
                    value={cuisine}
                    onChange={(e) => setCuisine(e.target.value)}
                />
                <Button>Add Recipe</Button>
            </form>
        </Modal>
    );
}

export default AddRecipeModal;


==================== C:\Code\recipe-app\client/src\components\AddSubCategoryModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddSubCategoryModal() {
  const [subCategoryName, setSubCategoryName] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const { categories, createSubCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const subCategory = {
      SubCategoryName: subCategoryName,
      CategoryID: categoryId,
    };

    try {
      await createSubCategory(subCategory);
      document.getElementById('add_sub_category_modal').close();
    } catch (error) {
      console.error('Error adding sub-category:', error);
      alert('Failed to add sub-category');
    }
  };

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  return (
    <Modal id="add_sub_category_modal" title="Add Sub-Category">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Sub-Category Name"
          value={subCategoryName}
          onChange={(e) => setSubCategoryName(e.target.value)}
          required
        />        
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Button>Add Sub-Category</Button>
      </form>
    </Modal>
  );
}

export default AddSubCategoryModal;


==================== C:\Code\recipe-app\client/src\components\AuthorTable.jsx ====================

// src/components/AuthorTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import Table from './ui/Table';
import DeleteButton from './ui/DeleteButton';

function AuthorTable() {
  const { authors, deleteAuthor } = useData();

  const handleDelete = async (authorId) => {
    if (window.confirm('Are you sure you want to delete this author?')) {
      await deleteAuthor(authorId);
    }
  };

  const headers = ['#', 'Author Name', 'Actions'];

  const data = authors.map((author, index) => ({
    id: author.AuthorID,
    cells: [
      index + 1,
      author.AuthorName,
      <DeleteButton onClick={() => handleDelete(author.AuthorID)} />      
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default AuthorTable;


==================== C:\Code\recipe-app\client/src\components\CategoryTable.jsx ====================

// src/components/CategoryTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function CategoryTable() {
  const { categories, subCategories, deleteCategory } = useData();

  const handleDelete = async (categoryId) => {
    if (window.confirm('Are you sure you want to delete this category?')) {
      await deleteCategory(categoryId);
    }
  };

  const headers = ['ID', 'Category Name', 'Sub-Categories', 'Actions'];

  const data = categories.map((category, index) => {
    const categorySubCategories = subCategories.filter(sub => sub.CategoryID === category.CategoryID).map(sub => sub.SubCategoryName).join(', ');

    return {
      id: category.CategoryID,
      cells: [
        category.CategoryID,
        category.CategoryName,
        categorySubCategories || 'None',
        <DeleteButton onClick={() => handleDelete(category.CategoryID)} />
      ],
    };
  });

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default CategoryTable;


==================== C:\Code\recipe-app\client/src\components\IngredientTable.jsx ====================

// src/components/IngredientTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function IngredientTable() {
  const { ingredients, categories, subCategories, units, deleteIngredient } = useData();

  const handleDelete = async (ingredientId) => {
    if (window.confirm('Are you sure you want to delete this ingredient?')) {
      try {
        await deleteIngredient(ingredientId);
      } catch (error) {
        alert('Failed to delete ingredient');
      }
    }
  };

  const getSubCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    return subCategory ? subCategory.SubCategoryName : 'Unknown';
  };

  const getCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    if (subCategory) {
      const category = categories.find(category => category.CategoryID === subCategory.CategoryID);
      return category ? category.CategoryName : 'Unknown';
    }
    return 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const headers = ['ID', 'Ingredient Name', 'Purchase Weight Volume', 'Purchase Unit', 'Category', 'Subcategory', 'Purchase Weight Unit', 'Actions'];

  const data = ingredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientID,
      ingredient.IngredientName,
      ingredient.PurchaseWeightVolume,
      getUnitName(ingredient.PurchaseUnitID),
      getCategoryName(ingredient.SubCategoryID),
      getSubCategoryName(ingredient.SubCategoryID),
      getUnitName(ingredient.PurchaseWeightUnitID),
      <DeleteButton onClick={() => handleDelete(ingredient.IngredientID)} />
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default IngredientTable;


==================== C:\Code\recipe-app\client/src\components\NavBar.jsx ====================

// src/components/NavBar.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import ThemeSwitcher from './ThemeSwitcher';
import { useAuth } from '../context/AuthContext';

const NavBar = () => {
  const { isAuthenticated, logout } = useAuth();

  return (
    <nav className="navbar justify-between bg-base-300">
      <a className="btn btn-ghost text-lg">
        <img alt="Logo" src="../vite.svg" className="w-4" />
        Recipe App
      </a>
      <div className="dropdown dropdown-end sm:hidden">
        <button className="btn btn-ghost">
          <i className="fa-solid fa-bars text-lg"></i>
        </button>

        <ul tabIndex="0" className="dropdown-content menu z-[1] bg-base-200 p-6 rounded-box shadow w-56 gap-2">
          <li><a>About</a></li>
          <li><a>Pricing</a></li>
          <li><a>Blog</a></li>
          <li><a>Contact</a></li>
          <a className="btn btn-sm btn-primary">Log in</a>
        </ul>
      </div>
      <div className="hidden sm:flex gap-2">
        <ThemeSwitcher />       
        {isAuthenticated ? (
          <button
            onClick={logout}
            className="btn btn-primary btn-sm"
          >
            Logout
          </button>
        ) : (
          <>
            <Link to="/register" className="btn btn-ghost btn-sm">Register</Link>
            <Link to="/login" className="btn btn-primary btn-sm">Login</Link>
          </>
        )}
      </div>
    </nav>
  );
};

export default NavBar;


==================== C:\Code\recipe-app\client/src\components\PrivateRoute.jsx ====================

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import SideBar from './SideBar';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  return (
    <div className="flex grow">     
      <div className="flex flex-col px-8 py-6 grow">
        {children}
      </div>
    </div>
  );
};

export default PrivateRoute;


==================== C:\Code\recipe-app\client/src\components\RecipeBookTable.jsx ====================

// src/components/RecipeBookTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';

function RecipeBookTable() {
  const { recipeBooks, authors, deleteRecipeBook } = useData();

  const handleDelete = async (bookId) => {
    if (window.confirm('Are you sure you want to delete this book?')) {
      try {
        await deleteRecipeBook(bookId);
      } catch (error) {
        alert('Failed to delete book');
      }
    }
  };

  const getAuthorName = (authorId) => {
    const author = authors.find(author => author.AuthorID === authorId);
    return author ? author.AuthorName : 'Unknown';
  };

  const headers = ['#', 'Book Name', 'Author Name', 'Actions'];

  const data = useMemo(() => 
    recipeBooks.map((book, index) => ({
      id: book.BookID,
      cells: [
        index + 1,
        book.BookName,
        getAuthorName(book.AuthorID),
        <DeleteButton onClick={() => handleDelete(book.BookID)} />,
      ],
    })),
    [recipeBooks, authors]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeBookTable;


==================== C:\Code\recipe-app\client/src\components\RecipeTable.jsx ====================

// src/components/RecipeTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function RecipeTable({ onAddIngredients }) {
  const { recipes, ingredients, units, recipeIngredients, deleteRecipe } = useData();

  const handleDelete = async (recipeId) => {
    if (window.confirm('Are you sure you want to delete this recipe?')) {
      try {
        await deleteRecipe(recipeId);
      } catch (error) {
        alert('Failed to delete recipe');
      }
    }
  };

  const getIngredientName = (ingredientId) => {
    const ingredient = ingredients.find(ingredient => ingredient.IngredientID === ingredientId);
    return ingredient ? ingredient.IngredientName : 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const renderIngredients = (recipeId) => {
    const filteredIngredients = recipeIngredients.filter(ri => ri.RecipeID === recipeId);
    return filteredIngredients.map(ingredient => (
      <li key={ingredient.RecipeIngredientID}>
        {ingredient.Quantity} {getUnitName(ingredient.UnitID)} of {getIngredientName(ingredient.IngredientID)}
      </li>
    ));
  };

  const headers = ['#', 'Recipe Name', 'Author ID', 'Ingredients', 'Actions'];

  const data = useMemo(() =>
    recipes.map((recipe, index) => ({
      id: recipe.RecipeID,
      cells: [
        index + 1,
        recipe.RecipeName,
        recipe.AuthorID,
        <ul className='list-disc ml-4'>
          {renderIngredients(recipe.RecipeID)}
        </ul>,
        <div className='flex gap-2'>
          <Button
            size="sm"
            variant="primary"
            outline={true}
            onClick={() => onAddIngredients(recipe.RecipeID)}
          >
            Add Ingredients
          </Button>
          <DeleteButton onClick={() => handleDelete(recipe.RecipeID)} />
        </div>
      ],
    })),
    [recipes, recipeIngredients, ingredients, units]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeTable;


==================== C:\Code\recipe-app\client/src\components\SideBar.jsx ====================

// src/components/SideBar.jsx
import React from "react";
import { NavLink } from "react-router-dom";
import { FaTachometerAlt, FaList, FaSitemap, FaLeaf, FaBook, FaUser, FaUtensils } from "react-icons/fa";

const menuItems = [
  { title: "Dashboard", link: "/", Icon: FaTachometerAlt },
  { title: "Ingredients", isTitle: true },
  { title: "Categories", link: "/manage-categories", Icon: FaList },
  { title: "Sub-categories", link: "/manage-sub-categories", Icon: FaSitemap },
  { title: "Ingredients", link: "/manage-ingredients", Icon: FaLeaf },
  { title: "Recipes", isTitle: true },
  { title: "Recipes", link: "/manage-recipes", Icon: FaUtensils },
  { title: "Authors", link: "/manage-authors", Icon: FaUser },
  { title: "Recipe books", link: "/manage-recipe-books", Icon: FaBook },
];

const MenuItem = ({ item }) => {
  if (item.isTitle) {
    return <li className="menu-title">{item.title}</li>;
  }

  const { Icon } = item;

  return (
    <li>
      <NavLink to={item.link} className={({ isActive }) => (isActive ? "active" : "")}>
        <Icon className="inline mr-2" />
        {item.title}
      </NavLink>
    </li>
  );
};

export default function SideBar() {
  return (
    <aside className="sticky top-0 overflow-y-auto w-60 bg-base-200 p-4 min-w-60">
      <ul className="menu px-0 gap-1">
        {menuItems.map((item, index) => (
          <MenuItem key={index} item={item} />
        ))}
      </ul>
    </aside>
  );
}

==================== C:\Code\recipe-app\client/src\components\SubCategoryTable.jsx ====================

// src/components/SubCategoryTable.jsx
import React, { useState, useMemo } from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function SubCategoryTable() {
  const [selectedCategories, setSelectedCategories] = useState([]);
  const { categories, subCategories, deleteSubCategory } = useData();

  const handleDelete = async (subCategoryId) => {
    if (window.confirm('Are you sure you want to delete this sub-category?')) {
      try {
        await deleteSubCategory(subCategoryId);
      } catch (error) {
        alert('Failed to delete sub-category');
      }
    }
  };

  const getCategoryName = (categoryId) => {
    const category = categories.find(category => category.CategoryID === categoryId);
    return category ? category.CategoryName : 'Unknown';
  };

  const handleCategoryChange = (e) => {
    const selectedValue = parseInt(e.target.value);
    setSelectedCategories(prevSelected =>
      prevSelected.includes(selectedValue)
        ? prevSelected.filter(id => id !== selectedValue)
        : [...prevSelected, selectedValue]
    );
  };

  const filteredSubCategories = useMemo(() => 
    selectedCategories.length > 0
      ? subCategories.filter(subCategory => selectedCategories.includes(subCategory.CategoryID))
      : subCategories,
    [subCategories, selectedCategories]
  );

  const headers = ['#', 'Sub-Category Name', 'Category Name', 'Actions'];

  const data = useMemo(() =>
    filteredSubCategories.map((subCategory, index) => ({
      id: subCategory.SubCategoryID,
      cells: [
        index + 1,
        subCategory.SubCategoryName,
        getCategoryName(subCategory.CategoryID),
        <DeleteButton key={subCategory.SubCategoryID} onClick={() => handleDelete(subCategory.SubCategoryID)} />
      ],
    })),
    [filteredSubCategories, categories]
  );

  return (
    <div className="overflow-x-auto">
      <div className="flex items-center mb-4">
        <label className="mr-2">Filter by Category:</label>
        <select
          className="select select-bordered"
          value=""
          onChange={handleCategoryChange}
        >
          <option value="" disabled>Select Categories</option>
          {categories.map(category => (
            <option
              key={category.CategoryID}
              value={category.CategoryID}
              disabled={selectedCategories.includes(category.CategoryID)}
            >
              {category.CategoryName}
            </option>
          ))}
        </select>
      </div>
      <div className="mb-4">
        {selectedCategories.map(categoryId => (
          <div key={categoryId} className="badge badge-primary mr-2">
            {getCategoryName(categoryId)}
            <button
              type="button"
              className="ml-1"
              onClick={() => setSelectedCategories(selectedCategories.filter(id => id !== categoryId))}
            >
              
            </button>
          </div>
        ))}
      </div>
      <Table headers={headers} data={data} />
    </div>
  );
}

export default SubCategoryTable;


==================== C:\Code\recipe-app\client/src\components\ThemeSwitcher.jsx ====================

import React, { useEffect, useState } from 'react';

const ThemeSwitcher = () => {
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      setTheme(savedTheme);
    }
  }, []);

  const handleThemeChange = (event) => {
    const selectedTheme = event.target.value;
    document.documentElement.setAttribute('data-theme', selectedTheme);
    localStorage.setItem('theme', selectedTheme);
    setTheme(selectedTheme);
  };

  return (   
    <div className="dropdown dropdown-end">
      <select className="btn btn-ghost btn-sm" value={theme} onChange={handleThemeChange}>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="cupcake">Cupcake</option>
        <option value="bumblebee">Bumblebee</option>
        <option value="emerald">Emerald</option>
        <option value="corporate">Corporate</option>
        <option value="synthwave">Synthwave</option>
        <option value="retro">Retro</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="valentine">Valentine</option>
        <option value="halloween">Halloween</option>
        <option value="garden">Garden</option>
        <option value="forest">Forest</option>
        <option value="aqua">Aqua</option>
        <option value="lofi">Lofi</option>
        <option value="pastel">Pastel</option>
        <option value="fantasy">Fantasy</option>
        <option value="wireframe">Wireframe</option>
        <option value="black">Black</option>
        <option value="luxury">Luxury</option>
        <option value="dracula">Dracula</option>
        <option value="cmyk">CMYK</option>
        <option value="autumn">Autumn</option>
        <option value="business">Business</option>
        <option value="acid">Acid</option>
        <option value="lemonade">Lemonade</option>
        <option value="night">Night</option>
        <option value="coffee">Coffee</option>
        <option value="winter">Winter</option>
      </select>
    </div>
  );
};

export default ThemeSwitcher;


==================== C:\Code\recipe-app\client/src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== C:\Code\recipe-app\client/src\components\ui\Card.jsx ====================

// src/components/ui/Card.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import Button from './Button';

const Card = ({ title, count, link }) => {
    return (
        <div className="card bg-base-100 w-96 shadow-xl">
            <div className="card-body">
                <h2 className="card-title">{title}</h2>
                <p className="text-2xl font-bold">{count}</p>
                <div className="card-actions justify-end">
                    <Link to={link}>
                        <Button
                            variant='secondary'
                            outline={true}
                            >
                            Manage
                        </Button>
                    </Link>
                </div>
            </div>
        </div>
    );
};

export default Card;


==================== C:\Code\recipe-app\client/src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== C:\Code\recipe-app\client/src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== C:\Code\recipe-app\client/src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== C:\Code\recipe-app\client/src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== C:\Code\recipe-app\client/src\components\ui\TextInput.jsx ====================

// src/components/ui/TextInput.jsx
import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered' }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
      />
    </label>
  );
};

export default TextInput;


==================== C:\Code\recipe-app\client/src\context\AuthContext.jsx ====================

import React, { createContext, useContext, useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    const storedAuth = localStorage.getItem('isAuthenticated');
    if (storedAuth === 'true') {
      setIsAuthenticated(true);
    }
    setLoading(false); // Indicate that the auth status has been checked
  }, []);

  const login = async (username, password) => {
    const response = await fetch('http://localhost:8000/api/users/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Password: password }),
    });

    if (response.ok) {
      setIsAuthenticated(true);
      localStorage.setItem('isAuthenticated', 'true');
      navigate('/');
    } else {
      alert('Login failed');
    }
  };

  const logout = () => {
    setIsAuthenticated(false);
    localStorage.removeItem('isAuthenticated');
    navigate('/login');
  };

  if (loading) {
    return <div>Loading...</div>; // Display a loading message or spinner while checking auth status
  }

  return (
    <AuthContext.Provider value={{ isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);


==================== C:\Code\recipe-app\client/src\context\DataContext.jsx ====================

// src/context/DataContext.jsx

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    const newCategory = await apiService.addCategory(categoryName);
    setCategories([...categories, newCategory]);
  };

  const updateCategory = async (categoryId, categoryName) => {
    await apiService.updateCategory(categoryId, categoryName);
    setCategories(categories.map(cat => (cat.CategoryID === categoryId ? { ...cat, CategoryName: categoryName } : cat)));
  };

  const deleteCategory = async (categoryId) => {
    await apiService.deleteCategory(categoryId);
    setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    const newSubCategory = await apiService.addSubCategory(subCategory);
    setSubCategories([...subCategories, newSubCategory]);
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
    setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? { ...sub, SubCategoryName: subCategoryName, CategoryID: categoryId } : sub)));
  };

  const deleteSubCategory = async (subCategoryId) => {
    await apiService.deleteSubCategory(subCategoryId);
    setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    const newIngredient = await apiService.addIngredient(ingredient);
    setIngredients([...ingredients, newIngredient]);
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    await apiService.updateIngredient(ingredientId, ingredient);
    setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? { ...ing, ...ingredient } : ing)));
  };

  const deleteIngredient = async (ingredientId) => {
    await apiService.deleteIngredient(ingredientId);
    setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
    setAuthors([...authors, newAuthor]);
  };

  const updateAuthor = async (authorId, author) => {
    await apiService.updateAuthor(authorId, author);
    setAuthors(authors.map(auth => (auth.AuthorID === authorId ? { ...auth, ...author } : auth)));
  };

  const deleteAuthor = async (authorId) => {
    await apiService.deleteAuthor(authorId);
    setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    const newRecipeBook = await apiService.addRecipeBook(recipeBook);
    setRecipeBooks([...recipeBooks, newRecipeBook]);
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    await apiService.updateRecipeBook(recipeBookId, recipeBook);
    setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? { ...book, ...recipeBook } : book)));
  };

  const deleteRecipeBook = async (recipeBookId) => {
    await apiService.deleteRecipeBook(recipeBookId);
    setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    const newRecipe = await apiService.addRecipe(recipe);
    setRecipes([...recipes, newRecipe]);
  };

  const updateRecipe = async (recipeId, recipe) => {
    await apiService.updateRecipe(recipeId, recipe);
    setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? { ...rec, ...recipe } : rec)));
  };

  const deleteRecipe = async (recipeId) => {
    await apiService.deleteRecipe(recipeId);
    setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
    setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== C:\Code\recipe-app\client/src\pages\Home.jsx ====================

// src/pages/Home.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';

function Home() {
  const { categories, subCategories, ingredients, authors, recipeBooks, recipes } = useData();

  const items = [
    { name: 'Categories', count: categories.length, link: '/manage-categories' },
    { name: 'Subcategories', count: subCategories.length, link: '/manage-sub-categories' },
    { name: 'Ingredients', count: ingredients.length, link: '/manage-ingredients' },
    { name: 'Authors', count: authors.length, link: '/manage-authors' },
    { name: 'Recipe Books', count: recipeBooks.length, link: '/manage-recipe-books' },
    { name: 'Recipes', count: recipes.length, link: '/manage-recipes' },
  ];

  return (
    <div className="flex flex-wrap gap-4 p-6">
      {items.map((item, index) => (
        <Card key={index} title={item.name} count={item.count} link={item.link} />
      ))}
    </div>
  );
}

export default Home;


==================== C:\Code\recipe-app\client/src\pages\Login.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import TextInput from '../components/ui/TextInput';
import Button from '../components/ui/Button';

function Login() {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleSubmit = async (e) => {
        e.preventDefault();
        await login(username, password);
    };

    return (
        <div className="flex items-start p-8 justify-center w-full">
            <div className="flex flex-col w-96 rounded-box bg-base-200 p-6 gap-4">
                <h1 className="text-3xl font-bold self-center">Log in</h1>
                {/* <span className="self-center flex gap-2">
                    Don't have an account?
                    <a className="link link-secondary" onClick={() => navigate('/register')}>Register</a>
                </span>
                <a className="btn btn-neutral">
                    <i className="fa-brands fa-google text-primary"></i>
                    Log in with Google
                </a>
                <div className="divider">OR</div> */}
                <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
                    <TextInput
                        label="Username"
                        value={username}
                        onChange={(e) => setUsername(e.target.value)}
                        required
                    />
                    <label className="form-control w-full">
                        <div className="label">
                            <span className="label-text">Password</span>
                            <a className="label-text link link-accent">Forgot password?</a>
                        </div>
                        <TextInput
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            required
                        />
                    </label>
                    <div className="form-control">
                        <label className="cursor-pointer label self-start gap-2">
                            <input type="checkbox" className="checkbox" />
                            <span className="label-text">Remember me</span>
                        </label>
                    </div>
                    <Button type="submit">Log in</Button>
                </form>
            </div>
        </div>
    );
}

export default Login;


==================== C:\Code\recipe-app\client/src\pages\ManageAuthors.jsx ====================

// src/pages/ManageAuthors.jsx
import React from 'react';
import AuthorTable from '../components/AuthorTable';
import AddAuthorModal from '../components/AddAuthorModal';

function ManageAuthors() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Authors</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_author_modal').showModal()}>Add Author</button>
      </div>
      <AuthorTable />
      <AddAuthorModal />
    </div>
  );
}

export default ManageAuthors;


==================== C:\Code\recipe-app\client/src\pages\ManageCategories.jsx ====================

// src/pages/ManageCategories.jsx
import React from 'react';
import CategoryTable from '../components/CategoryTable';
import AddCategoryModal from '../components/AddCategoryModal';

function ManageCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_category_modal').showModal()}>Add Category</button>
      </div>
      <CategoryTable />
      <AddCategoryModal />
    </div>
  );
}

export default ManageCategories;


==================== C:\Code\recipe-app\client/src\pages\ManageIngredients.jsx ====================

// src/pages/ManageIngredients.jsx
import React from 'react';
import IngredientTable from '../components/IngredientTable';
import AddIngredientModal from '../components/AddIngredientModal';

function ManageIngredients() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Ingredients</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_ingredient_modal').showModal()}>Add Ingredient</button>
      </div>
      <IngredientTable />
      <AddIngredientModal />
    </div>
  );
}

export default ManageIngredients;


==================== C:\Code\recipe-app\client/src\pages\ManageRecipeBooks.jsx ====================

// src/pages/ManageRecipeBooks.jsx
import React from 'react';
import RecipeBookTable from '../components/RecipeBookTable';
import AddRecipeBookModal from '../components/AddRecipeBookModal';

function ManageRecipeBooks() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipe Books</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_recipe_book_modal').showModal()}>Add Recipe Book</button>
      </div>
      <RecipeBookTable />
      <AddRecipeBookModal />
    </div>
  );
}

export default ManageRecipeBooks;


==================== C:\Code\recipe-app\client/src\pages\ManageRecipes.jsx ====================

// src/pages/ManageRecipes.jsx
import React, { useState } from 'react';
import RecipeTable from '../components/RecipeTable';
import AddRecipeModal from '../components/AddRecipeModal';
import AddRecipeIngredientModal from '../components/AddRecipeIngredientModal';
import Button from '../components/ui/Button';

function ManageRecipes() {
  const [selectedRecipeId, setSelectedRecipeId] = useState(null);

  const handleAddIngredients = (recipeId) => {
    setSelectedRecipeId(recipeId);
    document.getElementById('add_recipe_ingredient_modal').showModal();
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipes</h1>
      <div>
        <Button
          size='sm'
          variant='secondary'
          outline={true}
          onClick={() => document.getElementById('add_recipe_modal').showModal()}
        >
          Add Recipe
        </Button>       
      </div>
      <RecipeTable onAddIngredients={handleAddIngredients} />
      <AddRecipeModal />
      <AddRecipeIngredientModal recipeId={selectedRecipeId} />
    </div>
  );
}

export default ManageRecipes;


==================== C:\Code\recipe-app\client/src\pages\ManageSubCategories.jsx ====================

// src/pages/ManageSubCategories.jsx
import React from 'react';
import SubCategoryTable from '../components/SubCategoryTable';
import AddSubCategoryModal from '../components/AddSubCategoryModal';

function ManageSubCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Sub-Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_sub_category_modal').showModal()}>Add Sub-Category</button>
      </div>
      <SubCategoryTable />
      <AddSubCategoryModal />
    </div>
  );
}

export default ManageSubCategories;


==================== C:\Code\recipe-app\client/src\pages\Register.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';

function Register() {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const { login } = useAuth();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const response = await fetch('http://localhost:8000/api/users/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Email: email, Password: password }),
    });

    if (response.ok) {
      await login(username, password);
    } else {
      alert('Registration failed');
    }
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <div className="p-8 bg-white rounded shadow-md w-96">
        <h2 className="mb-4 text-2xl font-bold text-center">Register</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Email</label>
            <input
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <button type="submit" className="w-full py-2 text-white bg-green-500 rounded hover:bg-green-600">
            Register
          </button>
        </form>
      </div>
    </div>
  );
}

export default Register;


==================== C:\Code\recipe-app\client/src\services\apiService.js ====================

// src/services/apiService.js
import cache from '../utils/cache';

const API_BASE_URL = 'http://localhost:8000/api';

const fetchData = async (endpoint, options = {}, useCache = true) => {
    const cacheKey = endpoint;

    if (useCache) {
        const cachedData = cache.get(cacheKey);
        if (cachedData) {
            return cachedData;
        }
    }

    const response = await fetch(`${API_BASE_URL}${endpoint}`, {
        headers: { 'Content-Type': 'application/json' },
        ...options,
    });
    if (!response.ok) {
        throw new Error('Failed to fetch data');
    }
    const data = await response.json();

    if (useCache) {
        cache.set(cacheKey, data);
    }

    return data;
};

// Categories
export const getCategories = () => fetchData('/ingredient-categories/');
export const addCategory = async (categoryName) => {
    const newCategory = await fetchData('/ingredient-categories/', {
        method: 'POST',
        body: JSON.stringify({ CategoryName: categoryName }),
    }, false);
    cache.invalidate('/ingredient-categories/');
    return newCategory;
};
export const updateCategory = async (categoryId, categoryName) => {
    const updatedCategory = await fetchData(`/ingredient-categories/${categoryId}`, {
        method: 'PUT',
        body: JSON.stringify({ CategoryName: categoryName }),
    }, false);
    cache.invalidate('/ingredient-categories/');
    return updatedCategory;
};
export const deleteCategory = async (categoryId) => {
    await fetchData(`/ingredient-categories/${categoryId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/ingredient-categories/');
};

// SubCategories
export const getSubCategories = () => fetchData('/ingredient-sub-categories/');
export const addSubCategory = async (subCategory) => {
    const newSubCategory = await fetchData('/ingredient-sub-categories/', {
        method: 'POST',
        body: JSON.stringify(subCategory),
    }, false);
    cache.invalidate('/ingredient-sub-categories/');
    return newSubCategory;
};
export const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    const updatedSubCategory = await fetchData(`/ingredient-sub-categories/${subCategoryId}`, {
        method: 'PUT',
        body: JSON.stringify({ SubCategoryName: subCategoryName, CategoryID: categoryId }),
    }, false);
    cache.invalidate('/ingredient-sub-categories/');
    return updatedSubCategory;
};
export const deleteSubCategory = async (subCategoryId) => {
    await fetchData(`/ingredient-sub-categories/${subCategoryId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/ingredient-sub-categories/');
};

// Ingredients
export const getIngredients = () => fetchData('/ingredients/');
export const addIngredient = async (ingredient) => {
    const newIngredient = await fetchData('/ingredients/', {
        method: 'POST',
        body: JSON.stringify(ingredient),
    }, false);
    cache.invalidate('/ingredients/');
    return newIngredient;
};
export const updateIngredient = async (ingredientId, ingredient) => {
    const updatedIngredient = await fetchData(`/ingredients/${ingredientId}`, {
        method: 'PUT',
        body: JSON.stringify(ingredient),
    }, false);
    cache.invalidate('/ingredients/');
    return updatedIngredient;
};
export const deleteIngredient = async (ingredientId) => {
    await fetchData(`/ingredients/${ingredientId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/ingredients/');
};

// Authors
export const getAuthors = () => fetchData('/recipe-authors/');
export const addAuthor = async (authorName, authorImageURL) => {
    const newAuthor = await fetchData('/recipe-authors/', {
        method: 'POST',
        body: JSON.stringify({ AuthorName: authorName, AuthorImageURL: authorImageURL }),
    }, false);
    cache.invalidate('/recipe-authors/');
    return newAuthor;
};
export const updateAuthor = async (authorId, author) => {
    const updatedAuthor = await fetchData(`/recipe-authors/${authorId}`, {
        method: 'PUT',
        body: JSON.stringify(author),
    }, false);
    cache.invalidate('/recipe-authors/');
    return updatedAuthor;
};
export const deleteAuthor = async (authorId) => {
    await fetchData(`/recipe-authors/${authorId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/recipe-authors/');
};

// Recipe Books
export const getRecipeBooks = () => fetchData('/recipe-books/');
export const addRecipeBook = async (recipeBook) => {
    const newRecipeBook = await fetchData('/recipe-books/', {
        method: 'POST',
        body: JSON.stringify(recipeBook),
    }, false);
    cache.invalidate('/recipe-books/');
    return newRecipeBook;
};
export const updateRecipeBook = async (recipeBookId, recipeBook) => {
    const updatedRecipeBook = await fetchData(`/recipe-books/${recipeBookId}`, {
        method: 'PUT',
        body: JSON.stringify(recipeBook),
    }, false);
    cache.invalidate('/recipe-books/');
    return updatedRecipeBook;
};
export const deleteRecipeBook = async (recipeBookId) => {
    await fetchData(`/recipe-books/${recipeBookId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/recipe-books/');
};

// Recipes
export const getRecipes = () => fetchData('/recipes/');
export const addRecipe = async (recipe) => {
    const newRecipe = await fetchData('/recipes/', {
        method: 'POST',
        body: JSON.stringify(recipe),
    }, false);
    cache.invalidate('/recipes/');
    return newRecipe;
};
export const updateRecipe = async (recipeId, recipe) => {
    const updatedRecipe = await fetchData(`/recipes/${recipeId}`, {
        method: 'PUT',
        body: JSON.stringify(recipe),
    }, false);
    cache.invalidate('/recipes/');
    return updatedRecipe;
};
export const deleteRecipe = async (recipeId) => {
    await fetchData(`/recipes/${recipeId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/recipes/');
};

// Units
export const getUnits = () => fetchData('/units/');

// Recipe Ingredients
export const getRecipeIngredients = () => fetchData('/recipe-ingredients/');

export const addRecipeIngredient = async (recipeIngredient) => {
  const newRecipeIngredient = await fetchData('/recipe-ingredients/', {
    method: 'POST',
    body: JSON.stringify(recipeIngredient),
  }, false);
  cache.invalidate('/recipe-ingredients/');
  return newRecipeIngredient;
};

==================== C:\Code\recipe-app\client/src\utils\cache.js ====================

// src/utils/cache.js

class Cache {
    constructor() {
      this.cache = {};
    }
  
    set(key, data) {
      this.cache[key] = {
        data,
        timestamp: new Date().getTime(),
      };
    }
  
    get(key, expiryTime = 180000) { // default expiry time is 180 seconds
      const cachedItem = this.cache[key];
      if (cachedItem && (new Date().getTime() - cachedItem.timestamp < expiryTime)) {
        return cachedItem.data;
      }
      return null;
    }
  
    invalidate(key) {
      delete this.cache[key];
    }
  }
  
  const cache = new Cache();
  export default cache;
  

==================== C:\Code\recipe-app\create_db.py ====================

from sqlalchemy import create_engine, Column, Integer, String, Float, Text, ForeignKey, Date, Boolean, TIMESTAMP, CheckConstraint
from sqlalchemy.orm import relationship, sessionmaker, declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = 'Users'
    UserID = Column(Integer, primary_key=True, autoincrement=True)
    Username = Column(String, nullable=False, unique=True)
    PasswordHash = Column(String, nullable=False)
    Email = Column(String, nullable=False, unique=True)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class IngredientCategory(Base):
    __tablename__ = 'IngredientCategories'
    CategoryID = Column(Integer, primary_key=True, autoincrement=True)
    CategoryName = Column(String, nullable=False, unique=True)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class IngredientSubCategory(Base):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = Column(Integer, primary_key=True, autoincrement=True)
    CategoryID = Column(Integer, ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = Column(String, nullable=False)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class Unit(Base):
    __tablename__ = 'Units'
    UnitID = Column(Integer, primary_key=True, autoincrement=True)
    UnitName = Column(String, nullable=False, unique=True)
    Abbreviation = Column(String, nullable=False, unique=True)

class UnitConversion(Base):
    __tablename__ = 'UnitConversions'
    FromUnitID = Column(Integer, ForeignKey('Units.UnitID'), primary_key=True)
    ToUnitID = Column(Integer, ForeignKey('Units.UnitID'), primary_key=True)
    ConversionFactor = Column(Float, nullable=False)

class Ingredient(Base):
    __tablename__ = 'Ingredients'
    IngredientID = Column(Integer, primary_key=True, autoincrement=True)
    SubCategoryID = Column(Integer, ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = Column(String, nullable=False)
    PurchaseUnitID = Column(Integer, ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = Column(Float)
    PurchaseWeightUnitID = Column(Integer, ForeignKey('Units.UnitID'))
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class RecipeAuthor(Base):
    __tablename__ = 'RecipeAuthors'
    AuthorID = Column(Integer, primary_key=True, autoincrement=True)
    AuthorName = Column(String, nullable=False)
    AuthorImageURL = Column(String)

class RecipeBook(Base):
    __tablename__ = 'RecipeBooks'
    BookID = Column(Integer, primary_key=True, autoincrement=True)
    AuthorID = Column(Integer, ForeignKey('RecipeAuthors.AuthorID'), nullable=False)
    BookName = Column(String, nullable=False)
    CoverArtURL = Column(String)

class Recipe(Base):
    __tablename__ = 'Recipes'
    RecipeID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'))
    RecipeName = Column(String, nullable=False)
    AuthorID = Column(Integer, ForeignKey('RecipeAuthors.AuthorID'))
    BookID = Column(Integer, ForeignKey('RecipeBooks.BookID'))
    PageNumber = Column(Integer)
    OnlineURL = Column(String)
    CookTime = Column(Integer)
    Difficulty = Column(String)
    Type = Column(String)
    ImageURL = Column(String)
    Servings = Column(Integer)
    Cuisine = Column(String)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class RecipeStep(Base):
    __tablename__ = 'RecipeSteps'
    StepID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    StepNumber = Column(Integer, nullable=False)
    Description = Column(Text, nullable=False)

class RecipeIngredientSection(Base):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    SectionName = Column(String, nullable=False)

class RecipeIngredient(Base):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    IngredientID = Column(Integer, ForeignKey('Ingredients.IngredientID'), nullable=False)
    SectionID = Column(Integer, ForeignKey('RecipeIngredientSections.SectionID'))
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey('Units.UnitID'))

class MealPlan(Base):
    __tablename__ = 'MealPlans'
    MealPlanID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    PlanName = Column(String)
    StartDate = Column(Date)
    EndDate = Column(Date)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class MealPlanRecipe(Base):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = Column(Integer, primary_key=True, autoincrement=True)
    MealPlanID = Column(Integer, ForeignKey('MealPlans.MealPlanID'), nullable=False)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    MealType = Column(String)
    Date = Column(Date, nullable=False)

class ShoppingList(Base):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class ShoppingListIngredient(Base):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = Column(Integer, primary_key=True, autoincrement=True)
    ShoppingListID = Column(Integer, ForeignKey('ShoppingLists.ShoppingListID'), nullable=False)
    MealPlanRecipeID = Column(Integer, ForeignKey('MealPlanRecipes.MealPlanRecipeID'))
    IngredientID = Column(Integer, ForeignKey('Ingredients.IngredientID'), nullable=False)
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey('Units.UnitID'))
    IsManual = Column(Boolean, default=False)
    AlreadyHave = Column(Boolean, default=False)
    Purchased = Column(Boolean, default=False)

class Tag(Base):
    __tablename__ = 'Tags'
    TagID = Column(Integer, primary_key=True, autoincrement=True)
    TagName = Column(String, nullable=False, unique=True)

class RecipeTag(Base):
    __tablename__ = 'RecipeTags'
    RecipeTagID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    TagID = Column(Integer, ForeignKey('Tags.TagID'), nullable=False)

class UserFavorite(Base):
    __tablename__ = 'UserFavorites'
    FavoriteID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class RecipeReview(Base):
    __tablename__ = 'RecipeReviews'
    ReviewID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    Rating = Column(Float, nullable=False)
    ReviewText = Column(Text)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

    __table_args__ = (
        CheckConstraint('Rating >= 0.5 AND Rating <= 5', name='check_rating_range'),
    )

# Define your database URI (in this case, a SQLite database)
engine = create_engine('sqlite:///mydatabase2.db')

# Create all tables
Base.metadata.create_all(engine)

# Optional: Create a session to interact with the database
Session = sessionmaker(bind=engine)
session = Session()


==================== C:\Code\recipe-app\frontend.py ====================

import os
import re

BASE_PATH = 'client/src'

def list_files_and_dirs(path):
    """List all files and directories in the given path."""
    items = os.listdir(path)
    files = [item for item in items if os.path.isfile(os.path.join(path, item))]
    dirs = [item for item in items if os.path.isdir(os.path.join(path, item))]
    return files, dirs

def display_menu(files, dirs):
    """Display a menu of files and directories."""
    for i, dir_name in enumerate(dirs):
        print(f"{i + 1}. [DIR] {dir_name}")
    for i, file_name in enumerate(files):
        print(f"{i + 1 + len(dirs)}. {file_name}")

def get_choice(files, dirs):
    """Get the user's choice from the menu."""
    while True:
        try:
            choice = int(input("\nEnter the number of your choice: ")) - 1
            if 0 <= choice < len(dirs):
                return 'DIR', dirs[choice]
            elif len(dirs) <= choice < len(files) + len(dirs):
                return 'FILE', files[choice - len(dirs)]
            else:
                print("Invalid choice. Please try again.")
        except ValueError:
            print("Invalid input. Please enter a number.")

def navigate_to_file():
    """Navigate through directories to select a file."""
    current_path = BASE_PATH

    while True:
        print(f"\nCurrent path: {current_path}")
        files, dirs = list_files_and_dirs(current_path)
        display_menu(files, dirs)

        choice_type, choice_name = get_choice(files, dirs)

        if choice_type == 'DIR':
            current_path = os.path.join(current_path, choice_name)
        elif choice_type == 'FILE':
            return os.path.join(current_path, choice_name)

def get_imports(file_path):
    """Extract the import statements from a file and return the paths of the imported files."""
    with open(file_path, 'r') as file:
        content = file.read()

    imports = re.findall(r"import\s.*\sfrom\s*['\"](.*)['\"]", content)
    return imports

def resolve_import_path(import_path, base_path):
    """Resolve the absolute path of an import statement."""
    if import_path.startswith('.'):
        return os.path.normpath(os.path.join(base_path, import_path + '.jsx'))  # Assuming .jsx files, you might need to adjust this
    else:
        # Assuming all non-relative imports are from 'client/src'
        return os.path.normpath(os.path.join(BASE_PATH, import_path + '.jsx'))

def collate_file(file_path, visited, base_path, output):
    """Recursively collate the contents of the file and its imports."""
    if file_path in visited:
        return

    visited.add(file_path)

    with open(file_path, 'r') as file:
        content = file.read()
        output.write(f"\n\n==================== {file_path} ====================\n\n")
        output.write(content)
    
    imports = get_imports(file_path)
    for imp in imports:
        import_path = resolve_import_path(imp, base_path)
        if os.path.exists(import_path):
            collate_file(import_path, visited, os.path.dirname(import_path), output)
        else:
            print(f"Warning: Import {imp} not found at {import_path}")

def main():
    output_file = 'collated_output.txt'
    visited = set()

    start_file_path = navigate_to_file()

    if not os.path.exists(start_file_path):
        print(f"Error: {start_file_path} does not exist.")
        return

    with open(output_file, 'w') as output:
        collate_file(start_file_path, visited, os.path.dirname(start_file_path), output)

    print(f"Collation complete. See {output_file}")

if __name__ == "__main__":
    main()


==================== C:\Code\recipe-app\mydatabase2 - Copy.db ====================

SQLite format 3   @     '                                                               ' .n       
+7
 :
{		yf)                                                                                                                                                                                                                                                                                                                                         6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)N
++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversionso;;utableIngredientSubCategoriesIngredientSubCategories
CREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)
	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags=	''9tableRecipeAuthorsRecipeAuthors
CREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))= indexsqlite_autoindex_Units_2Units	)= indexsqlite_autoindex_Units_1Units	555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategoriestableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("UserID"), 
	UNIQUE ("Username"), 
	UNIQUE ("Email")
))= indexsqlite_autoindex_Users_2Users)= indexsqlite_autoindex_Users_1Users      
   
 s
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       #;AAuniqueuser5$2b$12$lNeLnAWfpicHRFB7bvU.heTGqViRKbp3NGvXATXilNM2U3mJ8UJiWuniqueuser5@example.com2024-06-17 11:40:05.0389152024-06-17 11:40:05.038915 #;AAuniqueuser4$2b$12$nGEFLwgtQuvfUwKEoc3hq.D5MmOHUXC0RhRoJmxLZ3FVHYrv9KW9quniqueuser4@example.com2024-06-17 11:38:12.0036062024-06-17 11:38:12.003606 7AAtestuser2$2b$12$cftdrhDGVJIAfS8KLdFQEOdhIpsBUfu6VUMFqf7N5g4iVtYRrwvnqtestuser3@example.com2024-06-17 11:33:43.1961722024-06-17 11:33:43.196172U %533testuserpasswordhashtestuser@example.com2024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          #uniqueuser5#uniqueuser4
testuser2	testuser
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ;uniqueuser5@example.com;uniqueuser4@example.com7testuser3@example.com5	testuser@example.com
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              1 33Fruits2024-06-15 18:14:332024-06-15 18:14:335 !33Vegetables2024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
Fruits
!	Vegetables
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            !MillilitermL
 LiterL	 Gramg Kilogramkg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      !Milliliter	LiterGram	Kilogram
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           mLLg	kg
   @ n@                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                , KBob Brownhttp://example.com/bobbrown.jpg4 'SAlice Johnsonhttp://example.com/alicejohnson.jpg. !MJane Smithhttp://example.com/janesmith.jpg* IJohn Doehttp://example.com/johndoe.jpg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #Gluten-Free Vegan
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #Gluten-Free	Vegan
   T T                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      3 33Citrus2024-06-15 18:14:332024-06-15 18:14:33; 	+33Root Vegetables2024-06-15 18:14:332024-06-15 18:14:338 	%33Leafy Greens2024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     	
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          		
    P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 = -[Gourmet Delightshttp://example.com/gourmet_delights.jpg= -[Family Favoriteshttp://example.com/family_favorites.jpg3 #QQuick Mealshttp://example.com/quick_meals.jpg: 	+YHealthy Cookinghttp://example.com/healthy_cooking.jpg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           M 	#!!33Weekly Plan2024-06-102024-06-172024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             + 	332024-06-15 18:14:332024-06-15 18:14:33
    O[


U
 i+Q                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      O			AABroccoli?      2024-06-15 18:38:12.5317182024-06-15 18:38:12.S	 	)		AAGreen Broccoli?      2024-06-15 18:36:48.4101192024-06-15 18:43:30.643991:	 			33Egg?2024-06-15 18:18:232024-06-15 18:18:23<	 			33Flour?      2024-06-15 18:18:232024-06-15 18:18:235	 		33Milk2024-06-15 18:18:232024-06-15 18:18:23=	 			33Cheese?2024-06-15 18:18:232024-06-15 18:18:23?
	 			33Tortilla?3333332024-06-15 18:18:232024-06-15 18:18:233	 				33Beef2024-06-15 18:18:232024-06-15 18:18:23B	 	33Soy Sauce?2024-06-15 18:18:232024-06-15 18:18:23B
	 	#		33Bell Pepper?      2024-06-15 18:18:232024-06-15 18:18:23=		 	)			33Chicken Breast2024-06-15 18:18:232024-06-15 18:18:23=	 			33Carrot?3333332024-06-15 18:18:232024-06-15 18:18:23=	 			33Tomato?      2024-06-15 18:18:232024-06-15 18:18:23=	 			33Garlic?2024-06-15 18:18:232024-06-15 18:18:23<	 			33Onion?      2024-06-15 18:18:232024-06-15 18:18:236	 				33Lentils2024-06-15 18:18:232024-06-15 18:18:237	 		33Orange2024-06-15 18:14:332024-06-15 18:14:33>	 		33Carrot?      2024-06-15 18:14:332024-06-15 18:14:336	 				33Spinach2024-06-15 18:14:332024-06-15 18:14:33
   
 52
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      2 	3O#U3AUpdated Recipe Namehttp://example.com/updated_recipe#MediumMain Courseht W	'     33Carrot Soup 1EasySoupAmerican2024-06-15 18:14:332024-06-15 18:14:33s 	C 33Pancakeshttp://example.com/pancakesEasyBreakfastAmerican2024-06-15 18:18:232024-06-15 18:18:23z 	!G# 33Beef Tacos#http://example.com/beef_tacos(MediumMain CourseMexican2024-06-15 18:18:232024-06-15 18:18:23 	-S# 33Chicken Stir Fryhttp://example.com/chicken_stir_fryEasyMain CourseChinese2024-06-15 18:18:232024-06-15 18:18:23t 	#I 33Lentil Soup
http://example.com/lentil_soup-MediumSoupIndian2024-06-15 18:18:232024-06-15 18:18:23S 	#     33Carrot SoupEasySoupAmerican2024-06-15 18:14:332024-06-15 18:14:33
  
+7
 :
{		yf)                                                                                                                                                                                                                                                                                                                                                                                                                                             6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)N
++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversionso;;utableIngredientSubCategoriesIngredientSubCategories
CREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)
	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags=	''9tableRecipeAuthorsRecipeAuthors
CREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))= indexsqlite_autoindex_Units_2Units	)= indexsqlite_autoindex_Units_1Units	555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategoriestableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("UserID"), 
	UNIQUE ("Username"), 
	UNIQUE ("Email")
))= indexsqlite_autoindex_Users_2Users)= indexsqlite_autoindex_Users_1Users       
   	  	jg=                                                                                                                                                     6;;tableShoppingListIngredientsShoppingListIngredientsCREATE TABLE "ShoppingListIngredients" (
	"ShoppingListIngredientID" INTEGER NOT NULL, 
	"ShoppingListID" INTEGER NOT NULL, 
	"MealPlanRecipeID" INTEGER, 
	"IngredientID" INTEGER NOT NULL, 
	"Quantity" FLOAT, 
	"UnitID" INTEGER, 
	"IsManual" BOOLEAN, 
	"AlreadyHave" BOOLEAN, 
	"Purchased" BOOLEAN, 
	PRIMARY KEY ("ShoppingListIngredientID"), 
	FOREIGN KEY("ShoppingListID") REFERENCES "ShoppingLists" ("ShoppingListID"), 
	FOREIGN KEY("MealPlanRecipeID") REFERENCES "MealPlanRecipes" ("MealPlanRecipeID"), 
	FOREIGN KEY("IngredientID") REFERENCES "Ingredients" ("IngredientID"), 
	FOREIGN KEY("UnitID") REFERENCES "Units" ("UnitID")
)M''YtableUserFavoritesUserFavoritesCREATE TABLE "UserFavorites" (
	"FavoriteID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	PRIMARY KEY ("FavoriteID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
))!!tableRecipeTagsRecipeTagsCREATE TABLE "RecipeTags" (
	"RecipeTagID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"TagID" INTEGER NOT NULL, 
	PRIMARY KEY ("RecipeTagID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID"), 
	FOREIGN KEY("TagID") REFERENCES "Tags" ("TagID")
)++?tableMealPlanRecipesMealPlanRecipesCREATE TABLE "MealPlanRecipes" (
	"MealPlanRecipeID" INTEGER NOT NULL, 
	"MealPlanID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"MealType" VARCHAR, 
	"Date" DATE NOT NULL, 
	PRIMARY KEY ("MealPlanRecipeID"), 
	FOREIGN KEY("MealPlanID") REFERENCES "MealPlans" ("MealPlanID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)!==UtableRecipeIngredientSectionsRecipeIngredientSectionsCREATE TABLE "RecipeIngredientSections" (
	"SectionID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"SectionName" VARCHAR NOT NULL, 
	PRIMARY KEY ("SectionID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)##ktableRecipeStepsRecipeStepsCREATE TABLE "RecipeSteps" (
	"StepID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"StepNumber" INTEGER NOT NULL, 
	"Description" TEXT NOT NULL, 
	PRIMARY KEY ("StepID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)f#tableRecipesRecipesCREATE TABLE "Recipes" (
	"RecipeID" INTEGER NOT NULL, 
	"UserID" INTEGER, 
	"RecipeName" VARCHAR NOT NULL, 
	"AuthorID" INTEGER, 
	"BookID" INTEGER, 
	"PageNumber" INTEGER, 
	"OnlineURL" VARCHAR, 
	"CookTime" INTEGER, 
	"Difficulty" VARCHAR, 
	"Type" VARCHAR, 
	"ImageURL" VARCHAR, 
	"Servings" INTEGER, 
	"Cuisine" VARCHAR, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("RecipeID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID"), 
	FOREIGN KEY("BookID") REFERENCES "RecipeBooks" ("BookID")
).//tableRecipeIngredientsRecipeIngredientsCREATE TABLE "RecipeIngredients" (
	"RecipeIngredientID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"IngredientID" INTEGER NOT NULL, 
	"SectionID" INTEGER, 
	"Quantity" FLOAT, 
	"UnitID" INTEGER, 
	PRIMARY KEY ("RecipeIngredientID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID"), 
	FOREIGN KEY("IngredientID") REFERENCES "Ingredients" ("IngredientID"), 
	FOREIGN KEY("SectionID") REFERENCES "RecipeIngredientSections" ("SectionID"), 
	FOREIGN KEY("UnitID") REFERENCES "Units" ("UnitID")
)@''?tableRecipeReviewsRecipeReviewsCREATE TABLE "RecipeReviews" (
	"ReviewID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"Rating" FLOAT NOT NULL, 
	"ReviewText" TEXT, 
	"CreatedAt" TIMESTAMP, 
	PRIMARY KEY ("ReviewID"), 
	CONSTRAINT check_rating_range CHECK (Rating >= 0.5 AND Rating <= 5), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)
   +
 a<sS9



y
T
;

rS2uS2


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + 7
Garnish with berries.* /	Serve with syrup.) =Cook until golden brown.( 1Flip the pancakes.' =Cook until bubbles form. & ?Pour batter onto the pan.% 7Heat a non-stick pan.$ 3Whisk until smooth.# =Add the wet ingredients." 	=Mix the dry ingredients.! 7
Serve with guacamole."  C	Enjoy with a side of beans. =Squeeze lime over tacos. 9Garnish with cilantro. /Serve with salsa. =Add cheese and toppings. 3Assemble the tacos. 3Warm the tortillas. 5Chop the vegetables. 	)Cook the beef.! A
Garnish with sesame seeds. -	Serve with rice.# ESeason with salt and pepper. ;Stir fry for 5 minutes. 1Pour in soy sauce.! AAdd vegetables to the pan.( OAdd chicken and cook until brown. 1Heat oil in a pan. 5Chop the vegetables. 	1Slice the chicken.
 ;
Garnish with coriander. !	Serve hot.# ESeason with salt and pepper.%
 ISimmer for another 15 minutes.(	 OAdd chopped tomatoes and carrots. 5Cook for 20 minutes.! AAdd the lentils and water.# ESaute the onions and garlic." CChop the onions and garlic. 	1Rinse the lentils. 	3Blend until smooth.# 	GBoil in water for 20 minutes. 		APeel and chop the carrots.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     	-Main Ingredients
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      	!Breakfast2024-06-15 	!Dinner2024-06-14 	!Lunch2024-06-13 	!Dinner2024-06-12 		!Lunch2024-06-11
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     		
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 		32024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           = 		C3@      Delicious and easy to make!2024-06-15 18:14:33
   )
 {n`SF9,vj\OB5(

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
) 		2( 	2' 	d& 	d% 	d$ 	
# 	d" 	2! 	d  	 
 		2 	d 	d 	
d 	
 	d 	d 	2 	
 	
 		2 	2 	d 	d 	d 	2 	
d 	

 	d 		 	
d
 		 
	 		2 	d 	d 	  	  	
 	d 	  	  
    |l\L;+                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
 	d
 	2
 	d
 	 
 	

 	d
 	d
 	2
 	

 	
 	2

 	
d	
 	

 	d
 		
 	 
 	 
 	

 	d
 	 
 		 

==================== C:\Code\recipe-app\mydatabase2.db ====================

SQLite format 3   @    <                                                              < .f       

U[0
	
ldQo6
                                                                                                                                                                  6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)N++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversions''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)o
;;utableIngredientSubCategoriesIngredientSubCategoriesCREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags
=
''9tableRecipeAuthorsRecipeAuthorsCREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))	= indexsqlite_autoindex_Units_2Units
)= indexsqlite_autoindex_Units_1Units		555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategories       b/indexix_Users_UsernameUsersCREATE UNIQUE INDEX "ix_Users_Username" ON "Users" ("Username")T+uindexix_Users_UserIDUsersCREATE INDEX "ix_Users_UserID" ON "Users" ("UserID")X)indexix_Users_EmailUsersCREATE UNIQUE INDEX "ix_Users_Email" ON "Users" ("Email")ktableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP NOT NULL, 
	"UpdatedAt" TIMESTAMP NOT NULL, 
	PRIMARY KEY ("UserI   
   
/ cj

743
/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        #Q=AAuniqueuse2rscrypt:32768:8:1$82ZqKERCL4HIE4fs$da3b402bb11282642875226a14dac3103bf1a1372f65d1fa38dfb84300ee32ec6cdec81ae8e9525ad88f3de6371137fd21eb3dda093e76e8369fe5e7629b01ebuniqueuser22@example.com2024-06-26 17:34:09.7328852024-06-26 17:34:09.732885~ !Q9AAuniqueuserscrypt:32768:8:1$QouazhGh6I7jJrW9$8f0564382d7aa8a58a3c5c531c283575c97355eaada016491417c031680e4e0469cadd4951ad2241e2eea58271e3537483b8a7fc1da224e0882dd262e298d92funiqueuser@example.com2024-06-26 00:00:00.0000002024-06-26 00:00:00.000000  #Q;AAanotheruserscrypt:32768:8:1$l7Sgtxp6ZbNVEGEl$e372f532dc397d2ea16fa2d5850b945870b87bceaee20a9850df85b4d8a45aadb8ed191972b602e1d5eff110af643bc7a1ff534d679af7ed016b82f333685958anotheruser@example.com2024-06-26 00:00:00.0000002024-06-26 00:00:00.000000 CAAwarren$2b$12$RqI1lGpQQHXACvxLMNADHuS0as5lyn2rOFmRjdzYQCAl1OtRiJLmGwarrencoffey@googlemail.com2024-06-17 15:46:44.4549782024-06-17 15:46:44.454978 5AAtestuser$2b$12$MuMNqvqrCcYoOgHD7zAp3.UWlx5LOmyI9Btf3/yxJRfQ3S8hqrYw.testuser@example.com2024-06-17 15:22:24.5445602024-06-17 15:22:24.544560 5AAnewuser2$2b$12$QdbIT8Lam5crtKgAfIAZhu4wF9THV5w58rowxiMEJDaXbAnHTTGjCnewuser2@example.com2024-06-17 14:26:17.1787482024-06-17 14:26:17.178748` #3AAnewuserpassword123newuser@example.com2024-06-17 14:22:53.3912712024-06-17 14:22:53.391271 #;AAuniqueuser5$2b$12$cQeSnEd5COtni8E3BZTY5eaVVEgoJ8heZiXmqhkHJ1npT4zZ1Vq5muniqueuser5@example.com2024-06-17 11:40:54.8169422024-06-17 11:40:54.816942
   ' _'D{                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               =uniqueuser22@example.com9uniqueuser@example.com;anotheruser@example.comCwarrencoffey@googlemail.com5testuser@example.com5newuser2@example.com3newuser@example.com;	uniqueuser5@example.com
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              		
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             #uniqueuse2r!uniqueuser#anotheruser
warrentestusernewuser2newuser#	uniqueuser5
 	
x3d


W                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           > AATest22024-06-17 19:27:45.2242172024-06-17 19:27:45.224217@	=
 AATest2024-06-20 12:23:42.6068152024-06-20 12:23:42.606815B AAHousehold2024-06-17 14:58:21.8378052024-06-17 14:58:21.837805E %AAChilled Food2024-06-17 14:58:21.7533962024-06-17 14:58:21.753396D #AAFrozen Food2024-06-17 14:58:21.7078052024-06-17 14:58:21.707805F 'AAFood Cupboard2024-06-17 14:58:21.6708882024-06-17 14:58:21.670888? AADrinks2024-06-17 14:58:21.6274662024-06-17 14:58:21.627466C !AAFresh Food2024-06-17 14:58:21.5865132024-06-17 14:58:21.586513? AABakery2024-06-17 14:58:21.5357592024-06-17 14:58:21.535759   @	 AAAlcohol2024-06-20 11:25:16.9946082024-06-20 11:25:16.9946084
 	 t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        	Test2Test

Household%Chilled Food#Frozen Food'Food Cupboard
Drinks!Fresh Food
Bakery   Alcohol	
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Kilogramkg	 Gramg Piecepc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       KilogramGram	Piece
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   kgg	pc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
Ruth
 
warrennnn '
Warren Coffey -
The Hairy Bikers %
Jamie Oliver % Pinch of Nom
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

 x v4T


Bx3\

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         A AAWoahhh2024-06-20 10:42:56.0744742024-06-20 10:42:56.074474F #AAWarren test2024-06-20 10:42:32.5470962024-06-20 10:42:32.547096F #AAWarren test2024-06-20 10:42:28.2960762024-06-20 10:42:28.296076F #AAWarren test2024-06-20 10:41:57.5976072024-06-20 10:41:57.597607F #AAWarren test2024-06-20 10:41:09.5820862024-06-20 10:41:09.582086E !AAcleaninggg2024-06-20 10:39:32.7306692024-06-20 10:39:32.730669E !AAcleaninggg2024-06-20 10:38:44.6812372024-06-20 10:38:44.6812E
 !AATestBakery2024-06-20 12:29:00.9217622024-06-20 12:29:00.921762@ AAPasta2024-06-18 13:54:43.1794962024-06-18 13:54:43.179496   AAAWine2024-06-17 15:07:40.9926192024-06-17 15:07:40.992619>
 AATea2024-06-17 15:07:40.9410742024-06-17 15:07:40.941074A	 AACoffee2024-06-17 15:07:40.8882622024-06-17 15:07:40.888262@ AAWater2024-06-17 15:07:40.7910132024-06-17 15:07:40.791013K -AAFresh Vegetables2024-06-17 15:07:40.7312842024-06-17 15:07:40.731284F #AAFresh Fruit2024-06-17 15:07:40.6916962024-06-17 15:07:40.691696G %AASweet Treats2024-06-17 15:07:40.6044782024-06-17 15:07:40.604478M 1AABreakfast Pastries2024-06-17 15:07:40.5530532024-06-17 15:07:40.553053@ AACakes2024-06-17 15:07:40.5093422024-06-17 15:07:40.509342F #AABread Rolls2024-06-17 15:07:40.4770762024-06-17 15:07:40.477076@ AABread2024-06-17 15:07:40.4299402024-06-17 15:07:40.429940
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               !
Ruth's fud )
Warren's scran 
Easy food +
60 Minute Meals 	' Fast and easy
    L                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         S 	!!AAnew2024-06-272024-07-062024-06-24 19:45:19.8794012024-06-24 19:45:19.879401W 	!!AACaravan2024-06-282024-06-302024-06-24 19:15:17.9979232024-06-24 19:15:17.997923Y 	!!AATest plan2024-06-242024-06-272024-06-24 19:13:44.9647852024-06-24 19:13:44.964785
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  f5


X

p#C


e
		>>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               M	 	)	AANew York Bagel2024-06-20 08:10:57.9873752024-06-20 08:10:57.987375M	 	)	AC	 		AATest2024-06-20 10:11:42.0814882024-06-20 10:11:42.081488M	 	)	AANew York Bagel2024-06-20 08:07:35.5981062024-06-20 08:07:35.598106J	 AANew Test 2024-06-19 17:11:35.0900682024-06-19 17:11:35.090068f	AATest222024-06-19 17:09:00.9344562024-06-19 17:09:00.934456B	 		AAPie2024-06-19 17:08:41.8414082024-06-19 17:08:41.841408B	 		AAPie2024-06-19 17:06:43.5075392024-06-19 17:06:43.507539D	 AAPie2024-06-19 17:06:30.8402082024-06-19 17:06:30.840208N	 )		AATestIngredient2024-06-19 17:05:21.8808182024-06-19 17:05:21.880818G	 AAPenne2024-06-18 13:55:00.0616542024-06-18 13:55:00.061654O	 )AA	Coffee sachets2024-06-18 13:44:18.0321872024-06-18 13:44:18.032187E	 			AACarrots2024-06-17 15:14:32.0359732024-06-17 15:14:32.035973E	 			AALettuce2024-06-17 15:14:32.0026602024-06-17 15:14:32.002660I	 #			AABlueberries2024-06-17 15:14:31.9695472024-06-17 15:14:31.969547J	 %			AAStrawberries2024-06-17 15:14:31.9026852024-06-17 15:14:31.902685J	 %			AAOrange Juice2024-06-17 15:14:31.8766642024-06-17 15:14:31.876664I	 #			AAApple Juice2024-06-17 15:14:31.8361712024-06-17 15:14:31.836171G	 			AA
Green Tea2024-06-17 15:14:31.7763472024-06-17 15:14:31.776347K
	 '			AA	Ground Coffee2024-06-17 15:14:31.7526132024-06-17 15:14:31.752613K	 '			AABottled Water2024-06-17 15:14:31.6753592024-06-17 15:14:31.675359   P-			AAMixed Vegetables2024-06-17 15:14:31.6363402024-06-17 15:14:31.636340I
	 #			AAFruit Salad2024-06-17 15:14:31.6139852024-06-17 15:14:31.613985E		 			AABrownie2024-06-17 15:14:31.5746812024-06-17 15:14:31.574681K	 '			AADanish Pastry2024-06-17 15:14:31.5360602024-06-17 15:14:31.536060G	 			AACroissant2024-06-17 15:14:31.4736442024-06-17 15:14:31.473644J	 %			AAVanilla Cake2024-06-17 15:14:31.4363922024-06-17 15:14:31.436392L	 )			AAChocolate Cake2024-06-17 15:14:31.3857272024-06-17 15:14:31.385727J	 %			AADinner Rolls2024-06-17 15:14:31.3540872024-06-17 15:14:31.354087I	 #			AABurger Buns2024-06-17 15:14:31.3128722024-06-17 15:14:31.312872N	 	/			AAWhole Grain Bread2024-06-17 15:14:31.2687022024-06-17 15:14:31.268702H	 	#			AAWhite Bread2024-06-17 15:14:31.2338302024-06-17 15:14:31.233830
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        R  




AATest nowC"2024-06-26 17:45:03.69109220    	         Test

 6 G

U[0
	
ldQo6
                                                                                                                                                                                                                                                                      6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversionsN++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)o
;;utableIngredientSubCategoriesIngredientSubCategoriesCREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags
=
''9tableRecipeAuthorsRecipeAuthorsCREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))	= indexsqlite_autoindex_Units_2Units
)= indexsqlite_autoindex_Units_1Units		555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategories       b/indexix_Users_UsernameUsersCREATE UNIQUE INDEX "ix_Users_Username" ON "Users" ("Username")T+uindexix_Users_UserIDUsersCREATE INDEX "ix_Users_UserID" ON "Users" ("UserID")X)indexix_Users_EmailUsersCREATE UNIQUE INDEX "ix_Users_Email" ON "Users" ("Email")ktableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP NOT NULL, 
	"UpdatedAt" TIMESTAMP NOT NULL, 
	PRIMARY KEY ("UserID")
)
| R:
                                                                                                                                                                                                                                                 )!!tableRecipeTagsRecipeTagsCREATE TABLE "RecipeTags" (
	"RecipeTagID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"TagID" INTEGER NOT NULL, 
	PRIMARY KEY ("RecipeTagID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID"), 
	FOREIGN KEY("TagID") REFERENCES "Tags" ("TagID")
)##qtableRecipeStepsRecipeStepsCREATE TABLE "RecipeSteps" (
	"StepID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"StepNumber" INTEGER NOT NULL, 
	"Description" VARCHAR NOT NULL, 
	PRIMARY KEY ("StepID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)|''7tableRecipeReviewsRecipeReviewsCREATE TABLE "RecipeReviews" (
	"ReviewID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"Rating" FLOAT NOT NULL, 
	"ReviewText" VARCHAR, 
	"CreatedAt" TIMESTAMP, 
	PRIMARY KEY ("ReviewID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)!==UtableRecipeIngredientSectionsRecipeIngredientSectionsCREATE TABLE "RecipeIngredientSections" (
	"SectionID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"SectionName" VARCHAR NOT NULL, 
	PRIMARY KEY ("SectionID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)++?tableMealPlanRecipesMealPlanRecipesCREATE TABLE "MealPlanRecipes" (
	"MealPlanRecipeID" INTEGER NOT NULL, 
	"MealPlanID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"MealType" VARCHAR, 
	"Date" DATE NOT NULL, 
	PRIMARY KEY ("MealPlanRecipeID"), 
	FOREIGN KEY("MealPlanID") REFERENCES "MealPlans" ("MealPlanID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)  3#tableRecipesRecipesCREATE TABLE "Recipes" (
	"RecipeID" INTEGER NOT NULL, 
	"UserID" INTEGER, 
	"RecipeName" VARCHAR NOT NULL, 
	"AuthorID" INTEGER, 
	"BookID" INTEGER, 
	"PageNumber" INTEGER, 
	"OnlineURL" VARCHAR, 
	"CookTime" INTEGER, 
	"Difficulty" VARCHAR, 
	"Type" VARCHAR, 
	"Image     dtableRecipesRecipesCREATE TABLE Recipes (
    RecipeID INTEGER PRIMARY KEY,
    UserID INTEGER,
    RecipeName TEXT NOT NULL,
    AuthorID INTEGER,
    BookID INTEGER,
    PageNumber INTEGER,
    OnlineURL TEXT,
    CookTime INTEGER,
    Difficulty TEXT,
    Type TEXT,
    ImageURL TEXT,
    Servings INTEGER,
    Cuisine TEXT,
    CreatedAt TIMESTAMP,
    UpdatedAt TIMESTAMP,
    FOREIGN KEY(UserID) REFERENCES Users(UserID) ON DELETE SET NULL,
    FOREIGN KEY(AuthorID) REFERENCES RecipeAuthors(AuthorID) ON DELETE SET NULL,
    FOREIGN KEY(BookID) REFERENCES RecipeBooks(BookID) ON DELETE SET NULL
)6;;tableShoppingListIngredientsShoppingListIngredientsCREATE TABLE "ShoppingListIngredients" (
	"ShoppingListIngredientID" INTEGER NOT NULL, 
	"ShoppingListID" INTEGER NOT NULL, 
	"MealPlanRecipeID" INTEGER, 
	"IngredientID" INTEGER NOT NULL, 
	"Quantity" FLOAT, 
	"UnitID" INTEGER, 
	"IsManual" BOOLEAN, 
	"AlreadyHave" BOOLEAN, 
	"Purchased" BOOLEAN, 
	PRIMARY KEY ("ShoppingListIngredientID"), 
	FOREIGN KEY("ShoppingListID") REFERENCES "ShoppingLists" ("ShoppingListID"), 
	FOREIGN KEY("MealPlanRecipeID") REFERENCES "MealPlanRecipes" ("MealPlanRecipeID"), 
	FOREIGN KEY("IngredientID") REFERENCES "Ingredients" ("IngredientID"), 
	FOREIGN KEY("UnitID") REFERENCES "Units" ("UnitID")
)-//	tableRecipeIngredientsRecipeIngredientsCREATE TABLE RecipeIngredients (
    RecipeIngredientID INTEGER PRIMARY KEY,
    RecipeID INTEGER,
    IngredientID INTEGER,
    SectionID INTEGER,
    Quantity FLOAT,
    UnitID INTEGER,
    FOREIGN KEY(RecipeID) REFERENCES Recipes(RecipeID) ON DELETE CASCADE,
    FOREIGN KEY(IngredientID) REFERENCES Ingredients(IngredientID) ON DELETE CASCADE,
    FOREIGN KEY(SectionID) REFERENCES RecipeIngredientSections(SectionID) ON DELETE CASCADE,
    FOREIGN KEY(UnitID) REFERENCES Units(UnitID) ON DELETE SET NULL
))
      GGG,,,,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 !Breakfast2024-06-30 	!Breakfast2024-06-27 	!Breakfast2024-06-27 	!Lunch2024-06-25 P	 	!Dinner2024-06-25 2	!Dinner2024-0 !Breakfast2024-06-30 	!Breakfast2024-06-23  	!Breakfast2024-06-26d 	!Breakfast2024 	 		!Breakfast2024-06-26 	!Breakfast2024-06-27 i	!Lunch2024-06-26 Q	!Breakfast2024-06-25 5	!Breakfast2024-06-24 	!Dinner2024-06-24 	!Lunch2024-06-27   		!Dinner2024-06-27-244
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
       }reZNC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           	 	 	
  	d	 	 	
{
 	  	 	 	  
  d
	  		 	 	
  	 	 		   
  	

 	 

 	 
   
		 	!
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

==================== C:\Code\recipe-app\output_all.txt ====================



==================== C:\Code\recipe-app\backend.txt ====================



==================== C:\Code\recipe-app\backend\mydatabase2.db ====================



==================== C:\Code\recipe-app\backend\run.py ====================

from app import create_app

app = create_app()

if __name__ == '__main__':
    app.run(debug=True)


==================== C:\Code\recipe-app\backend\app\base.py ====================

from datetime import datetime
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class TimestampMixin(object):
    CreatedAt = db.Column(db.DateTime, default=datetime.utcnow)
    UpdatedAt = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)


==================== C:\Code\recipe-app\backend\app\extensions.py ====================

from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()


==================== C:\Code\recipe-app\backend\app\generic_crud.py ====================

from flask import Blueprint
from .utils import get_all, get_by_id, create_record, update_record, delete_record
from . import db

def create_crud_blueprint(model, url_prefix):
    bp = Blueprint(model.__tablename__, __name__, url_prefix=url_prefix)

    @bp.route('/', methods=['GET'])
    def get_records():
        return get_all(model)

    @bp.route('/<int:id>', methods=['GET'])
    def get_record(id):
        return get_by_id(model, id)

    @bp.route('/', methods=['POST'])
    def create():
        return create_record(model)

    @bp.route('/<int:id>', methods=['PUT'])
    def update(id):
        return update_record(model, id)

    @bp.route('/<int:id>', methods=['DELETE'])
    def delete(id):
        return delete_record(model, id)

    return bp


==================== C:\Code\recipe-app\backend\app\models.py ====================

from werkzeug.security import generate_password_hash, check_password_hash
from .extensions import db
from .base import TimestampMixin

class IngredientCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientCategories'
    CategoryID = db.Column(db.Integer, primary_key=True)
    CategoryName = db.Column(db.String, unique=True, nullable=False)

    def to_dict(self):
        return {
            'CategoryID': self.CategoryID,
            'CategoryName': self.CategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Ingredient(db.Model, TimestampMixin):
    __tablename__ = 'Ingredients'
    IngredientID = db.Column(db.Integer, primary_key=True)
    SubCategoryID = db.Column(db.Integer, db.ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = db.Column(db.String, nullable=False)
    PurchaseUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = db.Column(db.Float)
    PurchaseWeightUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))

    def to_dict(self):
        return {
            'IngredientID': self.IngredientID,
            'SubCategoryID': self.SubCategoryID,
            'IngredientName': self.IngredientName,
            'PurchaseUnitID': self.PurchaseUnitID,
            'PurchaseWeightVolume': self.PurchaseWeightVolume,
            'PurchaseWeightUnitID': self.PurchaseWeightUnitID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class IngredientSubCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = db.Column(db.Integer, primary_key=True)
    CategoryID = db.Column(db.Integer, db.ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SubCategoryID': self.SubCategoryID,
            'CategoryID': self.CategoryID,
            'SubCategoryName': self.SubCategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class MealPlanRecipe(db.Model):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = db.Column(db.Integer, primary_key=True)
    MealPlanID = db.Column(db.Integer, db.ForeignKey('MealPlans.MealPlanID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    MealType = db.Column(db.String)
    Date = db.Column(db.Date, nullable=False)

    def to_dict(self):
        return {
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'MealPlanID': self.MealPlanID,
            'RecipeID': self.RecipeID,
            'MealType': self.MealType,
            'Date': self.Date
        }

class MealPlan(db.Model, TimestampMixin):
    __tablename__ = 'MealPlans'
    MealPlanID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    PlanName = db.Column(db.String)
    StartDate = db.Column(db.Date)
    EndDate = db.Column(db.Date)

    def to_dict(self):
        return {
            'MealPlanID': self.MealPlanID,
            'UserID': self.UserID,
            'PlanName': self.PlanName,
            'StartDate': self.StartDate,
            'EndDate': self.EndDate,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeAuthor(db.Model):
    __tablename__ = 'RecipeAuthors'
    AuthorID = db.Column(db.Integer, primary_key=True)
    AuthorName = db.Column(db.String, nullable=False)
    AuthorImageURL = db.Column(db.String)

    def to_dict(self):
        return {
            'AuthorID': self.AuthorID,
            'AuthorName': self.AuthorName,
            'AuthorImageURL': self.AuthorImageURL
        }

class RecipeBook(db.Model):
    __tablename__ = 'RecipeBooks'
    BookID = db.Column(db.Integer, primary_key=True)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='CASCADE'), nullable=False)
    BookName = db.Column(db.String, nullable=False)
    CoverArtURL = db.Column(db.String)

    def to_dict(self):
        return {
            'BookID': self.BookID,
            'AuthorID': self.AuthorID,
            'BookName': self.BookName,
            'CoverArtURL': self.CoverArtURL
        }

class RecipeIngredient(db.Model):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    SectionID = db.Column(db.Integer, db.ForeignKey('RecipeIngredientSections.SectionID', ondelete='CASCADE'))
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))

    def to_dict(self):
        return {
            'RecipeIngredientID': self.RecipeIngredientID,
            'RecipeID': self.RecipeID,
            'IngredientID': self.IngredientID,
            'SectionID': self.SectionID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID
        }

class RecipeIngredientSection(db.Model):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    SectionName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SectionID': self.SectionID,
            'RecipeID': self.RecipeID,
            'SectionName': self.SectionName
        }

class RecipeReview(db.Model):
    __tablename__ = 'RecipeReviews'
    ReviewID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    Rating = db.Column(db.Float, nullable=False)
    ReviewText = db.Column(db.String)

    def to_dict(self):
        return {
            'ReviewID': self.ReviewID,
            'UserID': self.UserID,
            'RecipeID': self.RecipeID,
            'Rating': self.Rating,
            'ReviewText': self.ReviewText
        }

class Recipe(db.Model, TimestampMixin):
    __tablename__ = 'Recipes'
    RecipeID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='SET NULL'))
    RecipeName = db.Column(db.String, nullable=False)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='SET NULL'))
    BookID = db.Column(db.Integer, db.ForeignKey('RecipeBooks.BookID', ondelete='SET NULL'))
    PageNumber = db.Column(db.Integer)
    OnlineURL = db.Column(db.String)
    CookTime = db.Column(db.Integer)
    Difficulty = db.Column(db.String)
    Type = db.Column(db.String)
    ImageURL = db.Column(db.String)
    Servings = db.Column(db.Integer)
    Cuisine = db.Column(db.String)

    def to_dict(self):
        return {
            'RecipeID': self.RecipeID,
            'UserID': self.UserID,
            'RecipeName': self.RecipeName,
            'AuthorID': self.AuthorID,
            'BookID': self.BookID,
            'PageNumber': self.PageNumber,
            'OnlineURL': self.OnlineURL,
            'CookTime': self.CookTime,
            'Difficulty': self.Difficulty,
            'Type': self.Type,
            'ImageURL': self.ImageURL,
            'Servings': self.Servings,
            'Cuisine': self.Cuisine,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeStep(db.Model):
    __tablename__ = 'RecipeSteps'
    StepID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    StepNumber = db.Column(db.Integer, nullable=False)
    Description = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'StepID': self.StepID,
            'RecipeID': self.RecipeID,
            'StepNumber': self.StepNumber,
            'Description': self.Description
        }

class RecipeTag(db.Model):
    __tablename__ = 'RecipeTags'
    RecipeTagID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    TagID = db.Column(db.Integer, db.ForeignKey('Tags.TagID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'RecipeTagID': self.RecipeTagID,
            'RecipeID': self.RecipeID,
            'TagID': self.TagID
        }

class ShoppingListIngredient(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = db.Column(db.Integer, primary_key=True)
    ShoppingListID = db.Column(db.Integer, db.ForeignKey('ShoppingLists.ShoppingListID', ondelete='CASCADE'), nullable=False)
    MealPlanRecipeID = db.Column(db.Integer, db.ForeignKey('MealPlanRecipes.MealPlanRecipeID', ondelete='CASCADE'))
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))
    IsManual = db.Column(db.Boolean)
    AlreadyHave = db.Column(db.Boolean)
    Purchased = db.Column(db.Boolean)

    def to_dict(self):
        return {
            'ShoppingListIngredientID': self.ShoppingListIngredientID,
            'ShoppingListID': self.ShoppingListID,
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'IngredientID': self.IngredientID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID,
            'IsManual': self.IsManual,
            'AlreadyHave': self.AlreadyHave,
            'Purchased': self.Purchased,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class ShoppingList(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'ShoppingListID': self.ShoppingListID,
            'UserID': self.UserID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Tag(db.Model):
    __tablename__ = 'Tags'
    TagID = db.Column(db.Integer, primary_key=True)
    TagName = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'TagID': self.TagID,
            'TagName': self.TagName
        }

class UnitConversion(db.Model):
    __tablename__ = 'UnitConversions'
    FromUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ToUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ConversionFactor = db.Column(db.Float, nullable=False)

    def to_dict(self):
        return {
            'FromUnitID': self.FromUnitID,
            'ToUnitID': self.ToUnitID,
            'ConversionFactor': self.ConversionFactor
        }

class Unit(db.Model):
    __tablename__ = 'Units'
    UnitID = db.Column(db.Integer, primary_key=True)
    UnitName = db.Column(db.String, nullable=False, unique=True)
    Abbreviation = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'UnitID': self.UnitID,
            'UnitName': self.UnitName,
            'Abbreviation': self.Abbreviation
        }

class User(db.Model, TimestampMixin):
    __tablename__ = 'Users'
    UserID = db.Column(db.Integer, primary_key=True)
    Username = db.Column(db.String, nullable=False, unique=True)
    PasswordHash = db.Column(db.String, nullable=False)
    Email = db.Column(db.String, nullable=False, unique=True)

    def set_password(self, password):
        self.PasswordHash = generate_password_hash(password)

    def check_password(self, password):
        return check_password_hash(self.PasswordHash, password)

    def to_dict(self):
        return {
            'UserID': self.UserID,
            'Username': self.Username,
            'Email': self.Email,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }


==================== C:\Code\recipe-app\backend\app\utils.py ====================

from flask import request, jsonify
from sqlalchemy.exc import SQLAlchemyError, IntegrityError
from .extensions import db
from .models import User
from datetime import datetime

def get_all(model):
    try:
        records = model.query.all()
        return jsonify([record.to_dict() for record in records]), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def get_by_id(model, id):
    try:
        record = model.query.get_or_404(id)
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def create_record(model):
    try:
        data = request.get_json()
        if issubclass(model, TimestampMixin):
            if 'CreatedAt' not in data:
                data['CreatedAt'] = datetime.utcnow()
            if 'UpdatedAt' not in data:
                data['UpdatedAt'] = datetime.utcnow()

        if model == User:
            password = data.pop('Password')
            user = model(**data)
            user.set_password(password)
            db.session.add(user)
            db.session.commit()
            return jsonify(user.to_dict()), 201
        else:
            record = model(**data)
            db.session.add(record)
            db.session.commit()
            return jsonify(record.to_dict()), 201
    except IntegrityError as e:
        db.session.rollback()
        return jsonify({'error': 'A record with that unique value already exists.'}), 400
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def update_record(model, id):
    try:
        data = request.get_json()
        record = model.query.get_or_404(id)
        for key, value in data.items():
            setattr(record, key, value)
        if issubclass(model, TimestampMixin):
            record.UpdatedAt = datetime.utcnow()
        db.session.commit()
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def delete_record(model, id):
    try:
        record = model.query.get_or_404(id)
        db.session.delete(record)
        db.session.commit()
        return '', 204
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500


==================== C:\Code\recipe-app\backend\app\__init__.py ====================

from flask import Flask
from .extensions import db
from .models import IngredientCategory, Ingredient, IngredientSubCategory, MealPlanRecipe, MealPlan, RecipeAuthor, RecipeBook, RecipeIngredient, RecipeIngredientSection, RecipeReview, Recipe, RecipeStep, RecipeTag, ShoppingListIngredient, ShoppingList, Tag, UnitConversion, Unit, User
from .generic_crud import create_crud_blueprint
from sqlalchemy import inspect

def create_app():
    app = Flask(__name__)
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///../../mydatabase2.db'
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

    db.init_app(app)
    
    with app.app_context():
        # Print all tables in the database
        inspector = inspect(db.engine)
        print(inspector.get_table_names())

    # Register blueprints
    app.register_blueprint(create_crud_blueprint(IngredientCategory, '/ingredient_categories'))
    app.register_blueprint(create_crud_blueprint(Ingredient, '/ingredients'))
    app.register_blueprint(create_crud_blueprint(IngredientSubCategory, '/ingredient_subcategories'))
    app.register_blueprint(create_crud_blueprint(MealPlanRecipe, '/meal_plan_recipes'))
    app.register_blueprint(create_crud_blueprint(MealPlan, '/meal_plans'))
    app.register_blueprint(create_crud_blueprint(RecipeAuthor, '/recipe_authors'))
    app.register_blueprint(create_crud_blueprint(RecipeBook, '/recipe_books'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredient, '/recipe_ingredients'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredientSection, '/recipe_ingredient_sections'))
    app.register_blueprint(create_crud_blueprint(RecipeReview, '/recipe_reviews'))
    app.register_blueprint(create_crud_blueprint(Recipe, '/recipes'))
    app.register_blueprint(create_crud_blueprint(RecipeStep, '/recipe_steps'))
    app.register_blueprint(create_crud_blueprint(RecipeTag, '/recipe_tags'))
    app.register_blueprint(create_crud_blueprint(ShoppingListIngredient, '/shopping_list_ingredients'))
    app.register_blueprint(create_crud_blueprint(ShoppingList, '/shopping_lists'))
    app.register_blueprint(create_crud_blueprint(Tag, '/tags'))
    app.register_blueprint(create_crud_blueprint(UnitConversion, '/unit_conversions'))
    app.register_blueprint(create_crud_blueprint(Unit, '/units'))
    app.register_blueprint(create_crud_blueprint(User, '/users'))

    return app


==================== C:\Code\recipe-app\backend\instance\mydatabase2.db ====================



==================== C:\Code\recipe-app\client.txt ====================



==================== C:\Code\recipe-app\client\.eslintrc.cjs ====================

module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:react/jsx-runtime',
    'plugin:react-hooks/recommended',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parserOptions: { ecmaVersion: 'latest', sourceType: 'module' },
  settings: { react: { version: '18.2' } },
  plugins: ['react-refresh'],
  rules: {
    'react/jsx-no-target-blank': 'off',
    'react-refresh/only-export-components': [
      'warn',
      { allowConstantExport: true },
    ],
  },
}


==================== C:\Code\recipe-app\client\index.html ====================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================== C:\Code\recipe-app\client\postcss.config.js ====================

export default {
    plugins: {
      tailwindcss: {},
      autoprefixer: {},
    },
  };
  

==================== C:\Code\recipe-app\client\README.md ====================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh


==================== C:\Code\recipe-app\client\tailwind.config.js ====================

/** @type {import('tailwindcss').Config} */
module.exports = {
    content: [
      "./src/**/*.{js,jsx,ts,tsx}",
    ],
    theme: {
      extend: {},
    },
    plugins: [
      require('daisyui'),
    ],
    daisyui: {
      themes: ["light", "dark", "cupcake", "bumblebee", "emerald", "corporate", "synthwave", "retro", "cyberpunk", "valentine", "halloween", "garden", "forest", "aqua", "lofi", "pastel", "fantasy", "wireframe", "black", "luxury", "dracula", "cmyk", "autumn", "business", "acid", "lemonade", "night", "coffee", "winter"],
    },
  }
  

==================== C:\Code\recipe-app\client\vite.config.js ====================

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
});


==================== C:\Code\recipe-app\client\public\vite.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>

==================== C:\Code\recipe-app\client\src\App.css ====================



==================== C:\Code\recipe-app\client\src\App.jsx ====================

import React from 'react';
import AppRoutes from './routes';
import NavBar from './components/NavBar';
import { useAuth } from './context/AuthContext';
import SideBar from './components/SideBar';

function App() {
  const { isAuthenticated } = useAuth();

  return (
    <div className="flex flex-col min-h-screen">
      <NavBar />
      <div className="flex grow">
        {isAuthenticated && <SideBar />}
        <AppRoutes />
      </div>
    </div>
  );
}

export default App;


==================== C:\Code\recipe-app\client\src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;


==================== C:\Code\recipe-app\client\src\main.jsx ====================

import React from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { AuthProvider } from './context/AuthContext';
import { DataProvider } from './context/DataContext';

const rootElement = document.getElementById('root');
const root = createRoot(rootElement);

root.render(
  <BrowserRouter>
    <AuthProvider>
      <DataProvider>
        <App />
      </DataProvider>
    </AuthProvider>
  </BrowserRouter>
);


==================== C:\Code\recipe-app\client\src\routes.jsx ====================

// src/routes.jsx

import React from 'react';
import { Routes, Route } from 'react-router-dom';
import Login from './pages/Login';
import Dashboard from './pages/Dashboard';
import Register from './pages/Register';
import ManageCategories from './pages/ManageCategories';
import ManageSubCategories from './pages/ManageSubCategories';
import ManageIngredients from './pages/ManageIngredients';
import ManageRecipes from './pages/ManageRecipes';
import ManageAuthors from './pages/ManageAuthors';
import ManageRecipeBooks from './pages/ManageRecipeBooks';
import ManageMealPlans from './pages/ManageMealPlans';
import PrivateRoute from './components/PrivateRoute';
import MealPlanDetails from './pages/MealPlanDetails';

import Home from './pages/Home';

function AppRoutes() {
  return (
    <Routes>
      <Route path="login" element={<Login />} />
      <Route path="register" element={<Register />} />
      <Route path="/" element={<PrivateRoute><Home /></PrivateRoute>} />
      <Route path="/meal-plan/:mealPlanId" element={<PrivateRoute><MealPlanDetails /></PrivateRoute>} />
      <Route path="admin">
        <Route index element={<PrivateRoute><Dashboard /></PrivateRoute>} />
        <Route path="manage-categories" element={<PrivateRoute><ManageCategories /></PrivateRoute>} />
        <Route path="manage-sub-categories" element={<PrivateRoute><ManageSubCategories /></PrivateRoute>} />
        <Route path="manage-ingredients" element={<PrivateRoute><ManageIngredients /></PrivateRoute>} />
        <Route path="manage-recipes" element={<PrivateRoute><ManageRecipes /></PrivateRoute>} />
        <Route path="manage-authors" element={<PrivateRoute><ManageAuthors /></PrivateRoute>} />
        <Route path="manage-recipe-books" element={<PrivateRoute><ManageRecipeBooks /></PrivateRoute>} />
        <Route path="manage-meal-plans" element={<PrivateRoute><ManageMealPlans /></PrivateRoute>} />
      </Route>

    </Routes>
  );
}

export default AppRoutes;


==================== C:\Code\recipe-app\client\src\supabaseClient.js ====================

// src/supabaseClient.js

import { createClient } from '@supabase/supabase-js';

const SUPABASE_URL = 'https://fovbbeeexjqmcivjaujs.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZvdmJiZWVleGpxbWNpdmphdWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk1Nzg2NjksImV4cCI6MjAzNTE1NDY2OX0.F3M2b5cR9gKJo5muAZ45bgs8LKkf8znkMlixf7wN_88';

export const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);


==================== C:\Code\recipe-app\client\src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\client\src\components\AddAuthorModal.jsx ====================

// src/components/AddAuthorModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';

function AddAuthorModal() {
  const [authorName, setAuthorName] = useState('');
  const [authorImageURL, setAuthorImageURL] = useState('');
  const { createAuthor } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createAuthor(authorName, authorImageURL);
      document.getElementById('add_author_modal').close();
    } catch (error) {
      alert('Failed to add author');
    }
  };

  return (
    <Modal id="add_author_modal" title="Add Author">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Author Name"
          value={authorName}
          onChange={(e) => setAuthorName(e.target.value)}
          required
        />
        <TextInput
          label="Author Image URL"
          value={authorImageURL}
          onChange={(e) => setAuthorImageURL(e.target.value)}
        />
        <Button>Add Author</Button>
      </form>
    </Modal>
  );
}

export default AddAuthorModal;


==================== C:\Code\recipe-app\client\src\components\AddCategoryModal.jsx ====================

// src/components/AddCategoryModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Button from './ui/Button';

function AddCategoryModal() {
  const [categoryName, setCategoryName] = useState('');
  const { createCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createCategory(categoryName);
      document.getElementById('add_category_modal').close();
    } catch (error) {
      alert('Failed to add category');
    }
  };

  return (
    <Modal id="add_category_modal" title="Add Category">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Category Name"
          value={categoryName}
          onChange={(e) => setCategoryName(e.target.value)}
          required
        />
        <Button>Add Category</Button>
      </form>
    </Modal>
  );
}

export default AddCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AddIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Select from './ui/Select';
import Button from './ui/Button';

function AddIngredientModal({ onIngredientAdded = () => {} }) {
  const [ingredientName, setIngredientName] = useState('');
  const [purchaseWeightVolume, setPurchaseWeightVolume] = useState('');
  const [purchaseUnitId, setPurchaseUnitId] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const [subCategoryId, setSubCategoryId] = useState('');
  const [purchaseWeightUnitId, setPurchaseWeightUnitId] = useState('');

  const { categories, subCategories, units, createIngredient } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const ingredient = {
      IngredientName: ingredientName,
      PurchaseWeightVolume: purchaseWeightVolume,
      PurchaseUnitID: purchaseUnitId,
      SubCategoryID: subCategoryId,
      PurchaseWeightUnitID: purchaseWeightUnitId,
    };

    try {
      const newIngredient = await createIngredient(ingredient);
      onIngredientAdded(newIngredient);
      document.getElementById('add_ingredient_modal').close();
    } catch (error) {
      alert('Failed to add ingredient');
    }
  };

  const filteredSubCategories = subCategories.filter(
    (subCategory) => subCategory.CategoryID === parseInt(categoryId)
  );

  const unitOptions = units.map((unit) => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  const subCategoryOptions = filteredSubCategories.map((subCategory) => ({
    value: subCategory.SubCategoryID,
    label: subCategory.SubCategoryName,
  }));

  return (
    <Modal id="add_ingredient_modal" title="Add Ingredient" className="modal modal-bottom sm:modal-middle">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Ingredient Name"
          value={ingredientName}
          onChange={(e) => setIngredientName(e.target.value)}
          required
        />
        <TextInput
          label="Purchase Weight Volume"
          value={purchaseWeightVolume}
          onChange={(e) => setPurchaseWeightVolume(e.target.value)}
          required
        />
        <Select
          label="Purchase Unit"
          value={purchaseUnitId}
          onChange={(e) => setPurchaseUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Select
          label="Sub-Category"
          value={subCategoryId}
          onChange={(e) => setSubCategoryId(e.target.value)}
          required
          options={subCategoryOptions}
          defaultOption="Select a sub-category"
          disabled={!categoryId} // Disable until a category is selected
        />
        <Select
          label="Purchase Weight Unit"
          value={purchaseWeightUnitId}
          onChange={(e) => setPurchaseWeightUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Button>Add Ingredient</Button>
      </form>
    </Modal>
  );
}

export default AddIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanModal.jsx ====================

// src/components/AddMealPlanModal.jsx

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';

function AddMealPlanModal() {
  const [planName, setPlanName] = useState('');
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');
  const { createMealPlan } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const mealPlan = {
      PlanName: planName,
      StartDate: startDate,
      EndDate: endDate,
      UserID: 1, // Adjust as needed
    };

    try {
      await createMealPlan(mealPlan);
      document.getElementById('add_meal_plan_modal').close();
    } catch (error) {
      alert('Failed to add meal plan');
    }
  };

  return (
    <Modal id="add_meal_plan_modal" title="Add Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Plan Name"
          value={planName}
          onChange={(e) => setPlanName(e.target.value)}
          required
        />
        <TextInput
          label="Start Date"
          type="date"
          value={startDate}
          onChange={(e) => setStartDate(e.target.value)}
          required
        />
        <TextInput
          label="End Date"
          type="date"
          value={endDate}
          onChange={(e) => setEndDate(e.target.value)}
          required
        />
        <Button>Add Meal Plan</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import Select from './ui/Select';
import { format, isValid } from 'date-fns';
import TextInput from './ui/TextInput';

function AddMealPlanRecipeModal({ mealPlanId, defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId }) {

  const [recipeId, setRecipeId] = useState('');
  const [date, setDate] = useState(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
  const [mealType, setMealType] = useState(defaultMealType || '');
  const [currentMealPlanRecipeId, setCurrentMealPlanRecipeId] = useState(mealPlanRecipeId);

  const { recipes, createMealPlanRecipe, updateMealPlanRecipe } = useData();

  useEffect(() => {
    setDate(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
    setMealType(defaultMealType || '');
    setRecipeId(defaultRecipeId || '');
    setCurrentMealPlanRecipeId(mealPlanRecipeId || '');
  }, [defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!mealPlanId || !recipeId || !mealType || !date) {
      alert('All fields are required.');
      return;
    }

    const mealPlanRecipe = {
      MealPlanID: mealPlanId,
      RecipeID: recipeId,
      MealType: mealType,
      Date: date,
    };

    console.log("Submitting mealPlanRecipeId:", currentMealPlanRecipeId);

    try {
      if (currentMealPlanRecipeId) {
        // Update the existing meal plan recipe
        await updateMealPlanRecipe(currentMealPlanRecipeId, mealPlanRecipe);
      } else {
        // Create a new meal plan recipe
        await createMealPlanRecipe(mealPlanRecipe);
      }
      document.getElementById('add_meal_plan_recipe_modal').close();
      setRecipeId('');
      setMealType('');
      setDate('');
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add/update meal plan recipe');
    }
  };

  const recipeOptions = recipes.map(recipe => ({
    value: recipe.RecipeID,
    label: recipe.RecipeName,
  }));

  return (
    <Modal id="add_meal_plan_recipe_modal" title="Add/Update Meal in Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <Select
          label="Recipe"
          value={recipeId}
          onChange={(e) => setRecipeId(e.target.value)}
          required
          options={recipeOptions}
          defaultOption="Select a recipe"
        />
        <TextInput
          label="Date"
          type="date"
          value={date}
          onChange={(e) => setDate(e.target.value)}
          required
        />
        <Select
          label="Meal Type"
          value={mealType}
          onChange={(e) => setMealType(e.target.value)}
          required
          options={[
            { value: 'Breakfast', label: 'Breakfast' },
            { value: 'Lunch', label: 'Lunch' },
            { value: 'Dinner', label: 'Dinner' }
          ]}
          defaultOption="Select a meal type"
        />
        <Button type="submit">{currentMealPlanRecipeId ? 'Update Meal' : 'Add Meal'}</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeBookModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeBookModal() {
  const [bookName, setBookName] = useState('');
  const [authorID, setAuthorID] = useState('');
  const [coverArtURL, setCoverArtURL] = useState('');

  const { authors, createRecipeBook } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const recipeBook = {
      AuthorID: authorID,
      BookName: bookName,
      CoverArtURL: coverArtURL
    };

    try {
      await createRecipeBook(recipeBook);
      document.getElementById('add_recipe_book_modal').close();
    } catch (error) {
      alert('Failed to add book');
    }
  };

  const authorOptions = authors.map(author => ({
    value: author.AuthorID,
    label: author.AuthorName,
  }));

  return (
    <Modal id="add_recipe_book_modal" title="Add Recipe Book">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Book Name"
          value={bookName}
          onChange={(e) => setBookName(e.target.value)}
          required
        />
        <Select
          label="Author"
          value={authorID}
          onChange={(e) => setAuthorID(e.target.value)}
          required
          options={authorOptions}
          defaultOption="Select an author"
        />
        <TextInput
          label="Cover Art URL"
          value={coverArtURL}
          onChange={(e) => setCoverArtURL(e.target.value)}
        />
        <Button>Add Book</Button>
      </form>
    </Modal>
  );
}

export default AddRecipeBookModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import Fuse from 'fuse.js';
import { useData } from '../context/DataContext';
import AddIngredientModal from './AddIngredientModal';
import Table from './ui/Table';
import Button from './ui/Button';
import Modal from './ui/Modal';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeIngredientModal({ recipeId }) {
  const [selectedIngredientId, setSelectedIngredientId] = useState('');
  const [quantity, setQuantity] = useState('');
  const [selectedUnitId, setSelectedUnitId] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [filteredIngredients, setFilteredIngredients] = useState([]);
  const [defaultUnitId, setDefaultUnitId] = useState('');

  const { ingredients, units, categories, subCategories, createRecipeIngredient } = useData();

  useEffect(() => {
    if (ingredients.length && categories.length && subCategories.length) {
      const updatedIngredients = ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      });
      setFilteredIngredients(updatedIngredients);
    }
  }, [ingredients, categories, subCategories]);

  const handleSearch = (e) => {
    const term = e.target.value;
    setSearchTerm(term);

    if (term === '') {
      setFilteredIngredients(ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      }));
    } else {
      const fuse = new Fuse(filteredIngredients, {
        keys: ['IngredientName', 'CategoryName', 'SubCategoryName'],
        threshold: 0.3, // Adjust the threshold as needed
      });

      const result = fuse.search(term);
      setFilteredIngredients(result.map((r) => r.item));
    }
  };

  const handleAddClick = (ingredientId) => {
    const ingredient = ingredients.find((ing) => ing.IngredientID === ingredientId);
    if (ingredient) {
      setSelectedIngredientId(ingredientId);
      setDefaultUnitId(ingredient.PurchaseUnitID || ''); // Handle missing PurchaseUnitID
      setSelectedUnitId(ingredient.PurchaseUnitID || ''); // Set the default unit id
      document.getElementById('quantity_unit_modal').showModal();
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    const data = {
      RecipeID: recipeId,
      IngredientID: selectedIngredientId,
      Quantity: parseFloat(quantity),
      UnitID: selectedUnitId || defaultUnitId,
    };

    try {
      await createRecipeIngredient(data);
      window.location.reload(); // Refresh the page to show the new ingredient
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add ingredient');
    }
  };

  const handleAddNewIngredient = () => {
    document.getElementById('add_ingredient_modal').showModal();
  };

  const handleNewIngredientAdded = (newIngredient) => {
    if (newIngredient && newIngredient.PurchaseUnitID) {
      setFilteredIngredients((prevIngredients) => [
        ...prevIngredients,
        {
          ...newIngredient,
          CategoryName: '',
          SubCategoryName: '',
        },
      ]);

      // Automatically select the newly added ingredient and open the quantity/unit modal
      setSelectedIngredientId(newIngredient.IngredientID);
      setDefaultUnitId(newIngredient.PurchaseUnitID);
      setSelectedUnitId(newIngredient.PurchaseUnitID);
      setQuantity(''); // Reset the quantity
      document.getElementById('quantity_unit_modal').showModal();
    } else {
      alert('New ingredient does not have a PurchaseUnitID');
    }
  };

  const headers = ['Ingredient', 'Category', 'Sub-Category', 'Action'];
  const data = filteredIngredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientName,
      ingredient.CategoryName,
      ingredient.SubCategoryName,
      <Button
        size="sm"
        variant="primary"
        outline={true}
        onClick={() => handleAddClick(ingredient.IngredientID)}
      >
        Add
      </Button>
    ],
  }));

  const unitOptions = units.map(unit => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  return (
    <div>
      <Modal id="add_recipe_ingredient_modal" title="Add Ingredient to Recipe" wide={true}>
        <div className='flex flex-col gap-4 mb-8'>
          <TextInput
            label="Search Ingredient"
            value={searchTerm}
            onChange={handleSearch}
            placeholder="Type to search ingredients..."
          />

          <Button
            outline={true}
            size='sm'
            onClick={handleAddNewIngredient}
          >Add New Ingredient</Button>
        </div>
        <Table headers={headers} data={data} />
      </Modal>

      <Modal id="quantity_unit_modal" title="Enter Quantity and Unit">
        <form onSubmit={handleSubmit} className="flex gap-4 flex-col mt-4">
          <TextInput
            label="Quantity"
            value={quantity}
            onChange={(e) => setQuantity(e.target.value)}
            required
          />

          <Select
            label="Unit"
            value={selectedUnitId || defaultUnitId}
            onChange={(e) => setSelectedUnitId(e.target.value)}
            required
            options={unitOptions}
            defaultOption="Select a unit"
          />
          <Button>Add Ingredient</Button>
        </form>
      </Modal>

      <AddIngredientModal onIngredientAdded={handleNewIngredientAdded} />
    </div>
  );
}

export default AddRecipeIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeModal() {
    const [recipeName, setRecipeName] = useState('');
    const [authorID, setAuthorID] = useState('');
    const [bookID, setBookID] = useState('');
    const [pageNumber, setPageNumber] = useState('');
    const [onlineURL, setOnlineURL] = useState('');
    const [cookTime, setCookTime] = useState('');
    const [difficulty, setDifficulty] = useState('');
    const [type, setType] = useState('');
    const [imageURL, setImageURL] = useState('');
    const [servings, setServings] = useState('');
    const [cuisine, setCuisine] = useState('');
    const [filteredBooks, setFilteredBooks] = useState([]);

    const { authors, recipeBooks, createRecipe } = useData();

    useEffect(() => {
        if (authorID) {
            setFilteredBooks(recipeBooks.filter(book => book.AuthorID === parseInt(authorID)));
        } else {
            setFilteredBooks([]);
        }
    }, [authorID, recipeBooks]);

    const handleAuthorChange = (e) => {
        setAuthorID(e.target.value);
        setBookID(''); // Reset book selection when author changes
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        const recipe = {
            RecipeName: recipeName,
            AuthorID: parseInt(authorID) || null,
            BookID: parseInt(bookID) || null,
            PageNumber: parseInt(pageNumber) || null,
            OnlineURL: onlineURL,
            CookTime: parseInt(cookTime) || null,
            Difficulty: difficulty,
            Type: type,
            ImageURL: imageURL,
            Servings: parseInt(servings) || null,
            Cuisine: cuisine,
        };

        try {
            await createRecipe(recipe);
            document.getElementById('add_recipe_modal').close();
        } catch (error) {
            alert('Failed to add recipe');
        }
    };

    const authorOptions = authors.map(author => ({
        value: author.AuthorID,
        label: author.AuthorName
    }));

    const bookOptions = filteredBooks.map(book => ({
        value: book.BookID,
        label: book.BookName
    }));

    return (
        <Modal id="add_recipe_modal" title="Add Recipe">
            <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
                <TextInput
                    label="Recipe Name"
                    value={recipeName}
                    onChange={(e) => setRecipeName(e.target.value)}
                    required
                />
                <Select
                    label="Author"
                    value={authorID}
                    onChange={handleAuthorChange}
                    options={authorOptions}
                    defaultOption="Select an author"
                />
                <Select
                    label="Book"
                    value={bookID}
                    onChange={(e) => setBookID(e.target.value)}
                    options={bookOptions}
                    defaultOption="Select a book"
                    disabled={!authorID}
                />
                <TextInput
                    label="Page Number"
                    type="number"
                    value={pageNumber}
                    onChange={(e) => setPageNumber(e.target.value)}
                    disabled={!bookID}
                />
                <TextInput
                    label="Online URL"
                    type="url"
                    value={onlineURL}
                    onChange={(e) => setOnlineURL(e.target.value)}
                />
                <TextInput
                    label="Cook Time (minutes)"
                    type="number"
                    value={cookTime}
                    onChange={(e) => setCookTime(e.target.value)}
                    required
                />
                <TextInput
                    label="Difficulty"
                    value={difficulty}
                    onChange={(e) => setDifficulty(e.target.value)}
                />
                <TextInput
                    label="Type"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                />
                <TextInput
                    label="Image URL"
                    type="url"
                    value={imageURL}
                    onChange={(e) => setImageURL(e.target.value)}
                />
                <TextInput
                    label="Servings"
                    type="number"
                    value={servings}
                    onChange={(e) => setServings(e.target.value)}
                    required
                />
                <TextInput
                    label="Cuisine"
                    value={cuisine}
                    onChange={(e) => setCuisine(e.target.value)}
                />
                <Button>Add Recipe</Button>
            </form>
        </Modal>
    );
}

export default AddRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddSubCategoryModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddSubCategoryModal() {
  const [subCategoryName, setSubCategoryName] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const { categories, createSubCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const subCategory = {
      SubCategoryName: subCategoryName,
      CategoryID: categoryId,
    };

    try {
      await createSubCategory(subCategory);
      document.getElementById('add_sub_category_modal').close();
    } catch (error) {
      console.error('Error adding sub-category:', error);
      alert('Failed to add sub-category');
    }
  };

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  return (
    <Modal id="add_sub_category_modal" title="Add Sub-Category">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Sub-Category Name"
          value={subCategoryName}
          onChange={(e) => setSubCategoryName(e.target.value)}
          required
        />        
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Button>Add Sub-Category</Button>
      </form>
    </Modal>
  );
}

export default AddSubCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AuthorTable.jsx ====================

// src/components/AuthorTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import Table from './ui/Table';
import DeleteButton from './ui/DeleteButton';

function AuthorTable() {
  const { authors, deleteAuthor } = useData();

  const handleDelete = async (authorId) => {
    if (window.confirm('Are you sure you want to delete this author?')) {
      await deleteAuthor(authorId);
    }
  };

  const headers = ['#', 'Author Name', 'Actions'];

  const data = authors.map((author, index) => ({
    id: author.AuthorID,
    cells: [
      index + 1,
      author.AuthorName,
      <DeleteButton onClick={() => handleDelete(author.AuthorID)} />      
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default AuthorTable;


==================== C:\Code\recipe-app\client\src\components\Calendar.jsx ====================

// src/components/Calendar.jsx
import React from 'react';
import Button from './ui/Button';
import { format, eachDayOfInterval, parseISO } from 'date-fns';

const Calendar = ({ mealPlan, mealPlanRecipes, recipes, onAddMeal, onModifyMeal }) => {
  const days = eachDayOfInterval({
    start: parseISO(mealPlan.StartDate),
    end: parseISO(mealPlan.EndDate),
  });

  const getMealForDay = (date, mealType) => {
    return mealPlanRecipes.find(
      (mpr) => mpr.Date === format(date, 'yyyy-MM-dd') && mpr.MealType === mealType
    );
  };

  const getRecipeName = (recipeId) => {
    const recipe = recipes.find(r => r.RecipeID === recipeId);
    return recipe ? recipe.RecipeName : 'Unknown Recipe';
  };

  return (
    <div className="grid grid-cols-1 gap-4">
      {days.map((day) => (
        <div key={day} className="border p-2">
          <h3 className="font-bold">{format(day, 'eee, MMM d')}</h3>
          {['Breakfast', 'Lunch', 'Dinner'].map((mealType) => {
            const meal = getMealForDay(day, mealType);
            return (
              <div key={mealType} className="my-2">
                <h4 className="font-semibold">{mealType}</h4>
                {meal ? (
                  <div>
                    <div>{getRecipeName(meal.RecipeID)}</div>
                    <div className="flex gap-2">
                      <Button
                        size="sm"
                        variant="secondary"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID)}
                      >
                        Modify
                      </Button>
                      <Button
                        size="sm"
                        variant="error"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID, true)}
                      >
                        Remove
                      </Button>
                    </div>
                  </div>
                ) : (
                  <Button
                    size="sm"
                    variant="secondary"
                    outline
                    onClick={() => onAddMeal(day, mealType)}
                  >
                    Add {mealType}
                  </Button>
                )}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
};

export default Calendar;


==================== C:\Code\recipe-app\client\src\components\CategoryTable.jsx ====================

// src/components/CategoryTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function CategoryTable() {
  const { categories, subCategories, deleteCategory } = useData();

  const handleDelete = async (categoryId) => {
    if (window.confirm('Are you sure you want to delete this category?')) {
      await deleteCategory(categoryId);
    }
  };

  const headers = ['ID', 'Category Name', 'Sub-Categories', 'Actions'];

  const data = categories.map((category, index) => {
    const categorySubCategories = subCategories.filter(sub => sub.CategoryID === category.CategoryID).map(sub => sub.SubCategoryName).join(', ');

    return {
      id: category.CategoryID,
      cells: [
        category.CategoryID,
        category.CategoryName,
        categorySubCategories || 'None',
        <DeleteButton onClick={() => handleDelete(category.CategoryID)} />
      ],
    };
  });

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default CategoryTable;


==================== C:\Code\recipe-app\client\src\components\IngredientTable.jsx ====================

// src/components/IngredientTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function IngredientTable() {
  const { ingredients, categories, subCategories, units, deleteIngredient } = useData();

  const handleDelete = async (ingredientId) => {
    if (window.confirm('Are you sure you want to delete this ingredient?')) {
      try {
        await deleteIngredient(ingredientId);
      } catch (error) {
        alert('Failed to delete ingredient');
      }
    }
  };

  const getSubCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    return subCategory ? subCategory.SubCategoryName : 'Unknown';
  };

  const getCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    if (subCategory) {
      const category = categories.find(category => category.CategoryID === subCategory.CategoryID);
      return category ? category.CategoryName : 'Unknown';
    }
    return 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const headers = ['ID', 'Ingredient Name', 'Purchase Weight Volume', 'Purchase Unit', 'Category', 'Subcategory', 'Purchase Weight Unit', 'Actions'];

  const data = ingredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientID,
      ingredient.IngredientName,
      ingredient.PurchaseWeightVolume,
      getUnitName(ingredient.PurchaseUnitID),
      getCategoryName(ingredient.SubCategoryID),
      getSubCategoryName(ingredient.SubCategoryID),
      getUnitName(ingredient.PurchaseWeightUnitID),
      <DeleteButton onClick={() => handleDelete(ingredient.IngredientID)} />
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default IngredientTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanRecipeTable.jsx ====================

// src/components/MealPlanRecipeTable.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanRecipeTable({ mealPlanId }) {
    const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

    const handleDelete = async (mealPlanRecipeId) => {
        if (window.confirm('Are you sure you want to delete this meal?')) {
            try {
                await deleteMealPlanRecipe(mealPlanRecipeId);
            } catch (error) {
                alert('Failed to delete meal');
            }
        }
    };

    const getRecipeName = (recipeId) => {
        const recipe = recipes.find(recipe => recipe.RecipeID === recipeId);
        return recipe ? recipe.RecipeName : 'Unknown';
    };

    const headers = ['ID', 'Recipe', 'Meal Type', 'Date', 'Actions'];

    const data = mealPlanRecipes
        .filter(mpr => mpr.MealPlanID === mealPlanId)
        .map((mealPlanRecipe) => ({
            id: mealPlanRecipe.MealPlanRecipeID,
            cells: [
                mealPlanRecipe.MealPlanRecipeID,
                getRecipeName(mealPlanRecipe.RecipeID),
                mealPlanRecipe.MealType,
                mealPlanRecipe.Date,
                <DeleteButton onClick={() => handleDelete(mealPlanRecipe.MealPlanRecipeID)} />,
            ],
        }));

    function handleAddClick() {
        document.getElementById('add_meal_plan_recipe_modal').showModal();
    }

    return (
        <div className="overflow-x-auto">
            <Button size='sm' outline={true} variant='secondary' onClick={handleAddClick}>Add meal</Button>
            <Table headers={headers} data={data} />
        </div>
    );
}

export default MealPlanRecipeTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanTable.jsx ====================

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanTable({ onManageMeals }) {
  const { mealPlans, deleteMealPlan } = useData();

  const handleDelete = async (mealPlanId) => {
    if (window.confirm('Are you sure you want to delete this meal plan?')) {
      try {
        await deleteMealPlan(mealPlanId);
      } catch (error) {
        alert('Failed to delete meal plan');
      }
    }
  };

  const headers = ['ID', 'Plan Name', 'Start Date', 'End Date', 'Actions'];

  const data = mealPlans.map((mealPlan) => ({
    id: mealPlan.MealPlanID,
    cells: [
      mealPlan.MealPlanID,
      mealPlan.PlanName,
      mealPlan.StartDate,
      mealPlan.EndDate,
      <div className="flex gap-2">
        <Button
          size="sm"
          variant="primary"
          outline={true}
          onClick={() => onManageMeals(mealPlan)}
        >
          Manage Meals
        </Button>
        <DeleteButton onClick={() => handleDelete(mealPlan.MealPlanID)} />
      </div>
    ],
  }));

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default MealPlanTable;


==================== C:\Code\recipe-app\client\src\components\NavBar.jsx ====================

// src/components/NavBar.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import ThemeSwitcher from './ThemeSwitcher';
import { useAuth } from '../context/AuthContext';

const NavBar = () => {
  const { isAuthenticated, logout } = useAuth();

  return (
    <nav className="navbar justify-between bg-base-300">
      <a className="btn btn-ghost text-lg">
        <img alt="Logo" src="../vite.svg" className="w-4" />
        Recipe App
      </a>
      <div className="dropdown dropdown-end sm:hidden">
        <button className="btn btn-ghost">
          <i className="fa-solid fa-bars text-lg"></i>
        </button>

        <ul tabIndex="0" className="dropdown-content menu z-[1] bg-base-200 p-6 rounded-box shadow w-56 gap-2">
          <li><a>About</a></li>
          <li><a>Pricing</a></li>
          <li><a>Blog</a></li>
          <li><a>Contact</a></li>
          <a className="btn btn-sm btn-primary">Log in</a>
        </ul>
      </div>
      <div className="hidden sm:flex gap-2">
        <ThemeSwitcher />       
        {isAuthenticated ? (
          <button
            onClick={logout}
            className="btn btn-primary btn-sm"
          >
            Logout
          </button>
        ) : (
          <>
            <Link to="/register" className="btn btn-ghost btn-sm">Register</Link>
            <Link to="/login" className="btn btn-primary btn-sm">Login</Link>
          </>
        )}
      </div>
    </nav>
  );
};

export default NavBar;


==================== C:\Code\recipe-app\client\src\components\PrivateRoute.jsx ====================

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import SideBar from './SideBar';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  return (
    <div className="flex grow">     
      <div className="flex flex-col px-8 py-6 grow">
        {children}
      </div>
    </div>
  );
};

export default PrivateRoute;


==================== C:\Code\recipe-app\client\src\components\RecipeBookTable.jsx ====================

// src/components/RecipeBookTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';

function RecipeBookTable() {
  const { recipeBooks, authors, deleteRecipeBook } = useData();

  const handleDelete = async (bookId) => {
    if (window.confirm('Are you sure you want to delete this book?')) {
      try {
        await deleteRecipeBook(bookId);
      } catch (error) {
        alert('Failed to delete book');
      }
    }
  };

  const getAuthorName = (authorId) => {
    const author = authors.find(author => author.AuthorID === authorId);
    return author ? author.AuthorName : 'Unknown';
  };

  const headers = ['#', 'Book Name', 'Author Name', 'Actions'];

  const data = useMemo(() => 
    recipeBooks.map((book, index) => ({
      id: book.BookID,
      cells: [
        index + 1,
        book.BookName,
        getAuthorName(book.AuthorID),
        <DeleteButton onClick={() => handleDelete(book.BookID)} />,
      ],
    })),
    [recipeBooks, authors]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeBookTable;


==================== C:\Code\recipe-app\client\src\components\RecipeTable.jsx ====================

// src/components/RecipeTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function RecipeTable({ onAddIngredients }) {
  const { recipes, ingredients, units, recipeIngredients, deleteRecipe } = useData();

  const handleDelete = async (recipeId) => {
    if (window.confirm('Are you sure you want to delete this recipe?')) {
      try {
        await deleteRecipe(recipeId);
      } catch (error) {
        alert('Failed to delete recipe');
      }
    }
  };

  const getIngredientName = (ingredientId) => {
    const ingredient = ingredients.find(ingredient => ingredient.IngredientID === ingredientId);
    return ingredient ? ingredient.IngredientName : 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const renderIngredients = (recipeId) => {
    const filteredIngredients = recipeIngredients.filter(ri => ri.RecipeID === recipeId);
    return filteredIngredients.map(ingredient => (
      <li key={ingredient.RecipeIngredientID}>
        {ingredient.Quantity} {getUnitName(ingredient.UnitID)} of {getIngredientName(ingredient.IngredientID)}
      </li>
    ));
  };

  const headers = ['#', 'Recipe Name', 'Author ID', 'Ingredients', 'Actions'];

  const data = useMemo(() =>
    recipes.map((recipe, index) => ({
      id: recipe.RecipeID,
      cells: [
        index + 1,
        recipe.RecipeName,
        recipe.AuthorID,
        <ul className='list-disc ml-4'>
          {renderIngredients(recipe.RecipeID)}
        </ul>,
        <div className='flex gap-2'>
          <Button
            size="sm"
            variant="primary"
            outline={true}
            onClick={() => onAddIngredients(recipe.RecipeID)}
          >
            Add Ingredients
          </Button>
          <DeleteButton onClick={() => handleDelete(recipe.RecipeID)} />
        </div>
      ],
    })),
    [recipes, recipeIngredients, ingredients, units]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeTable;


==================== C:\Code\recipe-app\client\src\components\ShoppingList.jsx ====================

// src/components/ShoppingList.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';

function ShoppingList({ mealPlanId }) {
    const { getShoppingList } = useData();
    const shoppingList = getShoppingList(mealPlanId);

    const headers = ['Ingredient Name', 'Quantity', 'Unit'];

    const data = shoppingList.map((ingredient) => ({
        id: ingredient.IngredientID,
        cells: [
            ingredient.IngredientName,
            ingredient.Quantity,
            ingredient.unit ? ingredient.unit.UnitName : 'Unknown'
        ],
    }));

    return (
        <div className="overflow-x-auto">
            <Table headers={headers} data={data} />
        </div>
    );
}

export default ShoppingList;


==================== C:\Code\recipe-app\client\src\components\ShoppingListModal.jsx ====================

// src/components/ShoppingListModal.jsx

import React from 'react';
import Modal from './ui/Modal';

function ShoppingListModal({ shoppingList }) {
    return (
        <Modal id="shopping_list_modal" title="Generated Shopping List">
            {shoppingList ? (
                <ul className="list-disc ml-4">
                    {shoppingList.map((item, index) => (
                        <li key={index}>{item.Quantity} {item.UnitName} of {item.IngredientName}</li>
                    ))}
                </ul>
            ) : (
                <p>No items in the shopping list.</p>
            )}
        </Modal>
    );
}

export default ShoppingListModal;


==================== C:\Code\recipe-app\client\src\components\SideBar.jsx ====================

// src/components/SideBar.jsx

import React from "react";
import { NavLink } from "react-router-dom";
import { FaTachometerAlt, FaList, FaSitemap, FaLeaf, FaBook, FaUser, FaUtensils, FaCalendarAlt } from "react-icons/fa";

const menuItems = [
  { title: "Ingredients", isTitle: true },
  { title: "Categories", link: "/admin/manage-categories", Icon: FaList },
  { title: "Sub-categories", link: "/admin/manage-sub-categories", Icon: FaSitemap },
  { title: "Ingredients", link: "/admin/manage-ingredients", Icon: FaLeaf },
  { title: "Recipes", isTitle: true },
  { title: "Recipes", link: "/admin/manage-recipes", Icon: FaUtensils },
  { title: "Authors", link: "/admin/manage-authors", Icon: FaUser },
  { title: "Recipe books", link: "/admin/manage-recipe-books", Icon: FaBook },
  { title: "Meal Plans", link: "/admin/manage-meal-plans", Icon: FaCalendarAlt },
];

const MenuItem = ({ item }) => {
  if (item.isTitle) {
    return <li className="menu-title">{item.title}</li>;
  }

  const { Icon } = item;

  return (
    <li>
      <NavLink to={item.link} className={({ isActive }) => (isActive ? "active" : "")}>
        <Icon className="inline mr-2" />
        {item.title}
      </NavLink>
    </li>
  );
};

export default function SideBar() {
  return (
    <aside className="sticky top-0 overflow-y-auto w-60 bg-base-200 p-4 min-w-60">
      <ul className="menu px-0 gap-1">
        {menuItems.map((item, index) => (
          <MenuItem key={index} item={item} />
        ))}
      </ul>
    </aside>
  );
}


==================== C:\Code\recipe-app\client\src\components\SubCategoryTable.jsx ====================

// src/components/SubCategoryTable.jsx
import React, { useState, useMemo } from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function SubCategoryTable() {
  const [selectedCategories, setSelectedCategories] = useState([]);
  const { categories, subCategories, deleteSubCategory } = useData();

  const handleDelete = async (subCategoryId) => {
    if (window.confirm('Are you sure you want to delete this sub-category?')) {
      try {
        await deleteSubCategory(subCategoryId);
      } catch (error) {
        alert('Failed to delete sub-category');
      }
    }
  };

  const getCategoryName = (categoryId) => {
    const category = categories.find(category => category.CategoryID === categoryId);
    return category ? category.CategoryName : 'Unknown';
  };

  const handleCategoryChange = (e) => {
    const selectedValue = parseInt(e.target.value);
    setSelectedCategories(prevSelected =>
      prevSelected.includes(selectedValue)
        ? prevSelected.filter(id => id !== selectedValue)
        : [...prevSelected, selectedValue]
    );
  };

  const filteredSubCategories = useMemo(() => 
    selectedCategories.length > 0
      ? subCategories.filter(subCategory => selectedCategories.includes(subCategory.CategoryID))
      : subCategories,
    [subCategories, selectedCategories]
  );

  const headers = ['#', 'Sub-Category Name', 'Category Name', 'Actions'];

  const data = useMemo(() =>
    filteredSubCategories.map((subCategory, index) => ({
      id: subCategory.SubCategoryID,
      cells: [
        index + 1,
        subCategory.SubCategoryName,
        getCategoryName(subCategory.CategoryID),
        <DeleteButton key={subCategory.SubCategoryID} onClick={() => handleDelete(subCategory.SubCategoryID)} />
      ],
    })),
    [filteredSubCategories, categories]
  );

  return (
    <div className="overflow-x-auto">
      <div className="flex items-center mb-4">
        <label className="mr-2">Filter by Category:</label>
        <select
          className="select select-bordered"
          value=""
          onChange={handleCategoryChange}
        >
          <option value="" disabled>Select Categories</option>
          {categories.map(category => (
            <option
              key={category.CategoryID}
              value={category.CategoryID}
              disabled={selectedCategories.includes(category.CategoryID)}
            >
              {category.CategoryName}
            </option>
          ))}
        </select>
      </div>
      <div className="mb-4">
        {selectedCategories.map(categoryId => (
          <div key={categoryId} className="badge badge-primary mr-2">
            {getCategoryName(categoryId)}
            <button
              type="button"
              className="ml-1"
              onClick={() => setSelectedCategories(selectedCategories.filter(id => id !== categoryId))}
            >
              
            </button>
          </div>
        ))}
      </div>
      <Table headers={headers} data={data} />
    </div>
  );
}

export default SubCategoryTable;


==================== C:\Code\recipe-app\client\src\components\ThemeSwitcher.jsx ====================

import React, { useEffect, useState } from 'react';

const ThemeSwitcher = () => {
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      setTheme(savedTheme);
    }
  }, []);

  const handleThemeChange = (event) => {
    const selectedTheme = event.target.value;
    document.documentElement.setAttribute('data-theme', selectedTheme);
    localStorage.setItem('theme', selectedTheme);
    setTheme(selectedTheme);
  };

  return (   
    <div className="dropdown dropdown-end">
      <select className="btn btn-ghost btn-sm" value={theme} onChange={handleThemeChange}>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="cupcake">Cupcake</option>
        <option value="bumblebee">Bumblebee</option>
        <option value="emerald">Emerald</option>
        <option value="corporate">Corporate</option>
        <option value="synthwave">Synthwave</option>
        <option value="retro">Retro</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="valentine">Valentine</option>
        <option value="halloween">Halloween</option>
        <option value="garden">Garden</option>
        <option value="forest">Forest</option>
        <option value="aqua">Aqua</option>
        <option value="lofi">Lofi</option>
        <option value="pastel">Pastel</option>
        <option value="fantasy">Fantasy</option>
        <option value="wireframe">Wireframe</option>
        <option value="black">Black</option>
        <option value="luxury">Luxury</option>
        <option value="dracula">Dracula</option>
        <option value="cmyk">CMYK</option>
        <option value="autumn">Autumn</option>
        <option value="business">Business</option>
        <option value="acid">Acid</option>
        <option value="lemonade">Lemonade</option>
        <option value="night">Night</option>
        <option value="coffee">Coffee</option>
        <option value="winter">Winter</option>
      </select>
    </div>
  );
};

export default ThemeSwitcher;


==================== C:\Code\recipe-app\client\src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== C:\Code\recipe-app\client\src\components\ui\Card.jsx ====================

// src/components/ui/Card.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import Button from './Button';

const Card = ({ title, count, link, children }) => {
    return (
        <div className="card bg-base-100 w-96 shadow-xl">
            <div className="card-body">
                <h2 className="card-title">{title}</h2>
                {count && <p className="text-2xl font-bold">{count}</p>}
                {children}
                <div className="card-actions justify-end">
                    <Link to={link}>
                        <Button
                            variant='secondary'
                            outline={true}
                        >
                            Manage
                        </Button>
                    </Link>
                </div>
            </div>
        </div>
    );
};

export default Card;


==================== C:\Code\recipe-app\client\src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== C:\Code\recipe-app\client\src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== C:\Code\recipe-app\client\src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== C:\Code\recipe-app\client\src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== C:\Code\recipe-app\client\src\components\ui\TextInput.jsx ====================

import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered', min, max }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
        min={min}
        max={max}
      />
    </label>
  );
};

export default TextInput;


==================== C:\Code\recipe-app\client\src\context\AuthContext.jsx ====================

import React, { createContext, useContext, useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    const storedAuth = localStorage.getItem('isAuthenticated');
    if (storedAuth === 'true') {
      setIsAuthenticated(true);
    }
    setLoading(false); // Indicate that the auth status has been checked
  }, []);

  const login = async (username, password) => {
    const response = await fetch('http://localhost:8000/api/users/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Password: password }),
    });

    if (response.ok) {
      setIsAuthenticated(true);
      localStorage.setItem('isAuthenticated', 'true');
      navigate('/');
    } else {
      alert('Login failed');
    }
  };

  const logout = () => {
    setIsAuthenticated(false);
    localStorage.removeItem('isAuthenticated');
    navigate('/login');
  };

  if (loading) {
    return <div>Loading...</div>; // Display a loading message or spinner while checking auth status
  }

  return (
    <AuthContext.Provider value={{ isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);


==================== C:\Code\recipe-app\client\src\context\DataContext.jsx ====================

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);
  const [mealPlans, setMealPlans] = useState([]);
  const [mealPlanRecipes, setMealPlanRecipes] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
          mealPlansData,
          mealPlanRecipesData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
          apiService.getMealPlans(),
          apiService.getMealPlanRecipes(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
        setMealPlans(mealPlansData);
        setMealPlanRecipes(mealPlanRecipesData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    try {
      const newCategory = await apiService.addCategory(categoryName);
      setCategories([...categories, newCategory]);
    } catch (error) {
      console.error('Error adding category:', error);
    }
  };

  const updateCategory = async (categoryId, categoryName) => {
    try {
      const updatedCategory = await apiService.updateCategory(categoryId, categoryName);
      setCategories(categories.map(cat => (cat.CategoryID === categoryId ? updatedCategory : cat)));
    } catch (error) {
      console.error('Error updating category:', error);
    }
  };

  const deleteCategory = async (categoryId) => {
    try {
      await apiService.deleteCategory(categoryId);
      setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
    } catch (error) {
      console.error('Error deleting category:', error);
    }
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    try {
      const newSubCategory = await apiService.addSubCategory(subCategory);
      setSubCategories([...subCategories, newSubCategory]);
    } catch (error) {
      console.error('Error adding subcategory:', error);
    }
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    try {
      const updatedSubCategory = await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
      setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? updatedSubCategory : sub)));
    } catch (error) {
      console.error('Error updating subcategory:', error);
    }
  };

  const deleteSubCategory = async (subCategoryId) => {
    try {
      await apiService.deleteSubCategory(subCategoryId);
      setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
    } catch (error) {
      console.error('Error deleting subcategory:', error);
    }
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    try {
      const newIngredient = await apiService.addIngredient(ingredient);
      setIngredients([...ingredients, newIngredient]);
    } catch (error) {
      console.error('Error adding ingredient:', error);
    }
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    try {
      const updatedIngredient = await apiService.updateIngredient(ingredientId, ingredient);
      setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? updatedIngredient : ing)));
    } catch (error) {
      console.error('Error updating ingredient:', error);
    }
  };

  const deleteIngredient = async (ingredientId) => {
    try {
      await apiService.deleteIngredient(ingredientId);
      setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
    } catch (error) {
      console.error('Error deleting ingredient:', error);
    }
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    try {
      const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
      setAuthors([...authors, newAuthor]);
    } catch (error) {
      console.error('Error adding author:', error);
    }
  };

  const updateAuthor = async (authorId, author) => {
    try {
      const updatedAuthor = await apiService.updateAuthor(authorId, author);
      setAuthors(authors.map(auth => (auth.AuthorID === authorId ? updatedAuthor : auth)));
    } catch (error) {
      console.error('Error updating author:', error);
    }
  };

  const deleteAuthor = async (authorId) => {
    try {
      await apiService.deleteAuthor(authorId);
      setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
    } catch (error) {
      console.error('Error deleting author:', error);
    }
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    try {
      const newRecipeBook = await apiService.addRecipeBook(recipeBook);
      setRecipeBooks([...recipeBooks, newRecipeBook]);
    } catch (error) {
      console.error('Error adding recipe book:', error);
    }
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    try {
      const updatedRecipeBook = await apiService.updateRecipeBook(recipeBookId, recipeBook);
      setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? updatedRecipeBook : book)));
    } catch (error) {
      console.error('Error updating recipe book:', error);
    }
  };

  const deleteRecipeBook = async (recipeBookId) => {
    try {
      await apiService.deleteRecipeBook(recipeBookId);
      setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
    } catch (error) {
      console.error('Error deleting recipe book:', error);
    }
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    try {
      const newRecipe = await apiService.addRecipe(recipe);
      setRecipes([...recipes, newRecipe]);
    } catch (error) {
      console.error('Error adding recipe:', error);
      throw error; // Ensure to rethrow the error to be caught in the component
    }
  };

  const updateRecipe = async (recipeId, recipe) => {
    try {
      const updatedRecipe = await apiService.updateRecipe(recipeId, recipe);
      setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? updatedRecipe : rec)));
    } catch (error) {
      console.error('Error updating recipe:', error);
    }
  };

  const deleteRecipe = async (recipeId) => {
    try {
      await apiService.deleteRecipe(recipeId);
      setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
    } catch (error) {
      console.error('Error deleting recipe:', error);
    }
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    try {
      const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
      setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
    } catch (error) {
      console.error('Error adding recipe ingredient:', error);
    }
  };

  // Meal Plans CRUD
  const createMealPlan = async (mealPlan) => {
    try {
      const newMealPlan = await apiService.addMealPlan(mealPlan);
      setMealPlans([...mealPlans, newMealPlan]);
    } catch (error) {
      console.error('Error adding meal plan:', error);
    }
  };

  const updateMealPlan = async (mealPlanId, mealPlan) => {
    try {
      const updatedMealPlan = await apiService.updateMealPlan(mealPlanId, mealPlan);
      setMealPlans(mealPlans.map(mp => (mp.MealPlanID === mealPlanId ? updatedMealPlan : mp)));
    } catch (error) {
      console.error('Error updating meal plan:', error);
    }
  };

  const deleteMealPlan = async (mealPlanId) => {
    try {
      await apiService.deleteMealPlan(mealPlanId);
      setMealPlans(mealPlans.filter(mp => mp.MealPlanID !== mealPlanId));
    } catch (error) {
      console.error('Error deleting meal plan:', error);
    }
  };

  // Meal Plan Recipes CRUD
  const createMealPlanRecipe = async (mealPlanRecipe) => {
    try {
      const newMealPlanRecipe = await apiService.addMealPlanRecipe(mealPlanRecipe);
      setMealPlanRecipes([...mealPlanRecipes, newMealPlanRecipe]);
    } catch (error) {
      console.error('Error adding meal plan recipe:', error);
    }
  };

  const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    try {
      const updatedMealPlanRecipe = await apiService.updateMealPlanRecipe(mealPlanRecipeId, mealPlanRecipe);
      setMealPlanRecipes(prev => prev.map(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId ? updatedMealPlanRecipe : mpr));
    } catch (error) {
      console.error('Error updating meal plan recipe:', error);
    }
  };

  const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    try {
      await apiService.deleteMealPlanRecipe(mealPlanRecipeId);
      setMealPlanRecipes(mealPlanRecipes.filter(mpr => mpr.MealPlanRecipeID !== mealPlanRecipeId));
    } catch (error) {
      console.error('Error deleting meal plan recipe:', error);
    }
  };

  const getShoppingList = (mealPlanId) => {
    const filteredMealPlanRecipes = mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlanId);

    const ingredientMap = new Map();

    filteredMealPlanRecipes.forEach(mpr => {
      const recipeId = mpr.RecipeID;
      const recipeIngredientsForRecipe = recipeIngredients.filter(ri => ri.RecipeID === recipeId);

      recipeIngredientsForRecipe.forEach(ri => {
        const ingredient = ingredients.find(ing => ing.IngredientID === ri.IngredientID);
        const unit = units.find(unit => unit.UnitID === ri.UnitID);
        if (ingredient) {
          const existing = ingredientMap.get(ingredient.IngredientID);
          if (existing) {
            existing.Quantity += ri.Quantity;
          } else {
            ingredientMap.set(ingredient.IngredientID, {
              ...ingredient,
              Quantity: ri.Quantity,
              unit: unit || { UnitName: 'Unknown' }
            });
          }
        }
      });
    });

    return Array.from(ingredientMap.values());
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient,
        mealPlans, createMealPlan, updateMealPlan, deleteMealPlan,
        mealPlanRecipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe,
        getShoppingList,
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== C:\Code\recipe-app\client\src\pages\Dashboard.jsx ====================

// src/pages/Home.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';

function Dashboard() {
  const { categories, subCategories, ingredients, authors, recipeBooks, recipes } = useData();

  const items = [
    { name: 'Categories', count: categories.length, link: '/manage-categories' },
    { name: 'Subcategories', count: subCategories.length, link: '/manage-sub-categories' },
    { name: 'Ingredients', count: ingredients.length, link: '/manage-ingredients' },
    { name: 'Authors', count: authors.length, link: '/manage-authors' },
    { name: 'Recipe Books', count: recipeBooks.length, link: '/manage-recipe-books' },
    { name: 'Recipes', count: recipes.length, link: '/manage-recipes' },
  ];

  return (
    <div className="flex flex-wrap gap-4 p-6">
      {items.map((item, index) => (
        <Card key={index} title={item.name} count={item.count} link={item.link} />
      ))}
    </div>
  );
}

export default Dashboard;


==================== C:\Code\recipe-app\client\src\pages\Home.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';
import Button from '../components/ui/Button';
import AddMealPlanModal from '../components/AddMealPlanModal';
import { format, isWithinInterval, parseISO, startOfWeek, endOfWeek, isFuture, isPast } from 'date-fns';
import { Link } from 'react-router-dom';

const Home = () => {
  const { mealPlans } = useData();
  const [isModalOpen, setIsModalOpen] = useState(false);

  const categorizeMealPlans = (mealPlans) => {
    const now = new Date();
    const currentWeekStart = startOfWeek(now, { weekStartsOn: 1 });
    const currentWeekEnd = endOfWeek(now, { weekStartsOn: 1 });

    const currentWeekPlans = mealPlans.filter(plan =>
      isWithinInterval(parseISO(plan.StartDate), { start: currentWeekStart, end: currentWeekEnd }) ||
      isWithinInterval(parseISO(plan.EndDate), { start: currentWeekStart, end: currentWeekEnd })
    );

    const upcomingPlans = mealPlans.filter(plan =>
      isFuture(parseISO(plan.StartDate)) && !currentWeekPlans.includes(plan)
    );

    const previousPlans = mealPlans.filter(plan =>
      isPast(parseISO(plan.EndDate)) && !currentWeekPlans.includes(plan)
    );

    return { currentWeekPlans, upcomingPlans, previousPlans };
  };

  const { currentWeekPlans, upcomingPlans, previousPlans } = categorizeMealPlans(mealPlans);

  const renderMealPlanCard = (plan) => (
    <Link to={`/meal-plan/${plan.MealPlanID}`} key={plan.MealPlanID}>
      <Card title={plan.PlanName} count={1}>
        <p>Start: {format(parseISO(plan.StartDate), 'yyyy-MM-dd')}</p>
        <p>End: {format(parseISO(plan.EndDate), 'yyyy-MM-dd')}</p>
      </Card>
    </Link>
  );

  const openModal = () => {
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_modal').showModal();
  };

  return (
    <div className="p-6">
      <h1 className="text-2xl font-bold mb-4">Current Week</h1>
      {currentWeekPlans.length > 0 ? (
        <div className="flex flex-wrap gap-4 mb-8">
          {currentWeekPlans.map(renderMealPlanCard)}
        </div>
      ) : (
        <div className="mb-8">
          <p>No current meal plans for this week.</p>
          <Button onClick={openModal}>Add Meal Plan</Button>
        </div>
      )}

      <h2 className="text-xl font-bold mb-4">Upcoming Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {upcomingPlans.map(renderMealPlanCard)}
      </div>

      <h2 className="text-xl font-bold mb-4">Previous Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {previousPlans.map(renderMealPlanCard)}
      </div>

      {isModalOpen && <AddMealPlanModal />}
    </div>
  );
};

export default Home;


==================== C:\Code\recipe-app\client\src\pages\Login.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import TextInput from '../components/ui/TextInput';
import Button from '../components/ui/Button';

function Login() {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleSubmit = async (e) => {
        e.preventDefault();
        await login(username, password);
    };

    return (
        <div className="flex items-start p-8 justify-center w-full">
            <div className="flex flex-col w-96 rounded-box bg-base-200 p-6 gap-4">
                <h1 className="text-3xl font-bold self-center">Log in</h1>
                {/* <span className="self-center flex gap-2">
                    Don't have an account?
                    <a className="link link-secondary" onClick={() => navigate('/register')}>Register</a>
                </span>
                <a className="btn btn-neutral">
                    <i className="fa-brands fa-google text-primary"></i>
                    Log in with Google
                </a>
                <div className="divider">OR</div> */}
                <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
                    <TextInput
                        label="Username"
                        value={username}
                        onChange={(e) => setUsername(e.target.value)}
                        required
                    />
                    <label className="form-control w-full">
                        <div className="label">
                            <span className="label-text">Password</span>
                            <a className="label-text link link-accent">Forgot password?</a>
                        </div>
                        <TextInput
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            required
                        />
                    </label>
                    <div className="form-control">
                        <label className="cursor-pointer label self-start gap-2">
                            <input type="checkbox" className="checkbox" />
                            <span className="label-text">Remember me</span>
                        </label>
                    </div>
                    <Button type="submit">Log in</Button>
                </form>
            </div>
        </div>
    );
}

export default Login;


==================== C:\Code\recipe-app\client\src\pages\ManageAuthors.jsx ====================

// src/pages/ManageAuthors.jsx
import React from 'react';
import AuthorTable from '../components/AuthorTable';
import AddAuthorModal from '../components/AddAuthorModal';

function ManageAuthors() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Authors</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_author_modal').showModal()}>Add Author</button>
      </div>
      <AuthorTable />
      <AddAuthorModal />
    </div>
  );
}

export default ManageAuthors;


==================== C:\Code\recipe-app\client\src\pages\ManageCategories.jsx ====================

// src/pages/ManageCategories.jsx
import React from 'react';
import CategoryTable from '../components/CategoryTable';
import AddCategoryModal from '../components/AddCategoryModal';

function ManageCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_category_modal').showModal()}>Add Category</button>
      </div>
      <CategoryTable />
      <AddCategoryModal />
    </div>
  );
}

export default ManageCategories;


==================== C:\Code\recipe-app\client\src\pages\ManageIngredients.jsx ====================

// src/pages/ManageIngredients.jsx
import React from 'react';
import IngredientTable from '../components/IngredientTable';
import AddIngredientModal from '../components/AddIngredientModal';

function ManageIngredients() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Ingredients</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_ingredient_modal').showModal()}>Add Ingredient</button>
      </div>
      <IngredientTable />
      <AddIngredientModal />
    </div>
  );
}

export default ManageIngredients;


==================== C:\Code\recipe-app\client\src\pages\ManageMealPlans.jsx ====================

// src/pages/ManageMealPlans.jsx

import React, { useState } from 'react';
import MealPlanTable from '../components/MealPlanTable';
import AddMealPlanModal from '../components/AddMealPlanModal';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';
import Calendar from '../components/Calendar';
import ShoppingList from '../components/ShoppingList';
import { useData } from '../context/DataContext';

function ManageMealPlans() {
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [addingMeal, setAddingMeal] = useState(null);
  const [modifyingMeal, setModifyingMeal] = useState(null);
  const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

  const handleAddMeals = (mealPlan) => {
    setSelectedMealPlan(mealPlan);
  };

  const handleAddMeal = (date, mealType) => {
    setAddingMeal({ date, mealType });
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = async (mealPlanRecipeId, remove = false) => {
    if (remove) {
      if (window.confirm('Are you sure you want to remove this meal?')) {
        try {
          await deleteMealPlanRecipe(mealPlanRecipeId);
        } catch (error) {
          console.log(error);
          alert('Failed to remove meal');
        }
      }
    } else {
      const mealPlanRecipe = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
      if (mealPlanRecipe) {
        setModifyingMeal(mealPlanRecipe);
        setAddingMeal({
          date: mealPlanRecipe.Date,
          mealType: mealPlanRecipe.MealType,
          recipeId: mealPlanRecipe.RecipeID,
          mealPlanRecipeId: mealPlanRecipeId
        });
        document.getElementById('add_meal_plan_recipe_modal').showModal();
      } else {
        console.error('Meal plan recipe not found:', mealPlanRecipeId);
      }
    }
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Meal Plans</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_meal_plan_modal').showModal()}>Add Meal Plan</button>
      </div>
      <MealPlanTable onManageMeals={handleAddMeals} />
      {selectedMealPlan && (
        <>
          <h2 className="text-2xl font-bold mt-6">Meals for Selected Plan</h2>
          <Calendar
            mealPlan={selectedMealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === selectedMealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
          />
          <h2 className="text-2xl font-bold mt-6">Shopping List</h2>
          <ShoppingList mealPlanId={selectedMealPlan.MealPlanID} />
        </>
      )}
      <AddMealPlanModal />
      {selectedMealPlan && (
        <AddMealPlanRecipeModal
          mealPlanId={selectedMealPlan.MealPlanID}
          startDate={selectedMealPlan.StartDate}
          endDate={selectedMealPlan.EndDate}
          defaultDate={addingMeal?.date}
          defaultMealType={addingMeal?.mealType}
          defaultRecipeId={addingMeal?.recipeId}
          mealPlanRecipeId={addingMeal?.mealPlanRecipeId}
        />
      )}
    </div>
  );
}

export default ManageMealPlans;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipeBooks.jsx ====================

// src/pages/ManageRecipeBooks.jsx
import React from 'react';
import RecipeBookTable from '../components/RecipeBookTable';
import AddRecipeBookModal from '../components/AddRecipeBookModal';

function ManageRecipeBooks() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipe Books</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_recipe_book_modal').showModal()}>Add Recipe Book</button>
      </div>
      <RecipeBookTable />
      <AddRecipeBookModal />
    </div>
  );
}

export default ManageRecipeBooks;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipes.jsx ====================

// src/pages/ManageRecipes.jsx
import React, { useState } from 'react';
import RecipeTable from '../components/RecipeTable';
import AddRecipeModal from '../components/AddRecipeModal';
import AddRecipeIngredientModal from '../components/AddRecipeIngredientModal';
import Button from '../components/ui/Button';

function ManageRecipes() {
  const [selectedRecipeId, setSelectedRecipeId] = useState(null);

  const handleAddIngredients = (recipeId) => {
    setSelectedRecipeId(recipeId);
    document.getElementById('add_recipe_ingredient_modal').showModal();
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipes</h1>
      <div>
        <Button
          size='sm'
          variant='secondary'
          outline={true}
          onClick={() => document.getElementById('add_recipe_modal').showModal()}
        >
          Add Recipe
        </Button>       
      </div>
      <RecipeTable onAddIngredients={handleAddIngredients} />
      <AddRecipeModal />
      <AddRecipeIngredientModal recipeId={selectedRecipeId} />
    </div>
  );
}

export default ManageRecipes;


==================== C:\Code\recipe-app\client\src\pages\ManageSubCategories.jsx ====================

// src/pages/ManageSubCategories.jsx
import React from 'react';
import SubCategoryTable from '../components/SubCategoryTable';
import AddSubCategoryModal from '../components/AddSubCategoryModal';

function ManageSubCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Sub-Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_sub_category_modal').showModal()}>Add Sub-Category</button>
      </div>
      <SubCategoryTable />
      <AddSubCategoryModal />
    </div>
  );
}

export default ManageSubCategories;


==================== C:\Code\recipe-app\client\src\pages\MealPlanDetails.jsx ====================

import React, { useState } from 'react';
import { useParams } from 'react-router-dom';
import { useData } from '../context/DataContext';
import Calendar from '../components/Calendar';
import Button from '../components/ui/Button';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';

const MealPlanDetails = () => {
  const { mealPlanId } = useParams();
  const { mealPlans, mealPlanRecipes, recipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe } = useData();
  const mealPlan = mealPlans.find(mp => mp.MealPlanID === parseInt(mealPlanId));
  const [selectedMeal, setSelectedMeal] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  const handleAddMeal = (date, mealType) => {
    setSelectedMeal({ date, mealType, mealPlanRecipeId: null });
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = (mealPlanRecipeId) => {
    const meal = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
    if (meal) {
      setSelectedMeal({
        date: meal.Date,
        mealType: meal.MealType,
        recipeId: meal.RecipeID,
        mealPlanRecipeId: meal.MealPlanRecipeID,
      });
      setIsModalOpen(true);
      document.getElementById('add_meal_plan_recipe_modal').showModal();
    }
  };

  const handleSaveMeal = async (mealPlanRecipe) => {
    if (selectedMeal.mealPlanRecipeId) {
      await updateMealPlanRecipe(selectedMeal.mealPlanRecipeId, mealPlanRecipe);
    } else {
      await createMealPlanRecipe(mealPlanRecipe);
    }
    setIsModalOpen(false);
  };

  const handleRemoveMeal = async (mealPlanRecipeId) => {
    if (window.confirm('Are you sure you want to remove this meal?')) {
      await deleteMealPlanRecipe(mealPlanRecipeId);
    }
  };

  return (
    <div className="p-6">
      {mealPlan ? (
        <>
          <h1 className="text-2xl font-bold mb-4">{mealPlan.PlanName}</h1>
          <Calendar
            mealPlan={mealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
            onRemoveMeal={handleRemoveMeal}
          />

          <AddMealPlanRecipeModal
            mealPlanId={mealPlan.MealPlanID}
            defaultDate={selectedMeal?.date}
            defaultMealType={selectedMeal?.mealType}
            defaultRecipeId={selectedMeal?.recipeId}
            mealPlanRecipeId={selectedMeal?.mealPlanRecipeId}
            onSave={handleSaveMeal}
          />
        </>
      ) : (
        <p>Meal plan not found.</p>
      )}
    </div>
  );
};

export default MealPlanDetails;


==================== C:\Code\recipe-app\client\src\pages\Register.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';

function Register() {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const { login } = useAuth();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const response = await fetch('http://localhost:8000/api/users/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Email: email, Password: password }),
    });

    if (response.ok) {
      await login(username, password);
    } else {
      alert('Registration failed');
    }
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <div className="p-8 bg-white rounded shadow-md w-96">
        <h2 className="mb-4 text-2xl font-bold text-center">Register</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Email</label>
            <input
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <button type="submit" className="w-full py-2 text-white bg-green-500 rounded hover:bg-green-600">
            Register
          </button>
        </form>
      </div>
    </div>
  );
}

export default Register;


==================== C:\Code\recipe-app\client\src\services\apiService.js ====================

import { supabase } from '../supabaseClient';

// Categories
export const getCategories = async () => {
    const { data, error } = await supabase.from('IngredientCategories').select('*');
    if (error) throw error;
    return data;
};

export const addCategory = async (categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .insert([{ CategoryName: categoryName }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateCategory = async (categoryId, categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .update({ CategoryName: categoryName })
        .eq('CategoryID', categoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteCategory = async (categoryId) => {
    const { data, error } = await supabase.from('IngredientCategories').delete().eq('CategoryID', categoryId).select();
    if (error) throw error;
    return data;
};

// SubCategories
export const getSubCategories = async () => {
    const { data, error } = await supabase.from('IngredientSubCategories').select('*');
    if (error) throw error;
    return data;
};

export const addSubCategory = async (subCategory) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .insert([subCategory])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .update({ SubCategoryName: subCategoryName, CategoryID: categoryId })
        .eq('SubCategoryID', subCategoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteSubCategory = async (subCategoryId) => {
    const { data, error } = await supabase.from('IngredientSubCategories').delete().eq('SubCategoryID', subCategoryId).select();
    if (error) throw error;
    return data;
};

// Ingredients
export const getIngredients = async () => {
    const { data, error } = await supabase.from('Ingredients').select('*');
    if (error) throw error;
    return data;
};

export const addIngredient = async (ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .insert([ingredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateIngredient = async (ingredientId, ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .update(ingredient)
        .eq('IngredientID', ingredientId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteIngredient = async (ingredientId) => {
    const { data, error } = await supabase.from('Ingredients').delete().eq('IngredientID', ingredientId).select();
    if (error) throw error;
    return data;
};

// Authors
export const getAuthors = async () => {
    const { data, error } = await supabase.from('RecipeAuthors').select('*');
    if (error) throw error;
    return data;
};

export const addAuthor = async (authorName, authorImageURL) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .insert([{ AuthorName: authorName, AuthorImageURL: authorImageURL }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateAuthor = async (authorId, author) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .update(author)
        .eq('AuthorID', authorId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteAuthor = async (authorId) => {
    const { data, error } = await supabase.from('RecipeAuthors').delete().eq('AuthorID', authorId).select();
    if (error) throw error;
    return data;
};

// Recipe Books
export const getRecipeBooks = async () => {
    const { data, error } = await supabase.from('RecipeBooks').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeBook = async (recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .insert([recipeBook])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipeBook = async (recipeBookId, recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .update(recipeBook)
        .eq('BookID', recipeBookId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipeBook = async (recipeBookId) => {
    const { data, error } = await supabase.from('RecipeBooks').delete().eq('BookID', recipeBookId).select();
    if (error) throw error;
    return data;
};

// Recipes
export const getRecipes = async () => {
    const { data, error } = await supabase.from('Recipes').select('*');
    if (error) throw error;
    return data;
};

export const addRecipe = async (recipe) => {
    console.log('Inserting recipe:', recipe);
    const { data, error } = await supabase
        .from('Recipes')
        .insert([recipe])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipe = async (recipeId, recipe) => {
    const { data, error } = await supabase
        .from('Recipes')
        .update(recipe)
        .eq('RecipeID', recipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipe = async (recipeId) => {
    const { data, error } = await supabase.from('Recipes').delete().eq('RecipeID', recipeId).select();
    if (error) throw error;
    return data;
};

// Units
export const getUnits = async () => {
    const { data, error } = await supabase.from('Units').select('*');
    if (error) throw error;
    return data;
};

// Recipe Ingredients
export const getRecipeIngredients = async () => {
    const { data, error } = await supabase.from('RecipeIngredients').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeIngredient = async (recipeIngredient) => {
    const { data, error } = await supabase
        .from('RecipeIngredients')
        .insert([recipeIngredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

// Meal Plans
export const getMealPlans = async () => {
    const { data, error } = await supabase.from('MealPlans').select('*');
    if (error) throw error;
    return data;
};

export const addMealPlan = async (mealPlan) => {
    console.log('Inserting meal plan:', mealPlan);
    const { data, error } = await supabase
        .from('MealPlans')
        .insert([mealPlan])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlan = async (mealPlanId, mealPlan) => {
    const { data, error } = await supabase
        .from('MealPlans')
        .update(mealPlan)
        .eq('MealPlanID', mealPlanId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlan = async (mealPlanId) => {
    const { data, error } = await supabase.from('MealPlans')
        .delete()
        .eq('MealPlanID', mealPlanId)
        .select();
    if (error) throw error;
    return data;
};

// Meal Plan Recipes
export const getMealPlanRecipes = async () => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .select('*');
    if (error) throw error;
    return data;
};

export const addMealPlanRecipe = async (mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .insert([mealPlanRecipe])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .update(mealPlanRecipe)
        .eq('MealPlanRecipeID', mealPlanRecipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    const { data, error } = await supabase.from('MealPlanRecipes').delete().eq('MealPlanRecipeID', mealPlanRecipeId).select();
    if (error) throw error;
    return data;
};


==================== C:\Code\recipe-app\client\src\utils\cache.js ====================

// src/utils/cache.js

class Cache {
    constructor() {
      this.cache = {};
    }
  
    set(key, data) {
      this.cache[key] = {
        data,
        timestamp: new Date().getTime(),
      };
    }
  
    get(key, expiryTime = 180000) { // default expiry time is 180 seconds
      const cachedItem = this.cache[key];
      if (cachedItem && (new Date().getTime() - cachedItem.timestamp < expiryTime)) {
        return cachedItem.data;
      }
      return null;
    }
  
    invalidate(key) {
      delete this.cache[key];
    }
  }
  
  const cache = new Cache();
  export default cache;
  

==================== C:\Code\recipe-app\collated_output.txt ====================



==================== client/src\pages\ManageMealPlans.jsx ====================

// src/pages/ManageMealPlans.jsx

import React, { useState, useEffect } from 'react';
import MealPlanTable from '../components/MealPlanTable';
import AddMealPlanModal from '../components/AddMealPlanModal';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';
import Calendar from '../components/Calendar';
import { useData } from '../context/DataContext';

function ManageMealPlans() {
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [addingMeal, setAddingMeal] = useState(null);
  const [modifyingMeal, setModifyingMeal] = useState(null);
  const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

  const handleAddMeals = (mealPlan) => {
    setSelectedMealPlan(mealPlan);
  };

  const handleAddMeal = (date, mealType) => {
    setAddingMeal({ date, mealType });
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = async (mealPlanRecipeId, remove = false) => {
    if (remove) {
      if (window.confirm('Are you sure you want to remove this meal?')) {
        try {
          await deleteMealPlanRecipe(mealPlanRecipeId);
        } catch (error) {
          console.log(error);
          alert('Failed to remove meal');
        }
      }
    } else {
      const mealPlanRecipe = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
      if (mealPlanRecipe) {
        setModifyingMeal(mealPlanRecipe);
        document.getElementById('add_meal_plan_recipe_modal').showModal();
      } else {
        console.error('Meal plan recipe not found:', mealPlanRecipeId);
      }
    }
  };

  useEffect(() => {
    if (modifyingMeal) {
      setAddingMeal({
        date: modifyingMeal.Date,
        mealType: modifyingMeal.MealType,
        recipeId: modifyingMeal.RecipeID,
      });
    }
  }, [modifyingMeal]);

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Meal Plans</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_meal_plan_modal').showModal()}>Add Meal Plan</button>
      </div>
      <MealPlanTable onManageMeals={handleAddMeals} />
      {selectedMealPlan && (
        <>
          <h2 className="text-2xl font-bold mt-6">Meals for Selected Plan</h2>
          <Calendar
            mealPlan={selectedMealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === selectedMealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
          />
        </>
      )}
      <AddMealPlanModal />
      {selectedMealPlan && (
        <AddMealPlanRecipeModal
          mealPlanId={selectedMealPlan.MealPlanID}
          startDate={selectedMealPlan.StartDate}
          endDate={selectedMealPlan.EndDate}
          defaultDate={addingMeal?.date}
          defaultMealType={addingMeal?.mealType}
          defaultRecipeId={addingMeal?.recipeId}
        />
      )}
    </div>
  );
}

export default ManageMealPlans;


==================== client\src\components\MealPlanTable.jsx ====================

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanTable({ onManageMeals }) {
  const { mealPlans, deleteMealPlan } = useData();

  const handleDelete = async (mealPlanId) => {
    if (window.confirm('Are you sure you want to delete this meal plan?')) {
      try {
        await deleteMealPlan(mealPlanId);
      } catch (error) {
        alert('Failed to delete meal plan');
      }
    }
  };

  const headers = ['ID', 'Plan Name', 'Start Date', 'End Date', 'Actions'];

  const data = mealPlans.map((mealPlan) => ({
    id: mealPlan.MealPlanID,
    cells: [
      mealPlan.MealPlanID,
      mealPlan.PlanName,
      mealPlan.StartDate,
      mealPlan.EndDate,
      <div className="flex gap-2">
        <Button
          size="sm"
          variant="primary"
          outline={true}
          onClick={() => onManageMeals(mealPlan)}
        >
          Manage Meals
        </Button>
        <DeleteButton onClick={() => handleDelete(mealPlan.MealPlanID)} />
      </div>
    ],
  }));

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default MealPlanTable;


==================== client\src\context\DataContext.jsx ====================

// src/context/DataContext.jsx

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);
  const [mealPlans, setMealPlans] = useState([]);
  const [mealPlanRecipes, setMealPlanRecipes] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
          mealPlansData,
          mealPlanRecipesData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
          apiService.getMealPlans(),
          apiService.getMealPlanRecipes(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
        setMealPlans(mealPlansData);
        setMealPlanRecipes(mealPlanRecipesData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    const newCategory = await apiService.addCategory(categoryName);
    setCategories([...categories, newCategory]);
  };

  const updateCategory = async (categoryId, categoryName) => {
    await apiService.updateCategory(categoryId, categoryName);
    setCategories(categories.map(cat => (cat.CategoryID === categoryId ? { ...cat, CategoryName: categoryName } : cat)));
  };

  const deleteCategory = async (categoryId) => {
    await apiService.deleteCategory(categoryId);
    setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    const newSubCategory = await apiService.addSubCategory(subCategory);
    setSubCategories([...subCategories, newSubCategory]);
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
    setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? { ...sub, SubCategoryName: subCategoryName, CategoryID: categoryId } : sub)));
  };

  const deleteSubCategory = async (subCategoryId) => {
    await apiService.deleteSubCategory(subCategoryId);
    setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    const newIngredient = await apiService.addIngredient(ingredient);
    setIngredients([...ingredients, newIngredient]);
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    await apiService.updateIngredient(ingredientId, ingredient);
    setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? { ...ing, ...ingredient } : ing)));
  };

  const deleteIngredient = async (ingredientId) => {
    await apiService.deleteIngredient(ingredientId);
    setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
    setAuthors([...authors, newAuthor]);
  };

  const updateAuthor = async (authorId, author) => {
    await apiService.updateAuthor(authorId, author);
    setAuthors(authors.map(auth => (auth.AuthorID === authorId ? { ...auth, ...author } : auth)));
  };

  const deleteAuthor = async (authorId) => {
    await apiService.deleteAuthor(authorId);
    setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    const newRecipeBook = await apiService.addRecipeBook(recipeBook);
    setRecipeBooks([...recipeBooks, newRecipeBook]);
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    await apiService.updateRecipeBook(recipeBookId, recipeBook);
    setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? { ...book, ...recipeBook } : book)));
  };

  const deleteRecipeBook = async (recipeBookId) => {
    await apiService.deleteRecipeBook(recipeBookId);
    setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    const newRecipe = await apiService.addRecipe(recipe);
    setRecipes([...recipes, newRecipe]);
  };

  const updateRecipe = async (recipeId, recipe) => {
    await apiService.updateRecipe(recipeId, recipe);
    setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? { ...rec, ...recipe } : rec)));
  };

  const deleteRecipe = async (recipeId) => {
    await apiService.deleteRecipe(recipeId);
    setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
    setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
  };

  // Meal Plans CRUD
  const createMealPlan = async (mealPlan) => {
    const newMealPlan = await apiService.addMealPlan(mealPlan);
    setMealPlans([...mealPlans, newMealPlan]);
  };

  const updateMealPlan = async (mealPlanId, mealPlan) => {
    await apiService.updateMealPlan(mealPlanId, mealPlan);
    setMealPlans(mealPlans.map(mp => (mp.MealPlanID === mealPlanId ? { ...mp, ...mealPlan } : mp)));
  };

  const deleteMealPlan = async (mealPlanId) => {
    await apiService.deleteMealPlan(mealPlanId);
    setMealPlans(mealPlans.filter(mp => mp.MealPlanID !== mealPlanId));
  };

   // Meal Plan Recipes CRUD
   const createMealPlanRecipe = async (mealPlanRecipe) => {
    const newMealPlanRecipe = await apiService.addMealPlanRecipe(mealPlanRecipe);
    setMealPlanRecipes([...mealPlanRecipes, newMealPlanRecipe]);
  };

  const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    await apiService.updateMealPlanRecipe(mealPlanRecipeId, mealPlanRecipe);
    setMealPlanRecipes(mealPlanRecipes.map(mpr => (mpr.MealPlanRecipeID === mealPlanRecipeId ? { ...mpr, ...mealPlanRecipe } : mpr)));
  };

  const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    await apiService.deleteMealPlanRecipe(mealPlanRecipeId);
    setMealPlanRecipes(mealPlanRecipes.filter(mpr => mpr.MealPlanRecipeID !== mealPlanRecipeId));
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient,
        mealPlans, createMealPlan, updateMealPlan, deleteMealPlan,
        mealPlanRecipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe,      
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== client\src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== client\src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== client\src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== client\src\components\AddMealPlanModal.jsx ====================

// src/components/AddMealPlanModal.jsx

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';

function AddMealPlanModal() {
  const [planName, setPlanName] = useState('');
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');
  const { createMealPlan } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const mealPlan = {
      PlanName: planName,
      StartDate: startDate,
      EndDate: endDate,
      UserID: 1, // Adjust as needed
    };

    try {
      await createMealPlan(mealPlan);
      document.getElementById('add_meal_plan_modal').close();
    } catch (error) {
      alert('Failed to add meal plan');
    }
  };

  return (
    <Modal id="add_meal_plan_modal" title="Add Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Plan Name"
          value={planName}
          onChange={(e) => setPlanName(e.target.value)}
          required
        />
        <TextInput
          label="Start Date"
          type="date"
          value={startDate}
          onChange={(e) => setStartDate(e.target.value)}
          required
        />
        <TextInput
          label="End Date"
          type="date"
          value={endDate}
          onChange={(e) => setEndDate(e.target.value)}
          required
        />
        <Button>Add Meal Plan</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanModal;


==================== client\src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== client\src\components\ui\TextInput.jsx ====================

import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered', min, max }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
        min={min}
        max={max}
      />
    </label>
  );
};

export default TextInput;


==================== client\src\components\AddMealPlanRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import Select from './ui/Select';
import { format, isValid } from 'date-fns';

function AddMealPlanRecipeModal({ mealPlanId, defaultDate, defaultMealType, defaultRecipeId  }) {
  const [recipeId, setRecipeId] = useState('');
  const [date, setDate] = useState(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
  const [mealType, setMealType] = useState(defaultMealType || '');
  const { recipes, createMealPlanRecipe } = useData();

  useEffect(() => {
    setDate(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
    setMealType(defaultMealType || '');
    setRecipeId(defaultRecipeId || '');
  }, [defaultDate, defaultMealType, defaultRecipeId]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!mealPlanId || !recipeId || !mealType || !date) {
      alert('All fields are required.');
      return;
    }

    const mealPlanRecipe = {
      MealPlanID: mealPlanId,
      RecipeID: recipeId,
      MealType: mealType,
      Date: date,
    };

    try {
      await createMealPlanRecipe(mealPlanRecipe);
      document.getElementById('add_meal_plan_recipe_modal').close();
      setRecipeId('');
      setMealType('');
      setDate('');
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add meal plan recipe');
    }
  };

  const recipeOptions = recipes.map(recipe => ({
    value: recipe.RecipeID,
    label: recipe.RecipeName,
  }));

  return (
    <Modal id="add_meal_plan_recipe_modal" title="Add Meal to Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <Select
          label="Recipe"
          value={recipeId}
          onChange={(e) => setRecipeId(e.target.value)}
          required
          options={recipeOptions}
          defaultOption="Select a recipe"
        />
        <Button type="submit">Add Meal</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanRecipeModal;


==================== client\src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== client\src\components\Calendar.jsx ====================

// src/components/Calendar.jsx
import React from 'react';
import Button from './ui/Button';
import { format, eachDayOfInterval, parseISO } from 'date-fns';

const Calendar = ({ mealPlan, mealPlanRecipes, recipes, onAddMeal, onModifyMeal }) => {
  const days = eachDayOfInterval({
    start: parseISO(mealPlan.StartDate),
    end: parseISO(mealPlan.EndDate),
  });

  const getMealForDay = (date, mealType) => {
    return mealPlanRecipes.find(
      (mpr) => mpr.Date === format(date, 'yyyy-MM-dd') && mpr.MealType === mealType
    );
  };

  const getRecipeName = (recipeId) => {
    const recipe = recipes.find(r => r.RecipeID === recipeId);
    return recipe ? recipe.RecipeName : 'Unknown Recipe';
  };

  return (
    <div className="grid grid-cols-7 gap-4">
      {days.map((day) => (
        <div key={day} className="border p-2">
          <h3 className="font-bold">{format(day, 'eee, MMM d')}</h3>
          {['Breakfast', 'Lunch', 'Dinner'].map((mealType) => {
            const meal = getMealForDay(day, mealType);
            return (
              <div key={mealType} className="my-2">
                <h4 className="font-semibold">{mealType}</h4>
                {meal ? (
                  <div>
                    <div>{getRecipeName(meal.RecipeID)}</div>
                    <div className="flex gap-2">
                      <Button
                        size="sm"
                        variant="secondary"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID)}
                      >
                        Modify
                      </Button>
                      <Button
                        size="sm"
                        variant="error"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID, true)}
                      >
                        Remove
                      </Button>
                    </div>
                  </div>
                ) : (
                  <Button
                    size="sm"
                    variant="secondary"
                    outline
                    onClick={() => onAddMeal(day, mealType)}
                  >
                    Add {mealType}
                  </Button>
                )}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
};

export default Calendar;


==================== C:\Code\recipe-app\combine.py ====================

import os

def combine_files(directory, output_file):
    """
    Combines text files from a specified directory into a single output file,
    excluding certain directories, file extensions, and specific filenames.
    """
    excluded_dirs = {'node_modules', '.git', 'migrations', '__pycache__'}
    excluded_extensions = {'.png', '.jpg', '.jpeg', '.gif', '.sqlite', '.sqlite3', '.log'}
    excluded_files = {'package.json', 'package-lock.json', 'yarn.lock', '.gitignore', '.npmrc'}
    
    with open(output_file, 'a', encoding='utf-8') as outfile:
        for root, dirs, files in os.walk(directory):
            dirs[:] = [d for d in dirs if d not in excluded_dirs]
            for file in files:
                if any(file.endswith(ext) for ext in excluded_extensions) or file in excluded_files:
                    continue
                file_path = os.path.join(root, file)
                outfile.write(f"\n\n{'='*20} {file_path} {'='*20}\n\n")
                try:
                    with open(file_path, 'r', encoding='utf-8') as infile:
                        content = infile.read()
                        outfile.write(content)
                except UnicodeDecodeError:
                    with open(file_path, 'r', encoding='latin-1') as infile:
                        content = infile.read()
                        outfile.write(content)

base_dir = os.path.dirname(os.path.abspath(__file__))
client_dir = os.path.join(base_dir, 'client')
backend_dir = os.path.join(base_dir, 'backend')
frontend_dir = os.path.join(base_dir, 'frontend')
server_dir = os.path.join(base_dir, 'server')

client_output = os.path.join(base_dir, 'output_client.txt')
backend_output = os.path.join(base_dir, 'output_backend.txt')
frontend_output = os.path.join(base_dir, 'output_frontend.txt')
server_output = os.path.join(base_dir, 'output_server.txt')
all_output = os.path.join(base_dir, 'output_all.txt')

# Clear or create the output files
open(client_output, 'w', encoding='utf-8').close()
open(backend_output, 'w', encoding='utf-8').close()
open(frontend_output, 'w', encoding='utf-8').close()
open(server_output, 'w', encoding='utf-8').close()
open(all_output, 'w', encoding='utf-8').close()

# Combine client files
combine_files(client_dir, client_output)

# Combine backend files
combine_files(backend_dir, backend_output)

# Combine frontend files
combine_files(frontend_dir, frontend_output)

# Combine server files
combine_files(server_dir, server_output)

# Combine all files
combine_files(base_dir, all_output)

==================== C:\Code\recipe-app\combined_project_files.txt ====================



==================== C:\Code\recipe-app\client/src\App.css ====================



==================== C:\Code\recipe-app\client/src\App.jsx ====================

import React from 'react';
import AppRoutes from './routes';
import NavBar from './components/NavBar';
import { useAuth } from './context/AuthContext';
import SideBar from './components/SideBar';

function App() {
  const { isAuthenticated } = useAuth();

  return (
    <div className="flex flex-col min-h-screen">
      <NavBar />
      <div className="flex grow">
        {isAuthenticated && <SideBar />}
        <AppRoutes />
      </div>
    </div>
  );
}

export default App;


==================== C:\Code\recipe-app\client/src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;


==================== C:\Code\recipe-app\client/src\main.jsx ====================

import React from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { AuthProvider } from './context/AuthContext';
import { DataProvider } from './context/DataContext';

const rootElement = document.getElementById('root');
const root = createRoot(rootElement);

root.render(
  <BrowserRouter>
    <AuthProvider>
      <DataProvider>
        <App />
      </DataProvider>
    </AuthProvider>
  </BrowserRouter>
);


==================== C:\Code\recipe-app\client/src\routes.jsx ====================

// src/routes.jsx
import React from 'react';
import { Routes, Route } from 'react-router-dom';
import Login from './pages/Login';
import Home from './pages/Home';
import Register from './pages/Register';
import ManageCategories from './pages/ManageCategories';
import ManageSubCategories from './pages/ManageSubCategories';
import ManageIngredients from './pages/ManageIngredients';
import ManageRecipes from './pages/ManageRecipes';
import ManageAuthors from './pages/ManageAuthors';
import ManageRecipeBooks from './pages/ManageRecipeBooks'; // Import the new page
import PrivateRoute from './components/PrivateRoute';

function AppRoutes() {
  return (
    <Routes>
      <Route path="/login" element={<Login />} />
      <Route path="/register" element={<Register />} />
      <Route path="/manage-categories" element={<PrivateRoute><ManageCategories /></PrivateRoute>} />
      <Route path="/manage-sub-categories" element={<PrivateRoute><ManageSubCategories /></PrivateRoute>} />
      <Route path="/manage-ingredients" element={<PrivateRoute><ManageIngredients /></PrivateRoute>} />
      <Route path="/manage-recipes" element={<PrivateRoute><ManageRecipes /></PrivateRoute>} />
      <Route path="/manage-authors" element={<PrivateRoute><ManageAuthors /></PrivateRoute>} />
      <Route path="/manage-recipe-books" element={<PrivateRoute><ManageRecipeBooks /></PrivateRoute>} /> {/* Add route */}
      <Route path="/" element={<PrivateRoute><Home /></PrivateRoute>} />
      {/* Add other routes here */}
    </Routes>
  );
}

export default AppRoutes;


==================== C:\Code\recipe-app\client/src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\client/src\components\AddAuthorModal.jsx ====================

// src/components/AddAuthorModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';

function AddAuthorModal() {
  const [authorName, setAuthorName] = useState('');
  const [authorImageURL, setAuthorImageURL] = useState('');
  const { createAuthor } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createAuthor(authorName, authorImageURL);
      document.getElementById('add_author_modal').close();
    } catch (error) {
      alert('Failed to add author');
    }
  };

  return (
    <Modal id="add_author_modal" title="Add Author">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Author Name"
          value={authorName}
          onChange={(e) => setAuthorName(e.target.value)}
          required
        />
        <TextInput
          label="Author Image URL"
          value={authorImageURL}
          onChange={(e) => setAuthorImageURL(e.target.value)}
        />
        <Button>Add Author</Button>
      </form>
    </Modal>
  );
}

export default AddAuthorModal;


==================== C:\Code\recipe-app\client/src\components\AddCategoryModal.jsx ====================

// src/components/AddCategoryModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Button from './ui/Button';

function AddCategoryModal() {
  const [categoryName, setCategoryName] = useState('');
  const { createCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createCategory(categoryName);
      document.getElementById('add_category_modal').close();
    } catch (error) {
      alert('Failed to add category');
    }
  };

  return (
    <Modal id="add_category_modal" title="Add Category">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Category Name"
          value={categoryName}
          onChange={(e) => setCategoryName(e.target.value)}
          required
        />
        <Button>Add Category</Button>
      </form>
    </Modal>
  );
}

export default AddCategoryModal;


==================== C:\Code\recipe-app\client/src\components\AddIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Select from './ui/Select';
import Button from './ui/Button';

function AddIngredientModal({ onIngredientAdded = () => {} }) {
  const [ingredientName, setIngredientName] = useState('');
  const [purchaseWeightVolume, setPurchaseWeightVolume] = useState('');
  const [purchaseUnitId, setPurchaseUnitId] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const [subCategoryId, setSubCategoryId] = useState('');
  const [purchaseWeightUnitId, setPurchaseWeightUnitId] = useState('');

  const { categories, subCategories, units, createIngredient } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const ingredient = {
      IngredientName: ingredientName,
      PurchaseWeightVolume: purchaseWeightVolume,
      PurchaseUnitID: purchaseUnitId,
      SubCategoryID: subCategoryId,
      PurchaseWeightUnitID: purchaseWeightUnitId,
    };

    try {
      const newIngredient = await createIngredient(ingredient);
      onIngredientAdded(newIngredient);
      document.getElementById('add_ingredient_modal').close();
    } catch (error) {
      alert('Failed to add ingredient');
    }
  };

  const filteredSubCategories = subCategories.filter(
    (subCategory) => subCategory.CategoryID === parseInt(categoryId)
  );

  const unitOptions = units.map((unit) => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  const subCategoryOptions = filteredSubCategories.map((subCategory) => ({
    value: subCategory.SubCategoryID,
    label: subCategory.SubCategoryName,
  }));

  return (
    <Modal id="add_ingredient_modal" title="Add Ingredient" className="modal modal-bottom sm:modal-middle">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Ingredient Name"
          value={ingredientName}
          onChange={(e) => setIngredientName(e.target.value)}
          required
        />
        <TextInput
          label="Purchase Weight Volume"
          value={purchaseWeightVolume}
          onChange={(e) => setPurchaseWeightVolume(e.target.value)}
          required
        />
        <Select
          label="Purchase Unit"
          value={purchaseUnitId}
          onChange={(e) => setPurchaseUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Select
          label="Sub-Category"
          value={subCategoryId}
          onChange={(e) => setSubCategoryId(e.target.value)}
          required
          options={subCategoryOptions}
          defaultOption="Select a sub-category"
          disabled={!categoryId} // Disable until a category is selected
        />
        <Select
          label="Purchase Weight Unit"
          value={purchaseWeightUnitId}
          onChange={(e) => setPurchaseWeightUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Button>Add Ingredient</Button>
      </form>
    </Modal>
  );
}

export default AddIngredientModal;


==================== C:\Code\recipe-app\client/src\components\AddRecipeBookModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeBookModal() {
  const [bookName, setBookName] = useState('');
  const [authorID, setAuthorID] = useState('');
  const [coverArtURL, setCoverArtURL] = useState('');

  const { authors, createRecipeBook } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const recipeBook = {
      AuthorID: authorID,
      BookName: bookName,
      CoverArtURL: coverArtURL
    };

    try {
      await createRecipeBook(recipeBook);
      document.getElementById('add_recipe_book_modal').close();
    } catch (error) {
      alert('Failed to add book');
    }
  };

  const authorOptions = authors.map(author => ({
    value: author.AuthorID,
    label: author.AuthorName,
  }));

  return (
    <Modal id="add_recipe_book_modal" title="Add Recipe Book">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Book Name"
          value={bookName}
          onChange={(e) => setBookName(e.target.value)}
          required
        />
        <Select
          label="Author"
          value={authorID}
          onChange={(e) => setAuthorID(e.target.value)}
          required
          options={authorOptions}
          defaultOption="Select an author"
        />
        <TextInput
          label="Cover Art URL"
          value={coverArtURL}
          onChange={(e) => setCoverArtURL(e.target.value)}
        />
        <Button>Add Book</Button>
      </form>
    </Modal>
  );
}

export default AddRecipeBookModal;


==================== C:\Code\recipe-app\client/src\components\AddRecipeIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import Fuse from 'fuse.js';
import { useData } from '../context/DataContext';
import AddIngredientModal from './AddIngredientModal';
import Table from './ui/Table';
import Button from './ui/Button';
import Modal from './ui/Modal';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeIngredientModal({ recipeId }) {
  const [selectedIngredientId, setSelectedIngredientId] = useState('');
  const [quantity, setQuantity] = useState('');
  const [selectedUnitId, setSelectedUnitId] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [filteredIngredients, setFilteredIngredients] = useState([]);
  const [defaultUnitId, setDefaultUnitId] = useState('');

  const { ingredients, units, categories, subCategories, createRecipeIngredient } = useData();

  useEffect(() => {
    if (ingredients.length && categories.length && subCategories.length) {
      const updatedIngredients = ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      });
      setFilteredIngredients(updatedIngredients);
    }
  }, [ingredients, categories, subCategories]);

  const handleSearch = (e) => {
    const term = e.target.value;
    setSearchTerm(term);

    if (term === '') {
      setFilteredIngredients(ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      }));
    } else {
      const fuse = new Fuse(filteredIngredients, {
        keys: ['IngredientName', 'CategoryName', 'SubCategoryName'],
        threshold: 0.3, // Adjust the threshold as needed
      });

      const result = fuse.search(term);
      setFilteredIngredients(result.map((r) => r.item));
    }
  };

  const handleAddClick = (ingredientId) => {
    const ingredient = ingredients.find((ing) => ing.IngredientID === ingredientId);
    if (ingredient) {
      setSelectedIngredientId(ingredientId);
      setDefaultUnitId(ingredient.PurchaseUnitID || ''); // Handle missing PurchaseUnitID
      setSelectedUnitId(ingredient.PurchaseUnitID || ''); // Set the default unit id
      document.getElementById('quantity_unit_modal').showModal();
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    const data = {
      RecipeID: recipeId,
      IngredientID: selectedIngredientId,
      Quantity: parseFloat(quantity),
      UnitID: selectedUnitId || defaultUnitId,
    };

    try {
      await createRecipeIngredient(data);
      window.location.reload(); // Refresh the page to show the new ingredient
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add ingredient');
    }
  };

  const handleAddNewIngredient = () => {
    document.getElementById('add_ingredient_modal').showModal();
  };

  const handleNewIngredientAdded = (newIngredient) => {
    if (newIngredient && newIngredient.PurchaseUnitID) {
      setFilteredIngredients((prevIngredients) => [
        ...prevIngredients,
        {
          ...newIngredient,
          CategoryName: '',
          SubCategoryName: '',
        },
      ]);

      // Automatically select the newly added ingredient and open the quantity/unit modal
      setSelectedIngredientId(newIngredient.IngredientID);
      setDefaultUnitId(newIngredient.PurchaseUnitID);
      setSelectedUnitId(newIngredient.PurchaseUnitID);
      setQuantity(''); // Reset the quantity
      document.getElementById('quantity_unit_modal').showModal();
    } else {
      alert('New ingredient does not have a PurchaseUnitID');
    }
  };

  const headers = ['Ingredient', 'Category', 'Sub-Category', 'Action'];
  const data = filteredIngredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientName,
      ingredient.CategoryName,
      ingredient.SubCategoryName,
      <Button
        size="sm"
        variant="primary"
        outline={true}
        onClick={() => handleAddClick(ingredient.IngredientID)}
      >
        Add
      </Button>
    ],
  }));

  const unitOptions = units.map(unit => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  return (
    <div>
      <Modal id="add_recipe_ingredient_modal" title="Add Ingredient to Recipe" wide={true}>
        <div className='flex flex-col gap-4 mb-8'>
          <TextInput
            label="Search Ingredient"
            value={searchTerm}
            onChange={handleSearch}
            placeholder="Type to search ingredients..."
          />

          <Button
            outline={true}
            size='sm'
            onClick={handleAddNewIngredient}
          >Add New Ingredient</Button>
        </div>
        <Table headers={headers} data={data} />
      </Modal>

      <Modal id="quantity_unit_modal" title="Enter Quantity and Unit">
        <form onSubmit={handleSubmit} className="flex gap-4 flex-col mt-4">
          <TextInput
            label="Quantity"
            value={quantity}
            onChange={(e) => setQuantity(e.target.value)}
            required
          />

          <Select
            label="Unit"
            value={selectedUnitId || defaultUnitId}
            onChange={(e) => setSelectedUnitId(e.target.value)}
            required
            options={unitOptions}
            defaultOption="Select a unit"
          />
          <Button>Add Ingredient</Button>
        </form>
      </Modal>

      <AddIngredientModal onIngredientAdded={handleNewIngredientAdded} />
    </div>
  );
}

export default AddRecipeIngredientModal;


==================== C:\Code\recipe-app\client/src\components\AddRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeModal() {
    const [recipeName, setRecipeName] = useState('');
    const [authorID, setAuthorID] = useState('');
    const [bookID, setBookID] = useState('');
    const [pageNumber, setPageNumber] = useState('');
    const [onlineURL, setOnlineURL] = useState('');
    const [cookTime, setCookTime] = useState('');
    const [difficulty, setDifficulty] = useState('');
    const [type, setType] = useState('');
    const [imageURL, setImageURL] = useState('');
    const [servings, setServings] = useState('');
    const [cuisine, setCuisine] = useState('');
    const [filteredBooks, setFilteredBooks] = useState([]);

    const { authors, recipeBooks, createRecipe } = useData();

    useEffect(() => {
        if (authorID) {
            setFilteredBooks(recipeBooks.filter(book => book.AuthorID === parseInt(authorID)));
        } else {
            setFilteredBooks([]);
        }
    }, [authorID, recipeBooks]);

    const handleAuthorChange = (e) => {
        setAuthorID(e.target.value);
        setBookID(''); // Reset book selection when author changes
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        const recipe = {
            RecipeName: recipeName,
            AuthorID: parseInt(authorID) || null,
            BookID: parseInt(bookID) || null,
            PageNumber: parseInt(pageNumber) || null,
            OnlineURL: onlineURL,
            CookTime: parseInt(cookTime) || null,
            Difficulty: difficulty,
            Type: type,
            ImageURL: imageURL,
            Servings: parseInt(servings) || null,
            Cuisine: cuisine,
        };

        try {
            await createRecipe(recipe);
            document.getElementById('add_recipe_modal').close();
        } catch (error) {
            alert('Failed to add recipe');
        }
    };

    const authorOptions = authors.map(author => ({
        value: author.AuthorID,
        label: author.AuthorName
    }));

    const bookOptions = filteredBooks.map(book => ({
        value: book.BookID,
        label: book.BookName
    }));

    return (
        <Modal id="add_recipe_modal" title="Add Recipe">
            <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
                <TextInput
                    label="Recipe Name"
                    value={recipeName}
                    onChange={(e) => setRecipeName(e.target.value)}
                    required
                />
                <Select
                    label="Author"
                    value={authorID}
                    onChange={handleAuthorChange}
                    required
                    options={authorOptions}
                    defaultOption="Select an author"
                />
                <Select
                    label="Book"
                    value={bookID}
                    onChange={(e) => setBookID(e.target.value)}
                    options={bookOptions}
                    defaultOption="Select a book"
                    disabled={!authorID}
                />
                <TextInput
                    label="Page Number"
                    type="number"
                    value={pageNumber}
                    onChange={(e) => setPageNumber(e.target.value)}
                    disabled={!bookID}
                />
                <TextInput
                    label="Online URL"
                    type="url"
                    value={onlineURL}
                    onChange={(e) => setOnlineURL(e.target.value)}
                />
                <TextInput
                    label="Cook Time (minutes)"
                    type="number"
                    value={cookTime}
                    onChange={(e) => setCookTime(e.target.value)}
                    required
                />
                <TextInput
                    label="Difficulty"
                    value={difficulty}
                    onChange={(e) => setDifficulty(e.target.value)}
                />
                <TextInput
                    label="Type"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                />
                <TextInput
                    label="Image URL"
                    type="url"
                    value={imageURL}
                    onChange={(e) => setImageURL(e.target.value)}
                />
                <TextInput
                    label="Servings"
                    type="number"
                    value={servings}
                    onChange={(e) => setServings(e.target.value)}
                    required
                />
                <TextInput
                    label="Cuisine"
                    value={cuisine}
                    onChange={(e) => setCuisine(e.target.value)}
                />
                <Button>Add Recipe</Button>
            </form>
        </Modal>
    );
}

export default AddRecipeModal;


==================== C:\Code\recipe-app\client/src\components\AddSubCategoryModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddSubCategoryModal() {
  const [subCategoryName, setSubCategoryName] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const { categories, createSubCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const subCategory = {
      SubCategoryName: subCategoryName,
      CategoryID: categoryId,
    };

    try {
      await createSubCategory(subCategory);
      document.getElementById('add_sub_category_modal').close();
    } catch (error) {
      console.error('Error adding sub-category:', error);
      alert('Failed to add sub-category');
    }
  };

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  return (
    <Modal id="add_sub_category_modal" title="Add Sub-Category">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Sub-Category Name"
          value={subCategoryName}
          onChange={(e) => setSubCategoryName(e.target.value)}
          required
        />        
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Button>Add Sub-Category</Button>
      </form>
    </Modal>
  );
}

export default AddSubCategoryModal;


==================== C:\Code\recipe-app\client/src\components\AuthorTable.jsx ====================

// src/components/AuthorTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import Table from './ui/Table';
import DeleteButton from './ui/DeleteButton';

function AuthorTable() {
  const { authors, deleteAuthor } = useData();

  const handleDelete = async (authorId) => {
    if (window.confirm('Are you sure you want to delete this author?')) {
      await deleteAuthor(authorId);
    }
  };

  const headers = ['#', 'Author Name', 'Actions'];

  const data = authors.map((author, index) => ({
    id: author.AuthorID,
    cells: [
      index + 1,
      author.AuthorName,
      <DeleteButton onClick={() => handleDelete(author.AuthorID)} />      
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default AuthorTable;


==================== C:\Code\recipe-app\client/src\components\CategoryTable.jsx ====================

// src/components/CategoryTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function CategoryTable() {
  const { categories, subCategories, deleteCategory } = useData();

  const handleDelete = async (categoryId) => {
    if (window.confirm('Are you sure you want to delete this category?')) {
      await deleteCategory(categoryId);
    }
  };

  const headers = ['ID', 'Category Name', 'Sub-Categories', 'Actions'];

  const data = categories.map((category, index) => {
    const categorySubCategories = subCategories.filter(sub => sub.CategoryID === category.CategoryID).map(sub => sub.SubCategoryName).join(', ');

    return {
      id: category.CategoryID,
      cells: [
        category.CategoryID,
        category.CategoryName,
        categorySubCategories || 'None',
        <DeleteButton onClick={() => handleDelete(category.CategoryID)} />
      ],
    };
  });

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default CategoryTable;


==================== C:\Code\recipe-app\client/src\components\IngredientTable.jsx ====================

// src/components/IngredientTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function IngredientTable() {
  const { ingredients, categories, subCategories, units, deleteIngredient } = useData();

  const handleDelete = async (ingredientId) => {
    if (window.confirm('Are you sure you want to delete this ingredient?')) {
      try {
        await deleteIngredient(ingredientId);
      } catch (error) {
        alert('Failed to delete ingredient');
      }
    }
  };

  const getSubCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    return subCategory ? subCategory.SubCategoryName : 'Unknown';
  };

  const getCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    if (subCategory) {
      const category = categories.find(category => category.CategoryID === subCategory.CategoryID);
      return category ? category.CategoryName : 'Unknown';
    }
    return 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const headers = ['ID', 'Ingredient Name', 'Purchase Weight Volume', 'Purchase Unit', 'Category', 'Subcategory', 'Purchase Weight Unit', 'Actions'];

  const data = ingredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientID,
      ingredient.IngredientName,
      ingredient.PurchaseWeightVolume,
      getUnitName(ingredient.PurchaseUnitID),
      getCategoryName(ingredient.SubCategoryID),
      getSubCategoryName(ingredient.SubCategoryID),
      getUnitName(ingredient.PurchaseWeightUnitID),
      <DeleteButton onClick={() => handleDelete(ingredient.IngredientID)} />
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default IngredientTable;


==================== C:\Code\recipe-app\client/src\components\NavBar.jsx ====================

// src/components/NavBar.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import ThemeSwitcher from './ThemeSwitcher';
import { useAuth } from '../context/AuthContext';

const NavBar = () => {
  const { isAuthenticated, logout } = useAuth();

  return (
    <nav className="navbar justify-between bg-base-300">
      <a className="btn btn-ghost text-lg">
        <img alt="Logo" src="../vite.svg" className="w-4" />
        Recipe App
      </a>
      <div className="dropdown dropdown-end sm:hidden">
        <button className="btn btn-ghost">
          <i className="fa-solid fa-bars text-lg"></i>
        </button>

        <ul tabIndex="0" className="dropdown-content menu z-[1] bg-base-200 p-6 rounded-box shadow w-56 gap-2">
          <li><a>About</a></li>
          <li><a>Pricing</a></li>
          <li><a>Blog</a></li>
          <li><a>Contact</a></li>
          <a className="btn btn-sm btn-primary">Log in</a>
        </ul>
      </div>
      <div className="hidden sm:flex gap-2">
        <ThemeSwitcher />       
        {isAuthenticated ? (
          <button
            onClick={logout}
            className="btn btn-primary btn-sm"
          >
            Logout
          </button>
        ) : (
          <>
            <Link to="/register" className="btn btn-ghost btn-sm">Register</Link>
            <Link to="/login" className="btn btn-primary btn-sm">Login</Link>
          </>
        )}
      </div>
    </nav>
  );
};

export default NavBar;


==================== C:\Code\recipe-app\client/src\components\PrivateRoute.jsx ====================

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import SideBar from './SideBar';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  return (
    <div className="flex grow">     
      <div className="flex flex-col px-8 py-6 grow">
        {children}
      </div>
    </div>
  );
};

export default PrivateRoute;


==================== C:\Code\recipe-app\client/src\components\RecipeBookTable.jsx ====================

// src/components/RecipeBookTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';

function RecipeBookTable() {
  const { recipeBooks, authors, deleteRecipeBook } = useData();

  const handleDelete = async (bookId) => {
    if (window.confirm('Are you sure you want to delete this book?')) {
      try {
        await deleteRecipeBook(bookId);
      } catch (error) {
        alert('Failed to delete book');
      }
    }
  };

  const getAuthorName = (authorId) => {
    const author = authors.find(author => author.AuthorID === authorId);
    return author ? author.AuthorName : 'Unknown';
  };

  const headers = ['#', 'Book Name', 'Author Name', 'Actions'];

  const data = useMemo(() => 
    recipeBooks.map((book, index) => ({
      id: book.BookID,
      cells: [
        index + 1,
        book.BookName,
        getAuthorName(book.AuthorID),
        <DeleteButton onClick={() => handleDelete(book.BookID)} />,
      ],
    })),
    [recipeBooks, authors]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeBookTable;


==================== C:\Code\recipe-app\client/src\components\RecipeTable.jsx ====================

// src/components/RecipeTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function RecipeTable({ onAddIngredients }) {
  const { recipes, ingredients, units, recipeIngredients, deleteRecipe } = useData();

  const handleDelete = async (recipeId) => {
    if (window.confirm('Are you sure you want to delete this recipe?')) {
      try {
        await deleteRecipe(recipeId);
      } catch (error) {
        alert('Failed to delete recipe');
      }
    }
  };

  const getIngredientName = (ingredientId) => {
    const ingredient = ingredients.find(ingredient => ingredient.IngredientID === ingredientId);
    return ingredient ? ingredient.IngredientName : 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const renderIngredients = (recipeId) => {
    const filteredIngredients = recipeIngredients.filter(ri => ri.RecipeID === recipeId);
    return filteredIngredients.map(ingredient => (
      <li key={ingredient.RecipeIngredientID}>
        {ingredient.Quantity} {getUnitName(ingredient.UnitID)} of {getIngredientName(ingredient.IngredientID)}
      </li>
    ));
  };

  const headers = ['#', 'Recipe Name', 'Author ID', 'Ingredients', 'Actions'];

  const data = useMemo(() =>
    recipes.map((recipe, index) => ({
      id: recipe.RecipeID,
      cells: [
        index + 1,
        recipe.RecipeName,
        recipe.AuthorID,
        <ul className='list-disc ml-4'>
          {renderIngredients(recipe.RecipeID)}
        </ul>,
        <div className='flex gap-2'>
          <Button
            size="sm"
            variant="primary"
            outline={true}
            onClick={() => onAddIngredients(recipe.RecipeID)}
          >
            Add Ingredients
          </Button>
          <DeleteButton onClick={() => handleDelete(recipe.RecipeID)} />
        </div>
      ],
    })),
    [recipes, recipeIngredients, ingredients, units]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeTable;


==================== C:\Code\recipe-app\client/src\components\SideBar.jsx ====================

// src/components/SideBar.jsx
import React from "react";
import { NavLink } from "react-router-dom";
import { FaTachometerAlt, FaList, FaSitemap, FaLeaf, FaBook, FaUser, FaUtensils } from "react-icons/fa";

const menuItems = [
  { title: "Dashboard", link: "/", Icon: FaTachometerAlt },
  { title: "Ingredients", isTitle: true },
  { title: "Categories", link: "/manage-categories", Icon: FaList },
  { title: "Sub-categories", link: "/manage-sub-categories", Icon: FaSitemap },
  { title: "Ingredients", link: "/manage-ingredients", Icon: FaLeaf },
  { title: "Recipes", isTitle: true },
  { title: "Recipes", link: "/manage-recipes", Icon: FaUtensils },
  { title: "Authors", link: "/manage-authors", Icon: FaUser },
  { title: "Recipe books", link: "/manage-recipe-books", Icon: FaBook },
];

const MenuItem = ({ item }) => {
  if (item.isTitle) {
    return <li className="menu-title">{item.title}</li>;
  }

  const { Icon } = item;

  return (
    <li>
      <NavLink to={item.link} className={({ isActive }) => (isActive ? "active" : "")}>
        <Icon className="inline mr-2" />
        {item.title}
      </NavLink>
    </li>
  );
};

export default function SideBar() {
  return (
    <aside className="sticky top-0 overflow-y-auto w-60 bg-base-200 p-4 min-w-60">
      <ul className="menu px-0 gap-1">
        {menuItems.map((item, index) => (
          <MenuItem key={index} item={item} />
        ))}
      </ul>
    </aside>
  );
}

==================== C:\Code\recipe-app\client/src\components\SubCategoryTable.jsx ====================

// src/components/SubCategoryTable.jsx
import React, { useState, useMemo } from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function SubCategoryTable() {
  const [selectedCategories, setSelectedCategories] = useState([]);
  const { categories, subCategories, deleteSubCategory } = useData();

  const handleDelete = async (subCategoryId) => {
    if (window.confirm('Are you sure you want to delete this sub-category?')) {
      try {
        await deleteSubCategory(subCategoryId);
      } catch (error) {
        alert('Failed to delete sub-category');
      }
    }
  };

  const getCategoryName = (categoryId) => {
    const category = categories.find(category => category.CategoryID === categoryId);
    return category ? category.CategoryName : 'Unknown';
  };

  const handleCategoryChange = (e) => {
    const selectedValue = parseInt(e.target.value);
    setSelectedCategories(prevSelected =>
      prevSelected.includes(selectedValue)
        ? prevSelected.filter(id => id !== selectedValue)
        : [...prevSelected, selectedValue]
    );
  };

  const filteredSubCategories = useMemo(() => 
    selectedCategories.length > 0
      ? subCategories.filter(subCategory => selectedCategories.includes(subCategory.CategoryID))
      : subCategories,
    [subCategories, selectedCategories]
  );

  const headers = ['#', 'Sub-Category Name', 'Category Name', 'Actions'];

  const data = useMemo(() =>
    filteredSubCategories.map((subCategory, index) => ({
      id: subCategory.SubCategoryID,
      cells: [
        index + 1,
        subCategory.SubCategoryName,
        getCategoryName(subCategory.CategoryID),
        <DeleteButton key={subCategory.SubCategoryID} onClick={() => handleDelete(subCategory.SubCategoryID)} />
      ],
    })),
    [filteredSubCategories, categories]
  );

  return (
    <div className="overflow-x-auto">
      <div className="flex items-center mb-4">
        <label className="mr-2">Filter by Category:</label>
        <select
          className="select select-bordered"
          value=""
          onChange={handleCategoryChange}
        >
          <option value="" disabled>Select Categories</option>
          {categories.map(category => (
            <option
              key={category.CategoryID}
              value={category.CategoryID}
              disabled={selectedCategories.includes(category.CategoryID)}
            >
              {category.CategoryName}
            </option>
          ))}
        </select>
      </div>
      <div className="mb-4">
        {selectedCategories.map(categoryId => (
          <div key={categoryId} className="badge badge-primary mr-2">
            {getCategoryName(categoryId)}
            <button
              type="button"
              className="ml-1"
              onClick={() => setSelectedCategories(selectedCategories.filter(id => id !== categoryId))}
            >
              
            </button>
          </div>
        ))}
      </div>
      <Table headers={headers} data={data} />
    </div>
  );
}

export default SubCategoryTable;


==================== C:\Code\recipe-app\client/src\components\ThemeSwitcher.jsx ====================

import React, { useEffect, useState } from 'react';

const ThemeSwitcher = () => {
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      setTheme(savedTheme);
    }
  }, []);

  const handleThemeChange = (event) => {
    const selectedTheme = event.target.value;
    document.documentElement.setAttribute('data-theme', selectedTheme);
    localStorage.setItem('theme', selectedTheme);
    setTheme(selectedTheme);
  };

  return (   
    <div className="dropdown dropdown-end">
      <select className="btn btn-ghost btn-sm" value={theme} onChange={handleThemeChange}>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="cupcake">Cupcake</option>
        <option value="bumblebee">Bumblebee</option>
        <option value="emerald">Emerald</option>
        <option value="corporate">Corporate</option>
        <option value="synthwave">Synthwave</option>
        <option value="retro">Retro</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="valentine">Valentine</option>
        <option value="halloween">Halloween</option>
        <option value="garden">Garden</option>
        <option value="forest">Forest</option>
        <option value="aqua">Aqua</option>
        <option value="lofi">Lofi</option>
        <option value="pastel">Pastel</option>
        <option value="fantasy">Fantasy</option>
        <option value="wireframe">Wireframe</option>
        <option value="black">Black</option>
        <option value="luxury">Luxury</option>
        <option value="dracula">Dracula</option>
        <option value="cmyk">CMYK</option>
        <option value="autumn">Autumn</option>
        <option value="business">Business</option>
        <option value="acid">Acid</option>
        <option value="lemonade">Lemonade</option>
        <option value="night">Night</option>
        <option value="coffee">Coffee</option>
        <option value="winter">Winter</option>
      </select>
    </div>
  );
};

export default ThemeSwitcher;


==================== C:\Code\recipe-app\client/src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== C:\Code\recipe-app\client/src\components\ui\Card.jsx ====================

// src/components/ui/Card.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import Button from './Button';

const Card = ({ title, count, link }) => {
    return (
        <div className="card bg-base-100 w-96 shadow-xl">
            <div className="card-body">
                <h2 className="card-title">{title}</h2>
                <p className="text-2xl font-bold">{count}</p>
                <div className="card-actions justify-end">
                    <Link to={link}>
                        <Button
                            variant='secondary'
                            outline={true}
                            >
                            Manage
                        </Button>
                    </Link>
                </div>
            </div>
        </div>
    );
};

export default Card;


==================== C:\Code\recipe-app\client/src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== C:\Code\recipe-app\client/src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== C:\Code\recipe-app\client/src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== C:\Code\recipe-app\client/src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== C:\Code\recipe-app\client/src\components\ui\TextInput.jsx ====================

// src/components/ui/TextInput.jsx
import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered' }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
      />
    </label>
  );
};

export default TextInput;


==================== C:\Code\recipe-app\client/src\context\AuthContext.jsx ====================

import React, { createContext, useContext, useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    const storedAuth = localStorage.getItem('isAuthenticated');
    if (storedAuth === 'true') {
      setIsAuthenticated(true);
    }
    setLoading(false); // Indicate that the auth status has been checked
  }, []);

  const login = async (username, password) => {
    const response = await fetch('http://localhost:8000/api/users/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Password: password }),
    });

    if (response.ok) {
      setIsAuthenticated(true);
      localStorage.setItem('isAuthenticated', 'true');
      navigate('/');
    } else {
      alert('Login failed');
    }
  };

  const logout = () => {
    setIsAuthenticated(false);
    localStorage.removeItem('isAuthenticated');
    navigate('/login');
  };

  if (loading) {
    return <div>Loading...</div>; // Display a loading message or spinner while checking auth status
  }

  return (
    <AuthContext.Provider value={{ isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);


==================== C:\Code\recipe-app\client/src\context\DataContext.jsx ====================

// src/context/DataContext.jsx

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    const newCategory = await apiService.addCategory(categoryName);
    setCategories([...categories, newCategory]);
  };

  const updateCategory = async (categoryId, categoryName) => {
    await apiService.updateCategory(categoryId, categoryName);
    setCategories(categories.map(cat => (cat.CategoryID === categoryId ? { ...cat, CategoryName: categoryName } : cat)));
  };

  const deleteCategory = async (categoryId) => {
    await apiService.deleteCategory(categoryId);
    setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    const newSubCategory = await apiService.addSubCategory(subCategory);
    setSubCategories([...subCategories, newSubCategory]);
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
    setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? { ...sub, SubCategoryName: subCategoryName, CategoryID: categoryId } : sub)));
  };

  const deleteSubCategory = async (subCategoryId) => {
    await apiService.deleteSubCategory(subCategoryId);
    setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    const newIngredient = await apiService.addIngredient(ingredient);
    setIngredients([...ingredients, newIngredient]);
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    await apiService.updateIngredient(ingredientId, ingredient);
    setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? { ...ing, ...ingredient } : ing)));
  };

  const deleteIngredient = async (ingredientId) => {
    await apiService.deleteIngredient(ingredientId);
    setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
    setAuthors([...authors, newAuthor]);
  };

  const updateAuthor = async (authorId, author) => {
    await apiService.updateAuthor(authorId, author);
    setAuthors(authors.map(auth => (auth.AuthorID === authorId ? { ...auth, ...author } : auth)));
  };

  const deleteAuthor = async (authorId) => {
    await apiService.deleteAuthor(authorId);
    setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    const newRecipeBook = await apiService.addRecipeBook(recipeBook);
    setRecipeBooks([...recipeBooks, newRecipeBook]);
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    await apiService.updateRecipeBook(recipeBookId, recipeBook);
    setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? { ...book, ...recipeBook } : book)));
  };

  const deleteRecipeBook = async (recipeBookId) => {
    await apiService.deleteRecipeBook(recipeBookId);
    setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    const newRecipe = await apiService.addRecipe(recipe);
    setRecipes([...recipes, newRecipe]);
  };

  const updateRecipe = async (recipeId, recipe) => {
    await apiService.updateRecipe(recipeId, recipe);
    setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? { ...rec, ...recipe } : rec)));
  };

  const deleteRecipe = async (recipeId) => {
    await apiService.deleteRecipe(recipeId);
    setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
    setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== C:\Code\recipe-app\client/src\pages\Home.jsx ====================

// src/pages/Home.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';

function Home() {
  const { categories, subCategories, ingredients, authors, recipeBooks, recipes } = useData();

  const items = [
    { name: 'Categories', count: categories.length, link: '/manage-categories' },
    { name: 'Subcategories', count: subCategories.length, link: '/manage-sub-categories' },
    { name: 'Ingredients', count: ingredients.length, link: '/manage-ingredients' },
    { name: 'Authors', count: authors.length, link: '/manage-authors' },
    { name: 'Recipe Books', count: recipeBooks.length, link: '/manage-recipe-books' },
    { name: 'Recipes', count: recipes.length, link: '/manage-recipes' },
  ];

  return (
    <div className="flex flex-wrap gap-4 p-6">
      {items.map((item, index) => (
        <Card key={index} title={item.name} count={item.count} link={item.link} />
      ))}
    </div>
  );
}

export default Home;


==================== C:\Code\recipe-app\client/src\pages\Login.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import TextInput from '../components/ui/TextInput';
import Button from '../components/ui/Button';

function Login() {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleSubmit = async (e) => {
        e.preventDefault();
        await login(username, password);
    };

    return (
        <div className="flex items-start p-8 justify-center w-full">
            <div className="flex flex-col w-96 rounded-box bg-base-200 p-6 gap-4">
                <h1 className="text-3xl font-bold self-center">Log in</h1>
                {/* <span className="self-center flex gap-2">
                    Don't have an account?
                    <a className="link link-secondary" onClick={() => navigate('/register')}>Register</a>
                </span>
                <a className="btn btn-neutral">
                    <i className="fa-brands fa-google text-primary"></i>
                    Log in with Google
                </a>
                <div className="divider">OR</div> */}
                <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
                    <TextInput
                        label="Username"
                        value={username}
                        onChange={(e) => setUsername(e.target.value)}
                        required
                    />
                    <label className="form-control w-full">
                        <div className="label">
                            <span className="label-text">Password</span>
                            <a className="label-text link link-accent">Forgot password?</a>
                        </div>
                        <TextInput
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            required
                        />
                    </label>
                    <div className="form-control">
                        <label className="cursor-pointer label self-start gap-2">
                            <input type="checkbox" className="checkbox" />
                            <span className="label-text">Remember me</span>
                        </label>
                    </div>
                    <Button type="submit">Log in</Button>
                </form>
            </div>
        </div>
    );
}

export default Login;


==================== C:\Code\recipe-app\client/src\pages\ManageAuthors.jsx ====================

// src/pages/ManageAuthors.jsx
import React from 'react';
import AuthorTable from '../components/AuthorTable';
import AddAuthorModal from '../components/AddAuthorModal';

function ManageAuthors() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Authors</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_author_modal').showModal()}>Add Author</button>
      </div>
      <AuthorTable />
      <AddAuthorModal />
    </div>
  );
}

export default ManageAuthors;


==================== C:\Code\recipe-app\client/src\pages\ManageCategories.jsx ====================

// src/pages/ManageCategories.jsx
import React from 'react';
import CategoryTable from '../components/CategoryTable';
import AddCategoryModal from '../components/AddCategoryModal';

function ManageCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_category_modal').showModal()}>Add Category</button>
      </div>
      <CategoryTable />
      <AddCategoryModal />
    </div>
  );
}

export default ManageCategories;


==================== C:\Code\recipe-app\client/src\pages\ManageIngredients.jsx ====================

// src/pages/ManageIngredients.jsx
import React from 'react';
import IngredientTable from '../components/IngredientTable';
import AddIngredientModal from '../components/AddIngredientModal';

function ManageIngredients() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Ingredients</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_ingredient_modal').showModal()}>Add Ingredient</button>
      </div>
      <IngredientTable />
      <AddIngredientModal />
    </div>
  );
}

export default ManageIngredients;


==================== C:\Code\recipe-app\client/src\pages\ManageRecipeBooks.jsx ====================

// src/pages/ManageRecipeBooks.jsx
import React from 'react';
import RecipeBookTable from '../components/RecipeBookTable';
import AddRecipeBookModal from '../components/AddRecipeBookModal';

function ManageRecipeBooks() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipe Books</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_recipe_book_modal').showModal()}>Add Recipe Book</button>
      </div>
      <RecipeBookTable />
      <AddRecipeBookModal />
    </div>
  );
}

export default ManageRecipeBooks;


==================== C:\Code\recipe-app\client/src\pages\ManageRecipes.jsx ====================

// src/pages/ManageRecipes.jsx
import React, { useState } from 'react';
import RecipeTable from '../components/RecipeTable';
import AddRecipeModal from '../components/AddRecipeModal';
import AddRecipeIngredientModal from '../components/AddRecipeIngredientModal';
import Button from '../components/ui/Button';

function ManageRecipes() {
  const [selectedRecipeId, setSelectedRecipeId] = useState(null);

  const handleAddIngredients = (recipeId) => {
    setSelectedRecipeId(recipeId);
    document.getElementById('add_recipe_ingredient_modal').showModal();
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipes</h1>
      <div>
        <Button
          size='sm'
          variant='secondary'
          outline={true}
          onClick={() => document.getElementById('add_recipe_modal').showModal()}
        >
          Add Recipe
        </Button>       
      </div>
      <RecipeTable onAddIngredients={handleAddIngredients} />
      <AddRecipeModal />
      <AddRecipeIngredientModal recipeId={selectedRecipeId} />
    </div>
  );
}

export default ManageRecipes;


==================== C:\Code\recipe-app\client/src\pages\ManageSubCategories.jsx ====================

// src/pages/ManageSubCategories.jsx
import React from 'react';
import SubCategoryTable from '../components/SubCategoryTable';
import AddSubCategoryModal from '../components/AddSubCategoryModal';

function ManageSubCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Sub-Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_sub_category_modal').showModal()}>Add Sub-Category</button>
      </div>
      <SubCategoryTable />
      <AddSubCategoryModal />
    </div>
  );
}

export default ManageSubCategories;


==================== C:\Code\recipe-app\client/src\pages\Register.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';

function Register() {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const { login } = useAuth();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const response = await fetch('http://localhost:8000/api/users/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Email: email, Password: password }),
    });

    if (response.ok) {
      await login(username, password);
    } else {
      alert('Registration failed');
    }
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <div className="p-8 bg-white rounded shadow-md w-96">
        <h2 className="mb-4 text-2xl font-bold text-center">Register</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Email</label>
            <input
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <button type="submit" className="w-full py-2 text-white bg-green-500 rounded hover:bg-green-600">
            Register
          </button>
        </form>
      </div>
    </div>
  );
}

export default Register;


==================== C:\Code\recipe-app\client/src\services\apiService.js ====================

// src/services/apiService.js
import cache from '../utils/cache';

const API_BASE_URL = 'http://localhost:8000/api';

const fetchData = async (endpoint, options = {}, useCache = true) => {
    const cacheKey = endpoint;

    if (useCache) {
        const cachedData = cache.get(cacheKey);
        if (cachedData) {
            return cachedData;
        }
    }

    const response = await fetch(`${API_BASE_URL}${endpoint}`, {
        headers: { 'Content-Type': 'application/json' },
        ...options,
    });
    if (!response.ok) {
        throw new Error('Failed to fetch data');
    }
    const data = await response.json();

    if (useCache) {
        cache.set(cacheKey, data);
    }

    return data;
};

// Categories
export const getCategories = () => fetchData('/ingredient-categories/');
export const addCategory = async (categoryName) => {
    const newCategory = await fetchData('/ingredient-categories/', {
        method: 'POST',
        body: JSON.stringify({ CategoryName: categoryName }),
    }, false);
    cache.invalidate('/ingredient-categories/');
    return newCategory;
};
export const updateCategory = async (categoryId, categoryName) => {
    const updatedCategory = await fetchData(`/ingredient-categories/${categoryId}`, {
        method: 'PUT',
        body: JSON.stringify({ CategoryName: categoryName }),
    }, false);
    cache.invalidate('/ingredient-categories/');
    return updatedCategory;
};
export const deleteCategory = async (categoryId) => {
    await fetchData(`/ingredient-categories/${categoryId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/ingredient-categories/');
};

// SubCategories
export const getSubCategories = () => fetchData('/ingredient-sub-categories/');
export const addSubCategory = async (subCategory) => {
    const newSubCategory = await fetchData('/ingredient-sub-categories/', {
        method: 'POST',
        body: JSON.stringify(subCategory),
    }, false);
    cache.invalidate('/ingredient-sub-categories/');
    return newSubCategory;
};
export const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    const updatedSubCategory = await fetchData(`/ingredient-sub-categories/${subCategoryId}`, {
        method: 'PUT',
        body: JSON.stringify({ SubCategoryName: subCategoryName, CategoryID: categoryId }),
    }, false);
    cache.invalidate('/ingredient-sub-categories/');
    return updatedSubCategory;
};
export const deleteSubCategory = async (subCategoryId) => {
    await fetchData(`/ingredient-sub-categories/${subCategoryId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/ingredient-sub-categories/');
};

// Ingredients
export const getIngredients = () => fetchData('/ingredients/');
export const addIngredient = async (ingredient) => {
    const newIngredient = await fetchData('/ingredients/', {
        method: 'POST',
        body: JSON.stringify(ingredient),
    }, false);
    cache.invalidate('/ingredients/');
    return newIngredient;
};
export const updateIngredient = async (ingredientId, ingredient) => {
    const updatedIngredient = await fetchData(`/ingredients/${ingredientId}`, {
        method: 'PUT',
        body: JSON.stringify(ingredient),
    }, false);
    cache.invalidate('/ingredients/');
    return updatedIngredient;
};
export const deleteIngredient = async (ingredientId) => {
    await fetchData(`/ingredients/${ingredientId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/ingredients/');
};

// Authors
export const getAuthors = () => fetchData('/recipe-authors/');
export const addAuthor = async (authorName, authorImageURL) => {
    const newAuthor = await fetchData('/recipe-authors/', {
        method: 'POST',
        body: JSON.stringify({ AuthorName: authorName, AuthorImageURL: authorImageURL }),
    }, false);
    cache.invalidate('/recipe-authors/');
    return newAuthor;
};
export const updateAuthor = async (authorId, author) => {
    const updatedAuthor = await fetchData(`/recipe-authors/${authorId}`, {
        method: 'PUT',
        body: JSON.stringify(author),
    }, false);
    cache.invalidate('/recipe-authors/');
    return updatedAuthor;
};
export const deleteAuthor = async (authorId) => {
    await fetchData(`/recipe-authors/${authorId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/recipe-authors/');
};

// Recipe Books
export const getRecipeBooks = () => fetchData('/recipe-books/');
export const addRecipeBook = async (recipeBook) => {
    const newRecipeBook = await fetchData('/recipe-books/', {
        method: 'POST',
        body: JSON.stringify(recipeBook),
    }, false);
    cache.invalidate('/recipe-books/');
    return newRecipeBook;
};
export const updateRecipeBook = async (recipeBookId, recipeBook) => {
    const updatedRecipeBook = await fetchData(`/recipe-books/${recipeBookId}`, {
        method: 'PUT',
        body: JSON.stringify(recipeBook),
    }, false);
    cache.invalidate('/recipe-books/');
    return updatedRecipeBook;
};
export const deleteRecipeBook = async (recipeBookId) => {
    await fetchData(`/recipe-books/${recipeBookId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/recipe-books/');
};

// Recipes
export const getRecipes = () => fetchData('/recipes/');
export const addRecipe = async (recipe) => {
    const newRecipe = await fetchData('/recipes/', {
        method: 'POST',
        body: JSON.stringify(recipe),
    }, false);
    cache.invalidate('/recipes/');
    return newRecipe;
};
export const updateRecipe = async (recipeId, recipe) => {
    const updatedRecipe = await fetchData(`/recipes/${recipeId}`, {
        method: 'PUT',
        body: JSON.stringify(recipe),
    }, false);
    cache.invalidate('/recipes/');
    return updatedRecipe;
};
export const deleteRecipe = async (recipeId) => {
    await fetchData(`/recipes/${recipeId}`, {
        method: 'DELETE',
    }, false);
    cache.invalidate('/recipes/');
};

// Units
export const getUnits = () => fetchData('/units/');

// Recipe Ingredients
export const getRecipeIngredients = () => fetchData('/recipe-ingredients/');

export const addRecipeIngredient = async (recipeIngredient) => {
  const newRecipeIngredient = await fetchData('/recipe-ingredients/', {
    method: 'POST',
    body: JSON.stringify(recipeIngredient),
  }, false);
  cache.invalidate('/recipe-ingredients/');
  return newRecipeIngredient;
};

==================== C:\Code\recipe-app\client/src\utils\cache.js ====================

// src/utils/cache.js

class Cache {
    constructor() {
      this.cache = {};
    }
  
    set(key, data) {
      this.cache[key] = {
        data,
        timestamp: new Date().getTime(),
      };
    }
  
    get(key, expiryTime = 180000) { // default expiry time is 180 seconds
      const cachedItem = this.cache[key];
      if (cachedItem && (new Date().getTime() - cachedItem.timestamp < expiryTime)) {
        return cachedItem.data;
      }
      return null;
    }
  
    invalidate(key) {
      delete this.cache[key];
    }
  }
  
  const cache = new Cache();
  export default cache;
  

==================== C:\Code\recipe-app\create_db.py ====================

from sqlalchemy import create_engine, Column, Integer, String, Float, Text, ForeignKey, Date, Boolean, TIMESTAMP, CheckConstraint
from sqlalchemy.orm import relationship, sessionmaker, declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = 'Users'
    UserID = Column(Integer, primary_key=True, autoincrement=True)
    Username = Column(String, nullable=False, unique=True)
    PasswordHash = Column(String, nullable=False)
    Email = Column(String, nullable=False, unique=True)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class IngredientCategory(Base):
    __tablename__ = 'IngredientCategories'
    CategoryID = Column(Integer, primary_key=True, autoincrement=True)
    CategoryName = Column(String, nullable=False, unique=True)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class IngredientSubCategory(Base):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = Column(Integer, primary_key=True, autoincrement=True)
    CategoryID = Column(Integer, ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = Column(String, nullable=False)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class Unit(Base):
    __tablename__ = 'Units'
    UnitID = Column(Integer, primary_key=True, autoincrement=True)
    UnitName = Column(String, nullable=False, unique=True)
    Abbreviation = Column(String, nullable=False, unique=True)

class UnitConversion(Base):
    __tablename__ = 'UnitConversions'
    FromUnitID = Column(Integer, ForeignKey('Units.UnitID'), primary_key=True)
    ToUnitID = Column(Integer, ForeignKey('Units.UnitID'), primary_key=True)
    ConversionFactor = Column(Float, nullable=False)

class Ingredient(Base):
    __tablename__ = 'Ingredients'
    IngredientID = Column(Integer, primary_key=True, autoincrement=True)
    SubCategoryID = Column(Integer, ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = Column(String, nullable=False)
    PurchaseUnitID = Column(Integer, ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = Column(Float)
    PurchaseWeightUnitID = Column(Integer, ForeignKey('Units.UnitID'))
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class RecipeAuthor(Base):
    __tablename__ = 'RecipeAuthors'
    AuthorID = Column(Integer, primary_key=True, autoincrement=True)
    AuthorName = Column(String, nullable=False)
    AuthorImageURL = Column(String)

class RecipeBook(Base):
    __tablename__ = 'RecipeBooks'
    BookID = Column(Integer, primary_key=True, autoincrement=True)
    AuthorID = Column(Integer, ForeignKey('RecipeAuthors.AuthorID'), nullable=False)
    BookName = Column(String, nullable=False)
    CoverArtURL = Column(String)

class Recipe(Base):
    __tablename__ = 'Recipes'
    RecipeID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'))
    RecipeName = Column(String, nullable=False)
    AuthorID = Column(Integer, ForeignKey('RecipeAuthors.AuthorID'))
    BookID = Column(Integer, ForeignKey('RecipeBooks.BookID'))
    PageNumber = Column(Integer)
    OnlineURL = Column(String)
    CookTime = Column(Integer)
    Difficulty = Column(String)
    Type = Column(String)
    ImageURL = Column(String)
    Servings = Column(Integer)
    Cuisine = Column(String)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class RecipeStep(Base):
    __tablename__ = 'RecipeSteps'
    StepID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    StepNumber = Column(Integer, nullable=False)
    Description = Column(Text, nullable=False)

class RecipeIngredientSection(Base):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    SectionName = Column(String, nullable=False)

class RecipeIngredient(Base):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    IngredientID = Column(Integer, ForeignKey('Ingredients.IngredientID'), nullable=False)
    SectionID = Column(Integer, ForeignKey('RecipeIngredientSections.SectionID'))
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey('Units.UnitID'))

class MealPlan(Base):
    __tablename__ = 'MealPlans'
    MealPlanID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    PlanName = Column(String)
    StartDate = Column(Date)
    EndDate = Column(Date)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class MealPlanRecipe(Base):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = Column(Integer, primary_key=True, autoincrement=True)
    MealPlanID = Column(Integer, ForeignKey('MealPlans.MealPlanID'), nullable=False)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    MealType = Column(String)
    Date = Column(Date, nullable=False)

class ShoppingList(Base):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')
    UpdatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class ShoppingListIngredient(Base):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = Column(Integer, primary_key=True, autoincrement=True)
    ShoppingListID = Column(Integer, ForeignKey('ShoppingLists.ShoppingListID'), nullable=False)
    MealPlanRecipeID = Column(Integer, ForeignKey('MealPlanRecipes.MealPlanRecipeID'))
    IngredientID = Column(Integer, ForeignKey('Ingredients.IngredientID'), nullable=False)
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey('Units.UnitID'))
    IsManual = Column(Boolean, default=False)
    AlreadyHave = Column(Boolean, default=False)
    Purchased = Column(Boolean, default=False)

class Tag(Base):
    __tablename__ = 'Tags'
    TagID = Column(Integer, primary_key=True, autoincrement=True)
    TagName = Column(String, nullable=False, unique=True)

class RecipeTag(Base):
    __tablename__ = 'RecipeTags'
    RecipeTagID = Column(Integer, primary_key=True, autoincrement=True)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    TagID = Column(Integer, ForeignKey('Tags.TagID'), nullable=False)

class UserFavorite(Base):
    __tablename__ = 'UserFavorites'
    FavoriteID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

class RecipeReview(Base):
    __tablename__ = 'RecipeReviews'
    ReviewID = Column(Integer, primary_key=True, autoincrement=True)
    UserID = Column(Integer, ForeignKey('Users.UserID'), nullable=False)
    RecipeID = Column(Integer, ForeignKey('Recipes.RecipeID'), nullable=False)
    Rating = Column(Float, nullable=False)
    ReviewText = Column(Text)
    CreatedAt = Column(TIMESTAMP, default='CURRENT_TIMESTAMP')

    __table_args__ = (
        CheckConstraint('Rating >= 0.5 AND Rating <= 5', name='check_rating_range'),
    )

# Define your database URI (in this case, a SQLite database)
engine = create_engine('sqlite:///mydatabase2.db')

# Create all tables
Base.metadata.create_all(engine)

# Optional: Create a session to interact with the database
Session = sessionmaker(bind=engine)
session = Session()


==================== C:\Code\recipe-app\frontend.py ====================

import os
import re

BASE_PATH = 'client/src'

def list_files_and_dirs(path):
    """List all files and directories in the given path."""
    items = os.listdir(path)
    files = [item for item in items if os.path.isfile(os.path.join(path, item))]
    dirs = [item for item in items if os.path.isdir(os.path.join(path, item))]
    return files, dirs

def display_menu(files, dirs):
    """Display a menu of files and directories."""
    for i, dir_name in enumerate(dirs):
        print(f"{i + 1}. [DIR] {dir_name}")
    for i, file_name in enumerate(files):
        print(f"{i + 1 + len(dirs)}. {file_name}")

def get_choice(files, dirs):
    """Get the user's choice from the menu."""
    while True:
        try:
            choice = int(input("\nEnter the number of your choice: ")) - 1
            if 0 <= choice < len(dirs):
                return 'DIR', dirs[choice]
            elif len(dirs) <= choice < len(files) + len(dirs):
                return 'FILE', files[choice - len(dirs)]
            else:
                print("Invalid choice. Please try again.")
        except ValueError:
            print("Invalid input. Please enter a number.")

def navigate_to_file():
    """Navigate through directories to select a file."""
    current_path = BASE_PATH

    while True:
        print(f"\nCurrent path: {current_path}")
        files, dirs = list_files_and_dirs(current_path)
        display_menu(files, dirs)

        choice_type, choice_name = get_choice(files, dirs)

        if choice_type == 'DIR':
            current_path = os.path.join(current_path, choice_name)
        elif choice_type == 'FILE':
            return os.path.join(current_path, choice_name)

def get_imports(file_path):
    """Extract the import statements from a file and return the paths of the imported files."""
    with open(file_path, 'r') as file:
        content = file.read()

    imports = re.findall(r"import\s.*\sfrom\s*['\"](.*)['\"]", content)
    return imports

def resolve_import_path(import_path, base_path):
    """Resolve the absolute path of an import statement."""
    if import_path.startswith('.'):
        return os.path.normpath(os.path.join(base_path, import_path + '.jsx'))  # Assuming .jsx files, you might need to adjust this
    else:
        # Assuming all non-relative imports are from 'client/src'
        return os.path.normpath(os.path.join(BASE_PATH, import_path + '.jsx'))

def collate_file(file_path, visited, base_path, output):
    """Recursively collate the contents of the file and its imports."""
    if file_path in visited:
        return

    visited.add(file_path)

    with open(file_path, 'r') as file:
        content = file.read()
        output.write(f"\n\n==================== {file_path} ====================\n\n")
        output.write(content)
    
    imports = get_imports(file_path)
    for imp in imports:
        import_path = resolve_import_path(imp, base_path)
        if os.path.exists(import_path):
            collate_file(import_path, visited, os.path.dirname(import_path), output)
        else:
            print(f"Warning: Import {imp} not found at {import_path}")

def main():
    output_file = 'collated_output.txt'
    visited = set()

    start_file_path = navigate_to_file()

    if not os.path.exists(start_file_path):
        print(f"Error: {start_file_path} does not exist.")
        return

    with open(output_file, 'w') as output:
        collate_file(start_file_path, visited, os.path.dirname(start_file_path), output)

    print(f"Collation complete. See {output_file}")

if __name__ == "__main__":
    main()


==================== C:\Code\recipe-app\mydatabase2 - Copy.db ====================

SQLite format 3   @     '                                                               ' .n       
+7
 :
{		yf)                                                                                                                                                                                                                                                                                                                                         6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)N
++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversionso;;utableIngredientSubCategoriesIngredientSubCategories
CREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)
	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags=	''9tableRecipeAuthorsRecipeAuthors
CREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))= indexsqlite_autoindex_Units_2Units	)= indexsqlite_autoindex_Units_1Units	555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategoriestableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("UserID"), 
	UNIQUE ("Username"), 
	UNIQUE ("Email")
))= indexsqlite_autoindex_Users_2Users)= indexsqlite_autoindex_Users_1Users      
   
 s
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       #;AAuniqueuser5$2b$12$lNeLnAWfpicHRFB7bvU.heTGqViRKbp3NGvXATXilNM2U3mJ8UJiWuniqueuser5@example.com2024-06-17 11:40:05.0389152024-06-17 11:40:05.038915 #;AAuniqueuser4$2b$12$nGEFLwgtQuvfUwKEoc3hq.D5MmOHUXC0RhRoJmxLZ3FVHYrv9KW9quniqueuser4@example.com2024-06-17 11:38:12.0036062024-06-17 11:38:12.003606 7AAtestuser2$2b$12$cftdrhDGVJIAfS8KLdFQEOdhIpsBUfu6VUMFqf7N5g4iVtYRrwvnqtestuser3@example.com2024-06-17 11:33:43.1961722024-06-17 11:33:43.196172U %533testuserpasswordhashtestuser@example.com2024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          #uniqueuser5#uniqueuser4
testuser2	testuser
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ;uniqueuser5@example.com;uniqueuser4@example.com7testuser3@example.com5	testuser@example.com
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              1 33Fruits2024-06-15 18:14:332024-06-15 18:14:335 !33Vegetables2024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
Fruits
!	Vegetables
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            !MillilitermL
 LiterL	 Gramg Kilogramkg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      !Milliliter	LiterGram	Kilogram
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           mLLg	kg
   @ n@                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                , KBob Brownhttp://example.com/bobbrown.jpg4 'SAlice Johnsonhttp://example.com/alicejohnson.jpg. !MJane Smithhttp://example.com/janesmith.jpg* IJohn Doehttp://example.com/johndoe.jpg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #Gluten-Free Vegan
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               #Gluten-Free	Vegan
   T T                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      3 33Citrus2024-06-15 18:14:332024-06-15 18:14:33; 	+33Root Vegetables2024-06-15 18:14:332024-06-15 18:14:338 	%33Leafy Greens2024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     	
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          		
    P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 = -[Gourmet Delightshttp://example.com/gourmet_delights.jpg= -[Family Favoriteshttp://example.com/family_favorites.jpg3 #QQuick Mealshttp://example.com/quick_meals.jpg: 	+YHealthy Cookinghttp://example.com/healthy_cooking.jpg
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           M 	#!!33Weekly Plan2024-06-102024-06-172024-06-15 18:14:332024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             + 	332024-06-15 18:14:332024-06-15 18:14:33
    O[


U
 i+Q                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      O			AABroccoli?      2024-06-15 18:38:12.5317182024-06-15 18:38:12.S	 	)		AAGreen Broccoli?      2024-06-15 18:36:48.4101192024-06-15 18:43:30.643991:	 			33Egg?2024-06-15 18:18:232024-06-15 18:18:23<	 			33Flour?      2024-06-15 18:18:232024-06-15 18:18:235	 		33Milk2024-06-15 18:18:232024-06-15 18:18:23=	 			33Cheese?2024-06-15 18:18:232024-06-15 18:18:23?
	 			33Tortilla?3333332024-06-15 18:18:232024-06-15 18:18:233	 				33Beef2024-06-15 18:18:232024-06-15 18:18:23B	 	33Soy Sauce?2024-06-15 18:18:232024-06-15 18:18:23B
	 	#		33Bell Pepper?      2024-06-15 18:18:232024-06-15 18:18:23=		 	)			33Chicken Breast2024-06-15 18:18:232024-06-15 18:18:23=	 			33Carrot?3333332024-06-15 18:18:232024-06-15 18:18:23=	 			33Tomato?      2024-06-15 18:18:232024-06-15 18:18:23=	 			33Garlic?2024-06-15 18:18:232024-06-15 18:18:23<	 			33Onion?      2024-06-15 18:18:232024-06-15 18:18:236	 				33Lentils2024-06-15 18:18:232024-06-15 18:18:237	 		33Orange2024-06-15 18:14:332024-06-15 18:14:33>	 		33Carrot?      2024-06-15 18:14:332024-06-15 18:14:336	 				33Spinach2024-06-15 18:14:332024-06-15 18:14:33
   
 52
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      2 	3O#U3AUpdated Recipe Namehttp://example.com/updated_recipe#MediumMain Courseht W	'     33Carrot Soup 1EasySoupAmerican2024-06-15 18:14:332024-06-15 18:14:33s 	C 33Pancakeshttp://example.com/pancakesEasyBreakfastAmerican2024-06-15 18:18:232024-06-15 18:18:23z 	!G# 33Beef Tacos#http://example.com/beef_tacos(MediumMain CourseMexican2024-06-15 18:18:232024-06-15 18:18:23 	-S# 33Chicken Stir Fryhttp://example.com/chicken_stir_fryEasyMain CourseChinese2024-06-15 18:18:232024-06-15 18:18:23t 	#I 33Lentil Soup
http://example.com/lentil_soup-MediumSoupIndian2024-06-15 18:18:232024-06-15 18:18:23S 	#     33Carrot SoupEasySoupAmerican2024-06-15 18:14:332024-06-15 18:14:33
  
+7
 :
{		yf)                                                                                                                                                                                                                                                                                                                                                                                                                                             6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)N
++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversionso;;utableIngredientSubCategoriesIngredientSubCategories
CREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)
	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags=	''9tableRecipeAuthorsRecipeAuthors
CREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))= indexsqlite_autoindex_Units_2Units	)= indexsqlite_autoindex_Units_1Units	555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategoriestableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("UserID"), 
	UNIQUE ("Username"), 
	UNIQUE ("Email")
))= indexsqlite_autoindex_Users_2Users)= indexsqlite_autoindex_Users_1Users       
   	  	jg=                                                                                                                                                     6;;tableShoppingListIngredientsShoppingListIngredientsCREATE TABLE "ShoppingListIngredients" (
	"ShoppingListIngredientID" INTEGER NOT NULL, 
	"ShoppingListID" INTEGER NOT NULL, 
	"MealPlanRecipeID" INTEGER, 
	"IngredientID" INTEGER NOT NULL, 
	"Quantity" FLOAT, 
	"UnitID" INTEGER, 
	"IsManual" BOOLEAN, 
	"AlreadyHave" BOOLEAN, 
	"Purchased" BOOLEAN, 
	PRIMARY KEY ("ShoppingListIngredientID"), 
	FOREIGN KEY("ShoppingListID") REFERENCES "ShoppingLists" ("ShoppingListID"), 
	FOREIGN KEY("MealPlanRecipeID") REFERENCES "MealPlanRecipes" ("MealPlanRecipeID"), 
	FOREIGN KEY("IngredientID") REFERENCES "Ingredients" ("IngredientID"), 
	FOREIGN KEY("UnitID") REFERENCES "Units" ("UnitID")
)M''YtableUserFavoritesUserFavoritesCREATE TABLE "UserFavorites" (
	"FavoriteID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	PRIMARY KEY ("FavoriteID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
))!!tableRecipeTagsRecipeTagsCREATE TABLE "RecipeTags" (
	"RecipeTagID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"TagID" INTEGER NOT NULL, 
	PRIMARY KEY ("RecipeTagID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID"), 
	FOREIGN KEY("TagID") REFERENCES "Tags" ("TagID")
)++?tableMealPlanRecipesMealPlanRecipesCREATE TABLE "MealPlanRecipes" (
	"MealPlanRecipeID" INTEGER NOT NULL, 
	"MealPlanID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"MealType" VARCHAR, 
	"Date" DATE NOT NULL, 
	PRIMARY KEY ("MealPlanRecipeID"), 
	FOREIGN KEY("MealPlanID") REFERENCES "MealPlans" ("MealPlanID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)!==UtableRecipeIngredientSectionsRecipeIngredientSectionsCREATE TABLE "RecipeIngredientSections" (
	"SectionID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"SectionName" VARCHAR NOT NULL, 
	PRIMARY KEY ("SectionID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)##ktableRecipeStepsRecipeStepsCREATE TABLE "RecipeSteps" (
	"StepID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"StepNumber" INTEGER NOT NULL, 
	"Description" TEXT NOT NULL, 
	PRIMARY KEY ("StepID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)f#tableRecipesRecipesCREATE TABLE "Recipes" (
	"RecipeID" INTEGER NOT NULL, 
	"UserID" INTEGER, 
	"RecipeName" VARCHAR NOT NULL, 
	"AuthorID" INTEGER, 
	"BookID" INTEGER, 
	"PageNumber" INTEGER, 
	"OnlineURL" VARCHAR, 
	"CookTime" INTEGER, 
	"Difficulty" VARCHAR, 
	"Type" VARCHAR, 
	"ImageURL" VARCHAR, 
	"Servings" INTEGER, 
	"Cuisine" VARCHAR, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("RecipeID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID"), 
	FOREIGN KEY("BookID") REFERENCES "RecipeBooks" ("BookID")
).//tableRecipeIngredientsRecipeIngredientsCREATE TABLE "RecipeIngredients" (
	"RecipeIngredientID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"IngredientID" INTEGER NOT NULL, 
	"SectionID" INTEGER, 
	"Quantity" FLOAT, 
	"UnitID" INTEGER, 
	PRIMARY KEY ("RecipeIngredientID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID"), 
	FOREIGN KEY("IngredientID") REFERENCES "Ingredients" ("IngredientID"), 
	FOREIGN KEY("SectionID") REFERENCES "RecipeIngredientSections" ("SectionID"), 
	FOREIGN KEY("UnitID") REFERENCES "Units" ("UnitID")
)@''?tableRecipeReviewsRecipeReviewsCREATE TABLE "RecipeReviews" (
	"ReviewID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"Rating" FLOAT NOT NULL, 
	"ReviewText" TEXT, 
	"CreatedAt" TIMESTAMP, 
	PRIMARY KEY ("ReviewID"), 
	CONSTRAINT check_rating_range CHECK (Rating >= 0.5 AND Rating <= 5), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)
   +
 a<sS9



y
T
;

rS2uS2


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                + 7
Garnish with berries.* /	Serve with syrup.) =Cook until golden brown.( 1Flip the pancakes.' =Cook until bubbles form. & ?Pour batter onto the pan.% 7Heat a non-stick pan.$ 3Whisk until smooth.# =Add the wet ingredients." 	=Mix the dry ingredients.! 7
Serve with guacamole."  C	Enjoy with a side of beans. =Squeeze lime over tacos. 9Garnish with cilantro. /Serve with salsa. =Add cheese and toppings. 3Assemble the tacos. 3Warm the tortillas. 5Chop the vegetables. 	)Cook the beef.! A
Garnish with sesame seeds. -	Serve with rice.# ESeason with salt and pepper. ;Stir fry for 5 minutes. 1Pour in soy sauce.! AAdd vegetables to the pan.( OAdd chicken and cook until brown. 1Heat oil in a pan. 5Chop the vegetables. 	1Slice the chicken.
 ;
Garnish with coriander. !	Serve hot.# ESeason with salt and pepper.%
 ISimmer for another 15 minutes.(	 OAdd chopped tomatoes and carrots. 5Cook for 20 minutes.! AAdd the lentils and water.# ESaute the onions and garlic." CChop the onions and garlic. 	1Rinse the lentils. 	3Blend until smooth.# 	GBoil in water for 20 minutes. 		APeel and chop the carrots.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     	-Main Ingredients
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      	!Breakfast2024-06-15 	!Dinner2024-06-14 	!Lunch2024-06-13 	!Dinner2024-06-12 		!Lunch2024-06-11
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     		
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 		32024-06-15 18:14:33
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           = 		C3@      Delicious and easy to make!2024-06-15 18:14:33
   )
 {n`SF9,vj\OB5(

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
) 		2( 	2' 	d& 	d% 	d$ 	
# 	d" 	2! 	d  	 
 		2 	d 	d 	
d 	
 	d 	d 	2 	
 	
 		2 	2 	d 	d 	d 	2 	
d 	

 	d 		 	
d
 		 
	 		2 	d 	d 	  	  	
 	d 	  	  
    |l\L;+                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
 	d
 	2
 	d
 	 
 	

 	d
 	d
 	2
 	

 	
 	2

 	
d	
 	

 	d
 		
 	 
 	 
 	

 	d
 	 
 		 

==================== C:\Code\recipe-app\mydatabase2.db ====================

SQLite format 3   @    <                                                              < .f       

U[0
	
ldQo6
                                                                                                                                                                  6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)N++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversions''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)o
;;utableIngredientSubCategoriesIngredientSubCategoriesCREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags
=
''9tableRecipeAuthorsRecipeAuthorsCREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))	= indexsqlite_autoindex_Units_2Units
)= indexsqlite_autoindex_Units_1Units		555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategories       b/indexix_Users_UsernameUsersCREATE UNIQUE INDEX "ix_Users_Username" ON "Users" ("Username")T+uindexix_Users_UserIDUsersCREATE INDEX "ix_Users_UserID" ON "Users" ("UserID")X)indexix_Users_EmailUsersCREATE UNIQUE INDEX "ix_Users_Email" ON "Users" ("Email")ktableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP NOT NULL, 
	"UpdatedAt" TIMESTAMP NOT NULL, 
	PRIMARY KEY ("UserI   
   
/ cj

743
/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        #Q=AAuniqueuse2rscrypt:32768:8:1$82ZqKERCL4HIE4fs$da3b402bb11282642875226a14dac3103bf1a1372f65d1fa38dfb84300ee32ec6cdec81ae8e9525ad88f3de6371137fd21eb3dda093e76e8369fe5e7629b01ebuniqueuser22@example.com2024-06-26 17:34:09.7328852024-06-26 17:34:09.732885~ !Q9AAuniqueuserscrypt:32768:8:1$QouazhGh6I7jJrW9$8f0564382d7aa8a58a3c5c531c283575c97355eaada016491417c031680e4e0469cadd4951ad2241e2eea58271e3537483b8a7fc1da224e0882dd262e298d92funiqueuser@example.com2024-06-26 00:00:00.0000002024-06-26 00:00:00.000000  #Q;AAanotheruserscrypt:32768:8:1$l7Sgtxp6ZbNVEGEl$e372f532dc397d2ea16fa2d5850b945870b87bceaee20a9850df85b4d8a45aadb8ed191972b602e1d5eff110af643bc7a1ff534d679af7ed016b82f333685958anotheruser@example.com2024-06-26 00:00:00.0000002024-06-26 00:00:00.000000 CAAwarren$2b$12$RqI1lGpQQHXACvxLMNADHuS0as5lyn2rOFmRjdzYQCAl1OtRiJLmGwarrencoffey@googlemail.com2024-06-17 15:46:44.4549782024-06-17 15:46:44.454978 5AAtestuser$2b$12$MuMNqvqrCcYoOgHD7zAp3.UWlx5LOmyI9Btf3/yxJRfQ3S8hqrYw.testuser@example.com2024-06-17 15:22:24.5445602024-06-17 15:22:24.544560 5AAnewuser2$2b$12$QdbIT8Lam5crtKgAfIAZhu4wF9THV5w58rowxiMEJDaXbAnHTTGjCnewuser2@example.com2024-06-17 14:26:17.1787482024-06-17 14:26:17.178748` #3AAnewuserpassword123newuser@example.com2024-06-17 14:22:53.3912712024-06-17 14:22:53.391271 #;AAuniqueuser5$2b$12$cQeSnEd5COtni8E3BZTY5eaVVEgoJ8heZiXmqhkHJ1npT4zZ1Vq5muniqueuser5@example.com2024-06-17 11:40:54.8169422024-06-17 11:40:54.816942
   ' _'D{                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               =uniqueuser22@example.com9uniqueuser@example.com;anotheruser@example.comCwarrencoffey@googlemail.com5testuser@example.com5newuser2@example.com3newuser@example.com;	uniqueuser5@example.com
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              		
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             #uniqueuse2r!uniqueuser#anotheruser
warrentestusernewuser2newuser#	uniqueuser5
 	
x3d


W                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           > AATest22024-06-17 19:27:45.2242172024-06-17 19:27:45.224217@	=
 AATest2024-06-20 12:23:42.6068152024-06-20 12:23:42.606815B AAHousehold2024-06-17 14:58:21.8378052024-06-17 14:58:21.837805E %AAChilled Food2024-06-17 14:58:21.7533962024-06-17 14:58:21.753396D #AAFrozen Food2024-06-17 14:58:21.7078052024-06-17 14:58:21.707805F 'AAFood Cupboard2024-06-17 14:58:21.6708882024-06-17 14:58:21.670888? AADrinks2024-06-17 14:58:21.6274662024-06-17 14:58:21.627466C !AAFresh Food2024-06-17 14:58:21.5865132024-06-17 14:58:21.586513? AABakery2024-06-17 14:58:21.5357592024-06-17 14:58:21.535759   @	 AAAlcohol2024-06-20 11:25:16.9946082024-06-20 11:25:16.9946084
 	 t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        	Test2Test

Household%Chilled Food#Frozen Food'Food Cupboard
Drinks!Fresh Food
Bakery   Alcohol	
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Kilogramkg	 Gramg Piecepc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       KilogramGram	Piece
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   kgg	pc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
Ruth
 
warrennnn '
Warren Coffey -
The Hairy Bikers %
Jamie Oliver % Pinch of Nom
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

 x v4T


Bx3\

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         A AAWoahhh2024-06-20 10:42:56.0744742024-06-20 10:42:56.074474F #AAWarren test2024-06-20 10:42:32.5470962024-06-20 10:42:32.547096F #AAWarren test2024-06-20 10:42:28.2960762024-06-20 10:42:28.296076F #AAWarren test2024-06-20 10:41:57.5976072024-06-20 10:41:57.597607F #AAWarren test2024-06-20 10:41:09.5820862024-06-20 10:41:09.582086E !AAcleaninggg2024-06-20 10:39:32.7306692024-06-20 10:39:32.730669E !AAcleaninggg2024-06-20 10:38:44.6812372024-06-20 10:38:44.6812E
 !AATestBakery2024-06-20 12:29:00.9217622024-06-20 12:29:00.921762@ AAPasta2024-06-18 13:54:43.1794962024-06-18 13:54:43.179496   AAAWine2024-06-17 15:07:40.9926192024-06-17 15:07:40.992619>
 AATea2024-06-17 15:07:40.9410742024-06-17 15:07:40.941074A	 AACoffee2024-06-17 15:07:40.8882622024-06-17 15:07:40.888262@ AAWater2024-06-17 15:07:40.7910132024-06-17 15:07:40.791013K -AAFresh Vegetables2024-06-17 15:07:40.7312842024-06-17 15:07:40.731284F #AAFresh Fruit2024-06-17 15:07:40.6916962024-06-17 15:07:40.691696G %AASweet Treats2024-06-17 15:07:40.6044782024-06-17 15:07:40.604478M 1AABreakfast Pastries2024-06-17 15:07:40.5530532024-06-17 15:07:40.553053@ AACakes2024-06-17 15:07:40.5093422024-06-17 15:07:40.509342F #AABread Rolls2024-06-17 15:07:40.4770762024-06-17 15:07:40.477076@ AABread2024-06-17 15:07:40.4299402024-06-17 15:07:40.429940
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               !
Ruth's fud )
Warren's scran 
Easy food +
60 Minute Meals 	' Fast and easy
    L                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         S 	!!AAnew2024-06-272024-07-062024-06-24 19:45:19.8794012024-06-24 19:45:19.879401W 	!!AACaravan2024-06-282024-06-302024-06-24 19:15:17.9979232024-06-24 19:15:17.997923Y 	!!AATest plan2024-06-242024-06-272024-06-24 19:13:44.9647852024-06-24 19:13:44.964785
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  f5


X

p#C


e
		>>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               M	 	)	AANew York Bagel2024-06-20 08:10:57.9873752024-06-20 08:10:57.987375M	 	)	AC	 		AATest2024-06-20 10:11:42.0814882024-06-20 10:11:42.081488M	 	)	AANew York Bagel2024-06-20 08:07:35.5981062024-06-20 08:07:35.598106J	 AANew Test 2024-06-19 17:11:35.0900682024-06-19 17:11:35.090068f	AATest222024-06-19 17:09:00.9344562024-06-19 17:09:00.934456B	 		AAPie2024-06-19 17:08:41.8414082024-06-19 17:08:41.841408B	 		AAPie2024-06-19 17:06:43.5075392024-06-19 17:06:43.507539D	 AAPie2024-06-19 17:06:30.8402082024-06-19 17:06:30.840208N	 )		AATestIngredient2024-06-19 17:05:21.8808182024-06-19 17:05:21.880818G	 AAPenne2024-06-18 13:55:00.0616542024-06-18 13:55:00.061654O	 )AA	Coffee sachets2024-06-18 13:44:18.0321872024-06-18 13:44:18.032187E	 			AACarrots2024-06-17 15:14:32.0359732024-06-17 15:14:32.035973E	 			AALettuce2024-06-17 15:14:32.0026602024-06-17 15:14:32.002660I	 #			AABlueberries2024-06-17 15:14:31.9695472024-06-17 15:14:31.969547J	 %			AAStrawberries2024-06-17 15:14:31.9026852024-06-17 15:14:31.902685J	 %			AAOrange Juice2024-06-17 15:14:31.8766642024-06-17 15:14:31.876664I	 #			AAApple Juice2024-06-17 15:14:31.8361712024-06-17 15:14:31.836171G	 			AA
Green Tea2024-06-17 15:14:31.7763472024-06-17 15:14:31.776347K
	 '			AA	Ground Coffee2024-06-17 15:14:31.7526132024-06-17 15:14:31.752613K	 '			AABottled Water2024-06-17 15:14:31.6753592024-06-17 15:14:31.675359   P-			AAMixed Vegetables2024-06-17 15:14:31.6363402024-06-17 15:14:31.636340I
	 #			AAFruit Salad2024-06-17 15:14:31.6139852024-06-17 15:14:31.613985E		 			AABrownie2024-06-17 15:14:31.5746812024-06-17 15:14:31.574681K	 '			AADanish Pastry2024-06-17 15:14:31.5360602024-06-17 15:14:31.536060G	 			AACroissant2024-06-17 15:14:31.4736442024-06-17 15:14:31.473644J	 %			AAVanilla Cake2024-06-17 15:14:31.4363922024-06-17 15:14:31.436392L	 )			AAChocolate Cake2024-06-17 15:14:31.3857272024-06-17 15:14:31.385727J	 %			AADinner Rolls2024-06-17 15:14:31.3540872024-06-17 15:14:31.354087I	 #			AABurger Buns2024-06-17 15:14:31.3128722024-06-17 15:14:31.312872N	 	/			AAWhole Grain Bread2024-06-17 15:14:31.2687022024-06-17 15:14:31.268702H	 	#			AAWhite Bread2024-06-17 15:14:31.2338302024-06-17 15:14:31.233830
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        R  




AATest nowC"2024-06-26 17:45:03.69109220    	         Test

 6 G

U[0
	
ldQo6
                                                                                                                                                                                                                                                                      6##3tableIngredientsIngredientsCREATE TABLE "Ingredients" (
	"IngredientID" INTEGER NOT NULL, 
	"SubCategoryID" INTEGER NOT NULL, 
	"IngredientName" VARCHAR NOT NULL, 
	"PurchaseUnitID" INTEGER, 
	"PurchaseWeightVolume" FLOAT, 
	"PurchaseWeightUnitID" INTEGER, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("IngredientID"), 
	FOREIGN KEY("SubCategoryID") REFERENCES "IngredientSubCategories" ("SubCategoryID"), 
	FOREIGN KEY("PurchaseUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("PurchaseWeightUnitID") REFERENCES "Units" ("UnitID")
)=Q+ indexsqlite_autoindex_UnitConversions_1UnitConversionsN++StableUnitConversionsUnitConversionsCREATE TABLE "UnitConversions" (
	"FromUnitID" INTEGER NOT NULL, 
	"ToUnitID" INTEGER NOT NULL, 
	"ConversionFactor" FLOAT NOT NULL, 
	PRIMARY KEY ("FromUnitID", "ToUnitID"), 
	FOREIGN KEY("FromUnitID") REFERENCES "Units" ("UnitID"), 
	FOREIGN KEY("ToUnitID") REFERENCES "Units" ("UnitID")
)''ctableShoppingListsShoppingListsCREATE TABLE "ShoppingLists" (
	"ShoppingListID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("ShoppingListID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
):CtableMealPlansMealPlansCREATE TABLE "MealPlans" (
	"MealPlanID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"PlanName" VARCHAR, 
	"StartDate" DATE, 
	"EndDate" DATE, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("MealPlanID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID")
)##gtableRecipeBooksRecipeBooksCREATE TABLE "RecipeBooks" (
	"BookID" INTEGER NOT NULL, 
	"AuthorID" INTEGER NOT NULL, 
	"BookName" VARCHAR NOT NULL, 
	"CoverArtURL" VARCHAR, 
	PRIMARY KEY ("BookID"), 
	FOREIGN KEY("AuthorID") REFERENCES "RecipeAuthors" ("AuthorID")
)o
;;utableIngredientSubCategoriesIngredientSubCategoriesCREATE TABLE "IngredientSubCategories" (
	"SubCategoryID" INTEGER NOT NULL, 
	"CategoryID" INTEGER NOT NULL, 
	"SubCategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("SubCategoryID"), 
	FOREIGN KEY("CategoryID") REFERENCES "IngredientCategories" ("CategoryID")
)	tableTagsTagsCREATE TABLE "Tags" (
	"TagID" INTEGER NOT NULL, 
	"TagName" VARCHAR NOT NULL, 
	PRIMARY KEY ("TagID"), 
	UNIQUE ("TagName")
)'; indexsqlite_autoindex_Tags_1Tags
=
''9tableRecipeAuthorsRecipeAuthorsCREATE TABLE "RecipeAuthors" (
	"AuthorID" INTEGER NOT NULL, 
	"AuthorName" VARCHAR NOT NULL, 
	"AuthorImageURL" VARCHAR, 
	PRIMARY KEY ("AuthorID")
)XtableUnitsUnitsCREATE TABLE "Units" (
	"UnitID" INTEGER NOT NULL, 
	"UnitName" VARCHAR NOT NULL, 
	"Abbreviation" VARCHAR NOT NULL, 
	PRIMARY KEY ("UnitID"), 
	UNIQUE ("UnitName"), 
	UNIQUE ("Abbreviation")
))	= indexsqlite_autoindex_Units_2Units
)= indexsqlite_autoindex_Units_1Units		555tableIngredientCategoriesIngredientCategoriesCREATE TABLE "IngredientCategories" (
	"CategoryID" INTEGER NOT NULL, 
	"CategoryName" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP, 
	"UpdatedAt" TIMESTAMP, 
	PRIMARY KEY ("CategoryID"), 
	UNIQUE ("CategoryName")
)G[5 indexsqlite_autoindex_IngredientCategories_1IngredientCategories       b/indexix_Users_UsernameUsersCREATE UNIQUE INDEX "ix_Users_Username" ON "Users" ("Username")T+uindexix_Users_UserIDUsersCREATE INDEX "ix_Users_UserID" ON "Users" ("UserID")X)indexix_Users_EmailUsersCREATE UNIQUE INDEX "ix_Users_Email" ON "Users" ("Email")ktableUsersUsersCREATE TABLE "Users" (
	"UserID" INTEGER NOT NULL, 
	"Username" VARCHAR NOT NULL, 
	"PasswordHash" VARCHAR NOT NULL, 
	"Email" VARCHAR NOT NULL, 
	"CreatedAt" TIMESTAMP NOT NULL, 
	"UpdatedAt" TIMESTAMP NOT NULL, 
	PRIMARY KEY ("UserID")
)
| R:
                                                                                                                                                                                                                                                 )!!tableRecipeTagsRecipeTagsCREATE TABLE "RecipeTags" (
	"RecipeTagID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"TagID" INTEGER NOT NULL, 
	PRIMARY KEY ("RecipeTagID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID"), 
	FOREIGN KEY("TagID") REFERENCES "Tags" ("TagID")
)##qtableRecipeStepsRecipeStepsCREATE TABLE "RecipeSteps" (
	"StepID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"StepNumber" INTEGER NOT NULL, 
	"Description" VARCHAR NOT NULL, 
	PRIMARY KEY ("StepID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)|''7tableRecipeReviewsRecipeReviewsCREATE TABLE "RecipeReviews" (
	"ReviewID" INTEGER NOT NULL, 
	"UserID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"Rating" FLOAT NOT NULL, 
	"ReviewText" VARCHAR, 
	"CreatedAt" TIMESTAMP, 
	PRIMARY KEY ("ReviewID"), 
	FOREIGN KEY("UserID") REFERENCES "Users" ("UserID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)!==UtableRecipeIngredientSectionsRecipeIngredientSectionsCREATE TABLE "RecipeIngredientSections" (
	"SectionID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"SectionName" VARCHAR NOT NULL, 
	PRIMARY KEY ("SectionID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)++?tableMealPlanRecipesMealPlanRecipesCREATE TABLE "MealPlanRecipes" (
	"MealPlanRecipeID" INTEGER NOT NULL, 
	"MealPlanID" INTEGER NOT NULL, 
	"RecipeID" INTEGER NOT NULL, 
	"MealType" VARCHAR, 
	"Date" DATE NOT NULL, 
	PRIMARY KEY ("MealPlanRecipeID"), 
	FOREIGN KEY("MealPlanID") REFERENCES "MealPlans" ("MealPlanID"), 
	FOREIGN KEY("RecipeID") REFERENCES "Recipes" ("RecipeID")
)  3#tableRecipesRecipesCREATE TABLE "Recipes" (
	"RecipeID" INTEGER NOT NULL, 
	"UserID" INTEGER, 
	"RecipeName" VARCHAR NOT NULL, 
	"AuthorID" INTEGER, 
	"BookID" INTEGER, 
	"PageNumber" INTEGER, 
	"OnlineURL" VARCHAR, 
	"CookTime" INTEGER, 
	"Difficulty" VARCHAR, 
	"Type" VARCHAR, 
	"Image     dtableRecipesRecipesCREATE TABLE Recipes (
    RecipeID INTEGER PRIMARY KEY,
    UserID INTEGER,
    RecipeName TEXT NOT NULL,
    AuthorID INTEGER,
    BookID INTEGER,
    PageNumber INTEGER,
    OnlineURL TEXT,
    CookTime INTEGER,
    Difficulty TEXT,
    Type TEXT,
    ImageURL TEXT,
    Servings INTEGER,
    Cuisine TEXT,
    CreatedAt TIMESTAMP,
    UpdatedAt TIMESTAMP,
    FOREIGN KEY(UserID) REFERENCES Users(UserID) ON DELETE SET NULL,
    FOREIGN KEY(AuthorID) REFERENCES RecipeAuthors(AuthorID) ON DELETE SET NULL,
    FOREIGN KEY(BookID) REFERENCES RecipeBooks(BookID) ON DELETE SET NULL
)6;;tableShoppingListIngredientsShoppingListIngredientsCREATE TABLE "ShoppingListIngredients" (
	"ShoppingListIngredientID" INTEGER NOT NULL, 
	"ShoppingListID" INTEGER NOT NULL, 
	"MealPlanRecipeID" INTEGER, 
	"IngredientID" INTEGER NOT NULL, 
	"Quantity" FLOAT, 
	"UnitID" INTEGER, 
	"IsManual" BOOLEAN, 
	"AlreadyHave" BOOLEAN, 
	"Purchased" BOOLEAN, 
	PRIMARY KEY ("ShoppingListIngredientID"), 
	FOREIGN KEY("ShoppingListID") REFERENCES "ShoppingLists" ("ShoppingListID"), 
	FOREIGN KEY("MealPlanRecipeID") REFERENCES "MealPlanRecipes" ("MealPlanRecipeID"), 
	FOREIGN KEY("IngredientID") REFERENCES "Ingredients" ("IngredientID"), 
	FOREIGN KEY("UnitID") REFERENCES "Units" ("UnitID")
)-//	tableRecipeIngredientsRecipeIngredientsCREATE TABLE RecipeIngredients (
    RecipeIngredientID INTEGER PRIMARY KEY,
    RecipeID INTEGER,
    IngredientID INTEGER,
    SectionID INTEGER,
    Quantity FLOAT,
    UnitID INTEGER,
    FOREIGN KEY(RecipeID) REFERENCES Recipes(RecipeID) ON DELETE CASCADE,
    FOREIGN KEY(IngredientID) REFERENCES Ingredients(IngredientID) ON DELETE CASCADE,
    FOREIGN KEY(SectionID) REFERENCES RecipeIngredientSections(SectionID) ON DELETE CASCADE,
    FOREIGN KEY(UnitID) REFERENCES Units(UnitID) ON DELETE SET NULL
))
      GGG,,,,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 !Breakfast2024-06-30 	!Breakfast2024-06-27 	!Breakfast2024-06-27 	!Lunch2024-06-25 P	 	!Dinner2024-06-25 2	!Dinner2024-0 !Breakfast2024-06-30 	!Breakfast2024-06-23  	!Breakfast2024-06-26d 	!Breakfast2024 	 		!Breakfast2024-06-26 	!Breakfast2024-06-27 i	!Lunch2024-06-26 Q	!Breakfast2024-06-25 5	!Breakfast2024-06-24 	!Dinner2024-06-24 	!Lunch2024-06-27   		!Dinner2024-06-27-244
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
       }reZNC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           	 	 	
  	d	 	 	
{
 	  	 	 	  
  d
	  		 	 	
  	 	 		   
  	

 	 

 	 
   
		 	!
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

==================== C:\Code\recipe-app\output_backend.txt ====================



==================== C:\Code\recipe-app\backend\mydatabase2.db ====================



==================== C:\Code\recipe-app\backend\run.py ====================

from app import create_app

app = create_app()

if __name__ == '__main__':
    app.run(debug=True)


==================== C:\Code\recipe-app\backend\app\base.py ====================

from datetime import datetime
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class TimestampMixin(object):
    CreatedAt = db.Column(db.DateTime, default=datetime.utcnow)
    UpdatedAt = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)


==================== C:\Code\recipe-app\backend\app\extensions.py ====================

from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()


==================== C:\Code\recipe-app\backend\app\generic_crud.py ====================

from flask import Blueprint
from .utils import get_all, get_by_id, create_record, update_record, delete_record
from . import db

def create_crud_blueprint(model, url_prefix):
    bp = Blueprint(model.__tablename__, __name__, url_prefix=url_prefix)

    @bp.route('/', methods=['GET'])
    def get_records():
        return get_all(model)

    @bp.route('/<int:id>', methods=['GET'])
    def get_record(id):
        return get_by_id(model, id)

    @bp.route('/', methods=['POST'])
    def create():
        return create_record(model)

    @bp.route('/<int:id>', methods=['PUT'])
    def update(id):
        return update_record(model, id)

    @bp.route('/<int:id>', methods=['DELETE'])
    def delete(id):
        return delete_record(model, id)

    return bp


==================== C:\Code\recipe-app\backend\app\models.py ====================

from werkzeug.security import generate_password_hash, check_password_hash
from .extensions import db
from .base import TimestampMixin

class IngredientCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientCategories'
    CategoryID = db.Column(db.Integer, primary_key=True)
    CategoryName = db.Column(db.String, unique=True, nullable=False)

    def to_dict(self):
        return {
            'CategoryID': self.CategoryID,
            'CategoryName': self.CategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Ingredient(db.Model, TimestampMixin):
    __tablename__ = 'Ingredients'
    IngredientID = db.Column(db.Integer, primary_key=True)
    SubCategoryID = db.Column(db.Integer, db.ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = db.Column(db.String, nullable=False)
    PurchaseUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = db.Column(db.Float)
    PurchaseWeightUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))

    def to_dict(self):
        return {
            'IngredientID': self.IngredientID,
            'SubCategoryID': self.SubCategoryID,
            'IngredientName': self.IngredientName,
            'PurchaseUnitID': self.PurchaseUnitID,
            'PurchaseWeightVolume': self.PurchaseWeightVolume,
            'PurchaseWeightUnitID': self.PurchaseWeightUnitID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class IngredientSubCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = db.Column(db.Integer, primary_key=True)
    CategoryID = db.Column(db.Integer, db.ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SubCategoryID': self.SubCategoryID,
            'CategoryID': self.CategoryID,
            'SubCategoryName': self.SubCategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class MealPlanRecipe(db.Model):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = db.Column(db.Integer, primary_key=True)
    MealPlanID = db.Column(db.Integer, db.ForeignKey('MealPlans.MealPlanID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    MealType = db.Column(db.String)
    Date = db.Column(db.Date, nullable=False)

    def to_dict(self):
        return {
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'MealPlanID': self.MealPlanID,
            'RecipeID': self.RecipeID,
            'MealType': self.MealType,
            'Date': self.Date
        }

class MealPlan(db.Model, TimestampMixin):
    __tablename__ = 'MealPlans'
    MealPlanID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    PlanName = db.Column(db.String)
    StartDate = db.Column(db.Date)
    EndDate = db.Column(db.Date)

    def to_dict(self):
        return {
            'MealPlanID': self.MealPlanID,
            'UserID': self.UserID,
            'PlanName': self.PlanName,
            'StartDate': self.StartDate,
            'EndDate': self.EndDate,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeAuthor(db.Model):
    __tablename__ = 'RecipeAuthors'
    AuthorID = db.Column(db.Integer, primary_key=True)
    AuthorName = db.Column(db.String, nullable=False)
    AuthorImageURL = db.Column(db.String)

    def to_dict(self):
        return {
            'AuthorID': self.AuthorID,
            'AuthorName': self.AuthorName,
            'AuthorImageURL': self.AuthorImageURL
        }

class RecipeBook(db.Model):
    __tablename__ = 'RecipeBooks'
    BookID = db.Column(db.Integer, primary_key=True)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='CASCADE'), nullable=False)
    BookName = db.Column(db.String, nullable=False)
    CoverArtURL = db.Column(db.String)

    def to_dict(self):
        return {
            'BookID': self.BookID,
            'AuthorID': self.AuthorID,
            'BookName': self.BookName,
            'CoverArtURL': self.CoverArtURL
        }

class RecipeIngredient(db.Model):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    SectionID = db.Column(db.Integer, db.ForeignKey('RecipeIngredientSections.SectionID', ondelete='CASCADE'))
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))

    def to_dict(self):
        return {
            'RecipeIngredientID': self.RecipeIngredientID,
            'RecipeID': self.RecipeID,
            'IngredientID': self.IngredientID,
            'SectionID': self.SectionID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID
        }

class RecipeIngredientSection(db.Model):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    SectionName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SectionID': self.SectionID,
            'RecipeID': self.RecipeID,
            'SectionName': self.SectionName
        }

class RecipeReview(db.Model):
    __tablename__ = 'RecipeReviews'
    ReviewID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    Rating = db.Column(db.Float, nullable=False)
    ReviewText = db.Column(db.String)

    def to_dict(self):
        return {
            'ReviewID': self.ReviewID,
            'UserID': self.UserID,
            'RecipeID': self.RecipeID,
            'Rating': self.Rating,
            'ReviewText': self.ReviewText
        }

class Recipe(db.Model, TimestampMixin):
    __tablename__ = 'Recipes'
    RecipeID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='SET NULL'))
    RecipeName = db.Column(db.String, nullable=False)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='SET NULL'))
    BookID = db.Column(db.Integer, db.ForeignKey('RecipeBooks.BookID', ondelete='SET NULL'))
    PageNumber = db.Column(db.Integer)
    OnlineURL = db.Column(db.String)
    CookTime = db.Column(db.Integer)
    Difficulty = db.Column(db.String)
    Type = db.Column(db.String)
    ImageURL = db.Column(db.String)
    Servings = db.Column(db.Integer)
    Cuisine = db.Column(db.String)

    def to_dict(self):
        return {
            'RecipeID': self.RecipeID,
            'UserID': self.UserID,
            'RecipeName': self.RecipeName,
            'AuthorID': self.AuthorID,
            'BookID': self.BookID,
            'PageNumber': self.PageNumber,
            'OnlineURL': self.OnlineURL,
            'CookTime': self.CookTime,
            'Difficulty': self.Difficulty,
            'Type': self.Type,
            'ImageURL': self.ImageURL,
            'Servings': self.Servings,
            'Cuisine': self.Cuisine,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeStep(db.Model):
    __tablename__ = 'RecipeSteps'
    StepID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    StepNumber = db.Column(db.Integer, nullable=False)
    Description = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'StepID': self.StepID,
            'RecipeID': self.RecipeID,
            'StepNumber': self.StepNumber,
            'Description': self.Description
        }

class RecipeTag(db.Model):
    __tablename__ = 'RecipeTags'
    RecipeTagID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    TagID = db.Column(db.Integer, db.ForeignKey('Tags.TagID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'RecipeTagID': self.RecipeTagID,
            'RecipeID': self.RecipeID,
            'TagID': self.TagID
        }

class ShoppingListIngredient(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = db.Column(db.Integer, primary_key=True)
    ShoppingListID = db.Column(db.Integer, db.ForeignKey('ShoppingLists.ShoppingListID', ondelete='CASCADE'), nullable=False)
    MealPlanRecipeID = db.Column(db.Integer, db.ForeignKey('MealPlanRecipes.MealPlanRecipeID', ondelete='CASCADE'))
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))
    IsManual = db.Column(db.Boolean)
    AlreadyHave = db.Column(db.Boolean)
    Purchased = db.Column(db.Boolean)

    def to_dict(self):
        return {
            'ShoppingListIngredientID': self.ShoppingListIngredientID,
            'ShoppingListID': self.ShoppingListID,
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'IngredientID': self.IngredientID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID,
            'IsManual': self.IsManual,
            'AlreadyHave': self.AlreadyHave,
            'Purchased': self.Purchased,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class ShoppingList(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'ShoppingListID': self.ShoppingListID,
            'UserID': self.UserID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Tag(db.Model):
    __tablename__ = 'Tags'
    TagID = db.Column(db.Integer, primary_key=True)
    TagName = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'TagID': self.TagID,
            'TagName': self.TagName
        }

class UnitConversion(db.Model):
    __tablename__ = 'UnitConversions'
    FromUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ToUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ConversionFactor = db.Column(db.Float, nullable=False)

    def to_dict(self):
        return {
            'FromUnitID': self.FromUnitID,
            'ToUnitID': self.ToUnitID,
            'ConversionFactor': self.ConversionFactor
        }

class Unit(db.Model):
    __tablename__ = 'Units'
    UnitID = db.Column(db.Integer, primary_key=True)
    UnitName = db.Column(db.String, nullable=False, unique=True)
    Abbreviation = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'UnitID': self.UnitID,
            'UnitName': self.UnitName,
            'Abbreviation': self.Abbreviation
        }

class User(db.Model, TimestampMixin):
    __tablename__ = 'Users'
    UserID = db.Column(db.Integer, primary_key=True)
    Username = db.Column(db.String, nullable=False, unique=True)
    PasswordHash = db.Column(db.String, nullable=False)
    Email = db.Column(db.String, nullable=False, unique=True)

    def set_password(self, password):
        self.PasswordHash = generate_password_hash(password)

    def check_password(self, password):
        return check_password_hash(self.PasswordHash, password)

    def to_dict(self):
        return {
            'UserID': self.UserID,
            'Username': self.Username,
            'Email': self.Email,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }


==================== C:\Code\recipe-app\backend\app\utils.py ====================

from flask import request, jsonify
from sqlalchemy.exc import SQLAlchemyError, IntegrityError
from .extensions import db
from .models import User
from datetime import datetime

def get_all(model):
    try:
        records = model.query.all()
        return jsonify([record.to_dict() for record in records]), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def get_by_id(model, id):
    try:
        record = model.query.get_or_404(id)
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def create_record(model):
    try:
        data = request.get_json()
        if issubclass(model, TimestampMixin):
            if 'CreatedAt' not in data:
                data['CreatedAt'] = datetime.utcnow()
            if 'UpdatedAt' not in data:
                data['UpdatedAt'] = datetime.utcnow()

        if model == User:
            password = data.pop('Password')
            user = model(**data)
            user.set_password(password)
            db.session.add(user)
            db.session.commit()
            return jsonify(user.to_dict()), 201
        else:
            record = model(**data)
            db.session.add(record)
            db.session.commit()
            return jsonify(record.to_dict()), 201
    except IntegrityError as e:
        db.session.rollback()
        return jsonify({'error': 'A record with that unique value already exists.'}), 400
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def update_record(model, id):
    try:
        data = request.get_json()
        record = model.query.get_or_404(id)
        for key, value in data.items():
            setattr(record, key, value)
        if issubclass(model, TimestampMixin):
            record.UpdatedAt = datetime.utcnow()
        db.session.commit()
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def delete_record(model, id):
    try:
        record = model.query.get_or_404(id)
        db.session.delete(record)
        db.session.commit()
        return '', 204
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500


==================== C:\Code\recipe-app\backend\app\__init__.py ====================

from flask import Flask
from .extensions import db
from .models import IngredientCategory, Ingredient, IngredientSubCategory, MealPlanRecipe, MealPlan, RecipeAuthor, RecipeBook, RecipeIngredient, RecipeIngredientSection, RecipeReview, Recipe, RecipeStep, RecipeTag, ShoppingListIngredient, ShoppingList, Tag, UnitConversion, Unit, User
from .generic_crud import create_crud_blueprint
from sqlalchemy import inspect

def create_app():
    app = Flask(__name__)
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///../../mydatabase2.db'
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

    db.init_app(app)
    
    with app.app_context():
        # Print all tables in the database
        inspector = inspect(db.engine)
        print(inspector.get_table_names())

    # Register blueprints
    app.register_blueprint(create_crud_blueprint(IngredientCategory, '/ingredient_categories'))
    app.register_blueprint(create_crud_blueprint(Ingredient, '/ingredients'))
    app.register_blueprint(create_crud_blueprint(IngredientSubCategory, '/ingredient_subcategories'))
    app.register_blueprint(create_crud_blueprint(MealPlanRecipe, '/meal_plan_recipes'))
    app.register_blueprint(create_crud_blueprint(MealPlan, '/meal_plans'))
    app.register_blueprint(create_crud_blueprint(RecipeAuthor, '/recipe_authors'))
    app.register_blueprint(create_crud_blueprint(RecipeBook, '/recipe_books'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredient, '/recipe_ingredients'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredientSection, '/recipe_ingredient_sections'))
    app.register_blueprint(create_crud_blueprint(RecipeReview, '/recipe_reviews'))
    app.register_blueprint(create_crud_blueprint(Recipe, '/recipes'))
    app.register_blueprint(create_crud_blueprint(RecipeStep, '/recipe_steps'))
    app.register_blueprint(create_crud_blueprint(RecipeTag, '/recipe_tags'))
    app.register_blueprint(create_crud_blueprint(ShoppingListIngredient, '/shopping_list_ingredients'))
    app.register_blueprint(create_crud_blueprint(ShoppingList, '/shopping_lists'))
    app.register_blueprint(create_crud_blueprint(Tag, '/tags'))
    app.register_blueprint(create_crud_blueprint(UnitConversion, '/unit_conversions'))
    app.register_blueprint(create_crud_blueprint(Unit, '/units'))
    app.register_blueprint(create_crud_blueprint(User, '/users'))

    return app


==================== C:\Code\recipe-app\backend\instance\mydatabase2.db ====================



==================== C:\Code\recipe-app\output_client.txt ====================



==================== C:\Code\recipe-app\client\.eslintrc.cjs ====================

module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:react/jsx-runtime',
    'plugin:react-hooks/recommended',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parserOptions: { ecmaVersion: 'latest', sourceType: 'module' },
  settings: { react: { version: '18.2' } },
  plugins: ['react-refresh'],
  rules: {
    'react/jsx-no-target-blank': 'off',
    'react-refresh/only-export-components': [
      'warn',
      { allowConstantExport: true },
    ],
  },
}


==================== C:\Code\recipe-app\client\index.html ====================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================== C:\Code\recipe-app\client\postcss.config.js ====================

export default {
    plugins: {
      tailwindcss: {},
      autoprefixer: {},
    },
  };
  

==================== C:\Code\recipe-app\client\README.md ====================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh


==================== C:\Code\recipe-app\client\tailwind.config.js ====================

/** @type {import('tailwindcss').Config} */
module.exports = {
    content: [
      "./src/**/*.{js,jsx,ts,tsx}",
    ],
    theme: {
      extend: {},
    },
    plugins: [
      require('daisyui'),
    ],
    daisyui: {
      themes: ["light", "dark", "cupcake", "bumblebee", "emerald", "corporate", "synthwave", "retro", "cyberpunk", "valentine", "halloween", "garden", "forest", "aqua", "lofi", "pastel", "fantasy", "wireframe", "black", "luxury", "dracula", "cmyk", "autumn", "business", "acid", "lemonade", "night", "coffee", "winter"],
    },
  }
  

==================== C:\Code\recipe-app\client\vite.config.js ====================

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
});


==================== C:\Code\recipe-app\client\public\vite.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>

==================== C:\Code\recipe-app\client\src\App.css ====================



==================== C:\Code\recipe-app\client\src\App.jsx ====================

import React from 'react';
import AppRoutes from './routes';
import NavBar from './components/NavBar';
import { useAuth } from './context/AuthContext';
import SideBar from './components/SideBar';

function App() {
  const { isAuthenticated } = useAuth();

  return (
    <div className="flex flex-col min-h-screen">
      <NavBar />
      <div className="flex grow">
        {isAuthenticated && <SideBar />}
        <AppRoutes />
      </div>
    </div>
  );
}

export default App;


==================== C:\Code\recipe-app\client\src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;


==================== C:\Code\recipe-app\client\src\main.jsx ====================

import React from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { AuthProvider } from './context/AuthContext';
import { DataProvider } from './context/DataContext';

const rootElement = document.getElementById('root');
const root = createRoot(rootElement);

root.render(
  <BrowserRouter>
    <AuthProvider>
      <DataProvider>
        <App />
      </DataProvider>
    </AuthProvider>
  </BrowserRouter>
);


==================== C:\Code\recipe-app\client\src\routes.jsx ====================

// src/routes.jsx

import React from 'react';
import { Routes, Route } from 'react-router-dom';
import Login from './pages/Login';
import Dashboard from './pages/Dashboard';
import Register from './pages/Register';
import ManageCategories from './pages/ManageCategories';
import ManageSubCategories from './pages/ManageSubCategories';
import ManageIngredients from './pages/ManageIngredients';
import ManageRecipes from './pages/ManageRecipes';
import ManageAuthors from './pages/ManageAuthors';
import ManageRecipeBooks from './pages/ManageRecipeBooks';
import ManageMealPlans from './pages/ManageMealPlans';
import PrivateRoute from './components/PrivateRoute';
import MealPlanDetails from './pages/MealPlanDetails';

import Home from './pages/Home';

function AppRoutes() {
  return (
    <Routes>
      <Route path="login" element={<Login />} />
      <Route path="register" element={<Register />} />
      <Route path="/" element={<PrivateRoute><Home /></PrivateRoute>} />
      <Route path="/meal-plan/:mealPlanId" element={<PrivateRoute><MealPlanDetails /></PrivateRoute>} />
      <Route path="admin">
        <Route index element={<PrivateRoute><Dashboard /></PrivateRoute>} />
        <Route path="manage-categories" element={<PrivateRoute><ManageCategories /></PrivateRoute>} />
        <Route path="manage-sub-categories" element={<PrivateRoute><ManageSubCategories /></PrivateRoute>} />
        <Route path="manage-ingredients" element={<PrivateRoute><ManageIngredients /></PrivateRoute>} />
        <Route path="manage-recipes" element={<PrivateRoute><ManageRecipes /></PrivateRoute>} />
        <Route path="manage-authors" element={<PrivateRoute><ManageAuthors /></PrivateRoute>} />
        <Route path="manage-recipe-books" element={<PrivateRoute><ManageRecipeBooks /></PrivateRoute>} />
        <Route path="manage-meal-plans" element={<PrivateRoute><ManageMealPlans /></PrivateRoute>} />
      </Route>

    </Routes>
  );
}

export default AppRoutes;


==================== C:\Code\recipe-app\client\src\supabaseClient.js ====================

// src/supabaseClient.js

import { createClient } from '@supabase/supabase-js';

const SUPABASE_URL = 'https://fovbbeeexjqmcivjaujs.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZvdmJiZWVleGpxbWNpdmphdWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk1Nzg2NjksImV4cCI6MjAzNTE1NDY2OX0.F3M2b5cR9gKJo5muAZ45bgs8LKkf8znkMlixf7wN_88';

export const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);


==================== C:\Code\recipe-app\client\src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\client\src\components\AddAuthorModal.jsx ====================

// src/components/AddAuthorModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';

function AddAuthorModal() {
  const [authorName, setAuthorName] = useState('');
  const [authorImageURL, setAuthorImageURL] = useState('');
  const { createAuthor } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createAuthor(authorName, authorImageURL);
      document.getElementById('add_author_modal').close();
    } catch (error) {
      alert('Failed to add author');
    }
  };

  return (
    <Modal id="add_author_modal" title="Add Author">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Author Name"
          value={authorName}
          onChange={(e) => setAuthorName(e.target.value)}
          required
        />
        <TextInput
          label="Author Image URL"
          value={authorImageURL}
          onChange={(e) => setAuthorImageURL(e.target.value)}
        />
        <Button>Add Author</Button>
      </form>
    </Modal>
  );
}

export default AddAuthorModal;


==================== C:\Code\recipe-app\client\src\components\AddCategoryModal.jsx ====================

// src/components/AddCategoryModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Button from './ui/Button';

function AddCategoryModal() {
  const [categoryName, setCategoryName] = useState('');
  const { createCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createCategory(categoryName);
      document.getElementById('add_category_modal').close();
    } catch (error) {
      alert('Failed to add category');
    }
  };

  return (
    <Modal id="add_category_modal" title="Add Category">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Category Name"
          value={categoryName}
          onChange={(e) => setCategoryName(e.target.value)}
          required
        />
        <Button>Add Category</Button>
      </form>
    </Modal>
  );
}

export default AddCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AddIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Select from './ui/Select';
import Button from './ui/Button';

function AddIngredientModal({ onIngredientAdded = () => {} }) {
  const [ingredientName, setIngredientName] = useState('');
  const [purchaseWeightVolume, setPurchaseWeightVolume] = useState('');
  const [purchaseUnitId, setPurchaseUnitId] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const [subCategoryId, setSubCategoryId] = useState('');
  const [purchaseWeightUnitId, setPurchaseWeightUnitId] = useState('');

  const { categories, subCategories, units, createIngredient } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const ingredient = {
      IngredientName: ingredientName,
      PurchaseWeightVolume: purchaseWeightVolume,
      PurchaseUnitID: purchaseUnitId,
      SubCategoryID: subCategoryId,
      PurchaseWeightUnitID: purchaseWeightUnitId,
    };

    try {
      const newIngredient = await createIngredient(ingredient);
      onIngredientAdded(newIngredient);
      document.getElementById('add_ingredient_modal').close();
    } catch (error) {
      alert('Failed to add ingredient');
    }
  };

  const filteredSubCategories = subCategories.filter(
    (subCategory) => subCategory.CategoryID === parseInt(categoryId)
  );

  const unitOptions = units.map((unit) => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  const subCategoryOptions = filteredSubCategories.map((subCategory) => ({
    value: subCategory.SubCategoryID,
    label: subCategory.SubCategoryName,
  }));

  return (
    <Modal id="add_ingredient_modal" title="Add Ingredient" className="modal modal-bottom sm:modal-middle">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Ingredient Name"
          value={ingredientName}
          onChange={(e) => setIngredientName(e.target.value)}
          required
        />
        <TextInput
          label="Purchase Weight Volume"
          value={purchaseWeightVolume}
          onChange={(e) => setPurchaseWeightVolume(e.target.value)}
          required
        />
        <Select
          label="Purchase Unit"
          value={purchaseUnitId}
          onChange={(e) => setPurchaseUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Select
          label="Sub-Category"
          value={subCategoryId}
          onChange={(e) => setSubCategoryId(e.target.value)}
          required
          options={subCategoryOptions}
          defaultOption="Select a sub-category"
          disabled={!categoryId} // Disable until a category is selected
        />
        <Select
          label="Purchase Weight Unit"
          value={purchaseWeightUnitId}
          onChange={(e) => setPurchaseWeightUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Button>Add Ingredient</Button>
      </form>
    </Modal>
  );
}

export default AddIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanModal.jsx ====================

// src/components/AddMealPlanModal.jsx

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';

function AddMealPlanModal() {
  const [planName, setPlanName] = useState('');
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');
  const { createMealPlan } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const mealPlan = {
      PlanName: planName,
      StartDate: startDate,
      EndDate: endDate,
      UserID: 1, // Adjust as needed
    };

    try {
      await createMealPlan(mealPlan);
      document.getElementById('add_meal_plan_modal').close();
    } catch (error) {
      alert('Failed to add meal plan');
    }
  };

  return (
    <Modal id="add_meal_plan_modal" title="Add Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Plan Name"
          value={planName}
          onChange={(e) => setPlanName(e.target.value)}
          required
        />
        <TextInput
          label="Start Date"
          type="date"
          value={startDate}
          onChange={(e) => setStartDate(e.target.value)}
          required
        />
        <TextInput
          label="End Date"
          type="date"
          value={endDate}
          onChange={(e) => setEndDate(e.target.value)}
          required
        />
        <Button>Add Meal Plan</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import Select from './ui/Select';
import { format, isValid } from 'date-fns';
import TextInput from './ui/TextInput';

function AddMealPlanRecipeModal({ mealPlanId, defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId }) {

  const [recipeId, setRecipeId] = useState('');
  const [date, setDate] = useState(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
  const [mealType, setMealType] = useState(defaultMealType || '');
  const [currentMealPlanRecipeId, setCurrentMealPlanRecipeId] = useState(mealPlanRecipeId);

  const { recipes, createMealPlanRecipe, updateMealPlanRecipe } = useData();

  useEffect(() => {
    setDate(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
    setMealType(defaultMealType || '');
    setRecipeId(defaultRecipeId || '');
    setCurrentMealPlanRecipeId(mealPlanRecipeId || '');
  }, [defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!mealPlanId || !recipeId || !mealType || !date) {
      alert('All fields are required.');
      return;
    }

    const mealPlanRecipe = {
      MealPlanID: mealPlanId,
      RecipeID: recipeId,
      MealType: mealType,
      Date: date,
    };

    console.log("Submitting mealPlanRecipeId:", currentMealPlanRecipeId);

    try {
      if (currentMealPlanRecipeId) {
        // Update the existing meal plan recipe
        await updateMealPlanRecipe(currentMealPlanRecipeId, mealPlanRecipe);
      } else {
        // Create a new meal plan recipe
        await createMealPlanRecipe(mealPlanRecipe);
      }
      document.getElementById('add_meal_plan_recipe_modal').close();
      setRecipeId('');
      setMealType('');
      setDate('');
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add/update meal plan recipe');
    }
  };

  const recipeOptions = recipes.map(recipe => ({
    value: recipe.RecipeID,
    label: recipe.RecipeName,
  }));

  return (
    <Modal id="add_meal_plan_recipe_modal" title="Add/Update Meal in Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <Select
          label="Recipe"
          value={recipeId}
          onChange={(e) => setRecipeId(e.target.value)}
          required
          options={recipeOptions}
          defaultOption="Select a recipe"
        />
        <TextInput
          label="Date"
          type="date"
          value={date}
          onChange={(e) => setDate(e.target.value)}
          required
        />
        <Select
          label="Meal Type"
          value={mealType}
          onChange={(e) => setMealType(e.target.value)}
          required
          options={[
            { value: 'Breakfast', label: 'Breakfast' },
            { value: 'Lunch', label: 'Lunch' },
            { value: 'Dinner', label: 'Dinner' }
          ]}
          defaultOption="Select a meal type"
        />
        <Button type="submit">{currentMealPlanRecipeId ? 'Update Meal' : 'Add Meal'}</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeBookModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeBookModal() {
  const [bookName, setBookName] = useState('');
  const [authorID, setAuthorID] = useState('');
  const [coverArtURL, setCoverArtURL] = useState('');

  const { authors, createRecipeBook } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const recipeBook = {
      AuthorID: authorID,
      BookName: bookName,
      CoverArtURL: coverArtURL
    };

    try {
      await createRecipeBook(recipeBook);
      document.getElementById('add_recipe_book_modal').close();
    } catch (error) {
      alert('Failed to add book');
    }
  };

  const authorOptions = authors.map(author => ({
    value: author.AuthorID,
    label: author.AuthorName,
  }));

  return (
    <Modal id="add_recipe_book_modal" title="Add Recipe Book">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Book Name"
          value={bookName}
          onChange={(e) => setBookName(e.target.value)}
          required
        />
        <Select
          label="Author"
          value={authorID}
          onChange={(e) => setAuthorID(e.target.value)}
          required
          options={authorOptions}
          defaultOption="Select an author"
        />
        <TextInput
          label="Cover Art URL"
          value={coverArtURL}
          onChange={(e) => setCoverArtURL(e.target.value)}
        />
        <Button>Add Book</Button>
      </form>
    </Modal>
  );
}

export default AddRecipeBookModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import Fuse from 'fuse.js';
import { useData } from '../context/DataContext';
import AddIngredientModal from './AddIngredientModal';
import Table from './ui/Table';
import Button from './ui/Button';
import Modal from './ui/Modal';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeIngredientModal({ recipeId }) {
  const [selectedIngredientId, setSelectedIngredientId] = useState('');
  const [quantity, setQuantity] = useState('');
  const [selectedUnitId, setSelectedUnitId] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [filteredIngredients, setFilteredIngredients] = useState([]);
  const [defaultUnitId, setDefaultUnitId] = useState('');

  const { ingredients, units, categories, subCategories, createRecipeIngredient } = useData();

  useEffect(() => {
    if (ingredients.length && categories.length && subCategories.length) {
      const updatedIngredients = ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      });
      setFilteredIngredients(updatedIngredients);
    }
  }, [ingredients, categories, subCategories]);

  const handleSearch = (e) => {
    const term = e.target.value;
    setSearchTerm(term);

    if (term === '') {
      setFilteredIngredients(ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      }));
    } else {
      const fuse = new Fuse(filteredIngredients, {
        keys: ['IngredientName', 'CategoryName', 'SubCategoryName'],
        threshold: 0.3, // Adjust the threshold as needed
      });

      const result = fuse.search(term);
      setFilteredIngredients(result.map((r) => r.item));
    }
  };

  const handleAddClick = (ingredientId) => {
    const ingredient = ingredients.find((ing) => ing.IngredientID === ingredientId);
    if (ingredient) {
      setSelectedIngredientId(ingredientId);
      setDefaultUnitId(ingredient.PurchaseUnitID || ''); // Handle missing PurchaseUnitID
      setSelectedUnitId(ingredient.PurchaseUnitID || ''); // Set the default unit id
      document.getElementById('quantity_unit_modal').showModal();
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    const data = {
      RecipeID: recipeId,
      IngredientID: selectedIngredientId,
      Quantity: parseFloat(quantity),
      UnitID: selectedUnitId || defaultUnitId,
    };

    try {
      await createRecipeIngredient(data);
      window.location.reload(); // Refresh the page to show the new ingredient
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add ingredient');
    }
  };

  const handleAddNewIngredient = () => {
    document.getElementById('add_ingredient_modal').showModal();
  };

  const handleNewIngredientAdded = (newIngredient) => {
    if (newIngredient && newIngredient.PurchaseUnitID) {
      setFilteredIngredients((prevIngredients) => [
        ...prevIngredients,
        {
          ...newIngredient,
          CategoryName: '',
          SubCategoryName: '',
        },
      ]);

      // Automatically select the newly added ingredient and open the quantity/unit modal
      setSelectedIngredientId(newIngredient.IngredientID);
      setDefaultUnitId(newIngredient.PurchaseUnitID);
      setSelectedUnitId(newIngredient.PurchaseUnitID);
      setQuantity(''); // Reset the quantity
      document.getElementById('quantity_unit_modal').showModal();
    } else {
      alert('New ingredient does not have a PurchaseUnitID');
    }
  };

  const headers = ['Ingredient', 'Category', 'Sub-Category', 'Action'];
  const data = filteredIngredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientName,
      ingredient.CategoryName,
      ingredient.SubCategoryName,
      <Button
        size="sm"
        variant="primary"
        outline={true}
        onClick={() => handleAddClick(ingredient.IngredientID)}
      >
        Add
      </Button>
    ],
  }));

  const unitOptions = units.map(unit => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  return (
    <div>
      <Modal id="add_recipe_ingredient_modal" title="Add Ingredient to Recipe" wide={true}>
        <div className='flex flex-col gap-4 mb-8'>
          <TextInput
            label="Search Ingredient"
            value={searchTerm}
            onChange={handleSearch}
            placeholder="Type to search ingredients..."
          />

          <Button
            outline={true}
            size='sm'
            onClick={handleAddNewIngredient}
          >Add New Ingredient</Button>
        </div>
        <Table headers={headers} data={data} />
      </Modal>

      <Modal id="quantity_unit_modal" title="Enter Quantity and Unit">
        <form onSubmit={handleSubmit} className="flex gap-4 flex-col mt-4">
          <TextInput
            label="Quantity"
            value={quantity}
            onChange={(e) => setQuantity(e.target.value)}
            required
          />

          <Select
            label="Unit"
            value={selectedUnitId || defaultUnitId}
            onChange={(e) => setSelectedUnitId(e.target.value)}
            required
            options={unitOptions}
            defaultOption="Select a unit"
          />
          <Button>Add Ingredient</Button>
        </form>
      </Modal>

      <AddIngredientModal onIngredientAdded={handleNewIngredientAdded} />
    </div>
  );
}

export default AddRecipeIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeModal() {
    const [recipeName, setRecipeName] = useState('');
    const [authorID, setAuthorID] = useState('');
    const [bookID, setBookID] = useState('');
    const [pageNumber, setPageNumber] = useState('');
    const [onlineURL, setOnlineURL] = useState('');
    const [cookTime, setCookTime] = useState('');
    const [difficulty, setDifficulty] = useState('');
    const [type, setType] = useState('');
    const [imageURL, setImageURL] = useState('');
    const [servings, setServings] = useState('');
    const [cuisine, setCuisine] = useState('');
    const [filteredBooks, setFilteredBooks] = useState([]);

    const { authors, recipeBooks, createRecipe } = useData();

    useEffect(() => {
        if (authorID) {
            setFilteredBooks(recipeBooks.filter(book => book.AuthorID === parseInt(authorID)));
        } else {
            setFilteredBooks([]);
        }
    }, [authorID, recipeBooks]);

    const handleAuthorChange = (e) => {
        setAuthorID(e.target.value);
        setBookID(''); // Reset book selection when author changes
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        const recipe = {
            RecipeName: recipeName,
            AuthorID: parseInt(authorID) || null,
            BookID: parseInt(bookID) || null,
            PageNumber: parseInt(pageNumber) || null,
            OnlineURL: onlineURL,
            CookTime: parseInt(cookTime) || null,
            Difficulty: difficulty,
            Type: type,
            ImageURL: imageURL,
            Servings: parseInt(servings) || null,
            Cuisine: cuisine,
        };

        try {
            await createRecipe(recipe);
            document.getElementById('add_recipe_modal').close();
        } catch (error) {
            alert('Failed to add recipe');
        }
    };

    const authorOptions = authors.map(author => ({
        value: author.AuthorID,
        label: author.AuthorName
    }));

    const bookOptions = filteredBooks.map(book => ({
        value: book.BookID,
        label: book.BookName
    }));

    return (
        <Modal id="add_recipe_modal" title="Add Recipe">
            <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
                <TextInput
                    label="Recipe Name"
                    value={recipeName}
                    onChange={(e) => setRecipeName(e.target.value)}
                    required
                />
                <Select
                    label="Author"
                    value={authorID}
                    onChange={handleAuthorChange}
                    options={authorOptions}
                    defaultOption="Select an author"
                />
                <Select
                    label="Book"
                    value={bookID}
                    onChange={(e) => setBookID(e.target.value)}
                    options={bookOptions}
                    defaultOption="Select a book"
                    disabled={!authorID}
                />
                <TextInput
                    label="Page Number"
                    type="number"
                    value={pageNumber}
                    onChange={(e) => setPageNumber(e.target.value)}
                    disabled={!bookID}
                />
                <TextInput
                    label="Online URL"
                    type="url"
                    value={onlineURL}
                    onChange={(e) => setOnlineURL(e.target.value)}
                />
                <TextInput
                    label="Cook Time (minutes)"
                    type="number"
                    value={cookTime}
                    onChange={(e) => setCookTime(e.target.value)}
                    required
                />
                <TextInput
                    label="Difficulty"
                    value={difficulty}
                    onChange={(e) => setDifficulty(e.target.value)}
                />
                <TextInput
                    label="Type"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                />
                <TextInput
                    label="Image URL"
                    type="url"
                    value={imageURL}
                    onChange={(e) => setImageURL(e.target.value)}
                />
                <TextInput
                    label="Servings"
                    type="number"
                    value={servings}
                    onChange={(e) => setServings(e.target.value)}
                    required
                />
                <TextInput
                    label="Cuisine"
                    value={cuisine}
                    onChange={(e) => setCuisine(e.target.value)}
                />
                <Button>Add Recipe</Button>
            </form>
        </Modal>
    );
}

export default AddRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddSubCategoryModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddSubCategoryModal() {
  const [subCategoryName, setSubCategoryName] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const { categories, createSubCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const subCategory = {
      SubCategoryName: subCategoryName,
      CategoryID: categoryId,
    };

    try {
      await createSubCategory(subCategory);
      document.getElementById('add_sub_category_modal').close();
    } catch (error) {
      console.error('Error adding sub-category:', error);
      alert('Failed to add sub-category');
    }
  };

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  return (
    <Modal id="add_sub_category_modal" title="Add Sub-Category">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Sub-Category Name"
          value={subCategoryName}
          onChange={(e) => setSubCategoryName(e.target.value)}
          required
        />        
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Button>Add Sub-Category</Button>
      </form>
    </Modal>
  );
}

export default AddSubCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AuthorTable.jsx ====================

// src/components/AuthorTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import Table from './ui/Table';
import DeleteButton from './ui/DeleteButton';

function AuthorTable() {
  const { authors, deleteAuthor } = useData();

  const handleDelete = async (authorId) => {
    if (window.confirm('Are you sure you want to delete this author?')) {
      await deleteAuthor(authorId);
    }
  };

  const headers = ['#', 'Author Name', 'Actions'];

  const data = authors.map((author, index) => ({
    id: author.AuthorID,
    cells: [
      index + 1,
      author.AuthorName,
      <DeleteButton onClick={() => handleDelete(author.AuthorID)} />      
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default AuthorTable;


==================== C:\Code\recipe-app\client\src\components\Calendar.jsx ====================

// src/components/Calendar.jsx
import React from 'react';
import Button from './ui/Button';
import { format, eachDayOfInterval, parseISO } from 'date-fns';

const Calendar = ({ mealPlan, mealPlanRecipes, recipes, onAddMeal, onModifyMeal }) => {
  const days = eachDayOfInterval({
    start: parseISO(mealPlan.StartDate),
    end: parseISO(mealPlan.EndDate),
  });

  const getMealForDay = (date, mealType) => {
    return mealPlanRecipes.find(
      (mpr) => mpr.Date === format(date, 'yyyy-MM-dd') && mpr.MealType === mealType
    );
  };

  const getRecipeName = (recipeId) => {
    const recipe = recipes.find(r => r.RecipeID === recipeId);
    return recipe ? recipe.RecipeName : 'Unknown Recipe';
  };

  return (
    <div className="grid grid-cols-1 gap-4">
      {days.map((day) => (
        <div key={day} className="border p-2">
          <h3 className="font-bold">{format(day, 'eee, MMM d')}</h3>
          {['Breakfast', 'Lunch', 'Dinner'].map((mealType) => {
            const meal = getMealForDay(day, mealType);
            return (
              <div key={mealType} className="my-2">
                <h4 className="font-semibold">{mealType}</h4>
                {meal ? (
                  <div>
                    <div>{getRecipeName(meal.RecipeID)}</div>
                    <div className="flex gap-2">
                      <Button
                        size="sm"
                        variant="secondary"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID)}
                      >
                        Modify
                      </Button>
                      <Button
                        size="sm"
                        variant="error"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID, true)}
                      >
                        Remove
                      </Button>
                    </div>
                  </div>
                ) : (
                  <Button
                    size="sm"
                    variant="secondary"
                    outline
                    onClick={() => onAddMeal(day, mealType)}
                  >
                    Add {mealType}
                  </Button>
                )}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
};

export default Calendar;


==================== C:\Code\recipe-app\client\src\components\CategoryTable.jsx ====================

// src/components/CategoryTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function CategoryTable() {
  const { categories, subCategories, deleteCategory } = useData();

  const handleDelete = async (categoryId) => {
    if (window.confirm('Are you sure you want to delete this category?')) {
      await deleteCategory(categoryId);
    }
  };

  const headers = ['ID', 'Category Name', 'Sub-Categories', 'Actions'];

  const data = categories.map((category, index) => {
    const categorySubCategories = subCategories.filter(sub => sub.CategoryID === category.CategoryID).map(sub => sub.SubCategoryName).join(', ');

    return {
      id: category.CategoryID,
      cells: [
        category.CategoryID,
        category.CategoryName,
        categorySubCategories || 'None',
        <DeleteButton onClick={() => handleDelete(category.CategoryID)} />
      ],
    };
  });

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default CategoryTable;


==================== C:\Code\recipe-app\client\src\components\IngredientTable.jsx ====================

// src/components/IngredientTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function IngredientTable() {
  const { ingredients, categories, subCategories, units, deleteIngredient } = useData();

  const handleDelete = async (ingredientId) => {
    if (window.confirm('Are you sure you want to delete this ingredient?')) {
      try {
        await deleteIngredient(ingredientId);
      } catch (error) {
        alert('Failed to delete ingredient');
      }
    }
  };

  const getSubCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    return subCategory ? subCategory.SubCategoryName : 'Unknown';
  };

  const getCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    if (subCategory) {
      const category = categories.find(category => category.CategoryID === subCategory.CategoryID);
      return category ? category.CategoryName : 'Unknown';
    }
    return 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const headers = ['ID', 'Ingredient Name', 'Purchase Weight Volume', 'Purchase Unit', 'Category', 'Subcategory', 'Purchase Weight Unit', 'Actions'];

  const data = ingredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientID,
      ingredient.IngredientName,
      ingredient.PurchaseWeightVolume,
      getUnitName(ingredient.PurchaseUnitID),
      getCategoryName(ingredient.SubCategoryID),
      getSubCategoryName(ingredient.SubCategoryID),
      getUnitName(ingredient.PurchaseWeightUnitID),
      <DeleteButton onClick={() => handleDelete(ingredient.IngredientID)} />
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default IngredientTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanRecipeTable.jsx ====================

// src/components/MealPlanRecipeTable.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanRecipeTable({ mealPlanId }) {
    const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

    const handleDelete = async (mealPlanRecipeId) => {
        if (window.confirm('Are you sure you want to delete this meal?')) {
            try {
                await deleteMealPlanRecipe(mealPlanRecipeId);
            } catch (error) {
                alert('Failed to delete meal');
            }
        }
    };

    const getRecipeName = (recipeId) => {
        const recipe = recipes.find(recipe => recipe.RecipeID === recipeId);
        return recipe ? recipe.RecipeName : 'Unknown';
    };

    const headers = ['ID', 'Recipe', 'Meal Type', 'Date', 'Actions'];

    const data = mealPlanRecipes
        .filter(mpr => mpr.MealPlanID === mealPlanId)
        .map((mealPlanRecipe) => ({
            id: mealPlanRecipe.MealPlanRecipeID,
            cells: [
                mealPlanRecipe.MealPlanRecipeID,
                getRecipeName(mealPlanRecipe.RecipeID),
                mealPlanRecipe.MealType,
                mealPlanRecipe.Date,
                <DeleteButton onClick={() => handleDelete(mealPlanRecipe.MealPlanRecipeID)} />,
            ],
        }));

    function handleAddClick() {
        document.getElementById('add_meal_plan_recipe_modal').showModal();
    }

    return (
        <div className="overflow-x-auto">
            <Button size='sm' outline={true} variant='secondary' onClick={handleAddClick}>Add meal</Button>
            <Table headers={headers} data={data} />
        </div>
    );
}

export default MealPlanRecipeTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanTable.jsx ====================

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanTable({ onManageMeals }) {
  const { mealPlans, deleteMealPlan } = useData();

  const handleDelete = async (mealPlanId) => {
    if (window.confirm('Are you sure you want to delete this meal plan?')) {
      try {
        await deleteMealPlan(mealPlanId);
      } catch (error) {
        alert('Failed to delete meal plan');
      }
    }
  };

  const headers = ['ID', 'Plan Name', 'Start Date', 'End Date', 'Actions'];

  const data = mealPlans.map((mealPlan) => ({
    id: mealPlan.MealPlanID,
    cells: [
      mealPlan.MealPlanID,
      mealPlan.PlanName,
      mealPlan.StartDate,
      mealPlan.EndDate,
      <div className="flex gap-2">
        <Button
          size="sm"
          variant="primary"
          outline={true}
          onClick={() => onManageMeals(mealPlan)}
        >
          Manage Meals
        </Button>
        <DeleteButton onClick={() => handleDelete(mealPlan.MealPlanID)} />
      </div>
    ],
  }));

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default MealPlanTable;


==================== C:\Code\recipe-app\client\src\components\NavBar.jsx ====================

// src/components/NavBar.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import ThemeSwitcher from './ThemeSwitcher';
import { useAuth } from '../context/AuthContext';

const NavBar = () => {
  const { isAuthenticated, logout } = useAuth();

  return (
    <nav className="navbar justify-between bg-base-300">
      <a className="btn btn-ghost text-lg">
        <img alt="Logo" src="../vite.svg" className="w-4" />
        Recipe App
      </a>
      <div className="dropdown dropdown-end sm:hidden">
        <button className="btn btn-ghost">
          <i className="fa-solid fa-bars text-lg"></i>
        </button>

        <ul tabIndex="0" className="dropdown-content menu z-[1] bg-base-200 p-6 rounded-box shadow w-56 gap-2">
          <li><a>About</a></li>
          <li><a>Pricing</a></li>
          <li><a>Blog</a></li>
          <li><a>Contact</a></li>
          <a className="btn btn-sm btn-primary">Log in</a>
        </ul>
      </div>
      <div className="hidden sm:flex gap-2">
        <ThemeSwitcher />       
        {isAuthenticated ? (
          <button
            onClick={logout}
            className="btn btn-primary btn-sm"
          >
            Logout
          </button>
        ) : (
          <>
            <Link to="/register" className="btn btn-ghost btn-sm">Register</Link>
            <Link to="/login" className="btn btn-primary btn-sm">Login</Link>
          </>
        )}
      </div>
    </nav>
  );
};

export default NavBar;


==================== C:\Code\recipe-app\client\src\components\PrivateRoute.jsx ====================

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import SideBar from './SideBar';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  return (
    <div className="flex grow">     
      <div className="flex flex-col px-8 py-6 grow">
        {children}
      </div>
    </div>
  );
};

export default PrivateRoute;


==================== C:\Code\recipe-app\client\src\components\RecipeBookTable.jsx ====================

// src/components/RecipeBookTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';

function RecipeBookTable() {
  const { recipeBooks, authors, deleteRecipeBook } = useData();

  const handleDelete = async (bookId) => {
    if (window.confirm('Are you sure you want to delete this book?')) {
      try {
        await deleteRecipeBook(bookId);
      } catch (error) {
        alert('Failed to delete book');
      }
    }
  };

  const getAuthorName = (authorId) => {
    const author = authors.find(author => author.AuthorID === authorId);
    return author ? author.AuthorName : 'Unknown';
  };

  const headers = ['#', 'Book Name', 'Author Name', 'Actions'];

  const data = useMemo(() => 
    recipeBooks.map((book, index) => ({
      id: book.BookID,
      cells: [
        index + 1,
        book.BookName,
        getAuthorName(book.AuthorID),
        <DeleteButton onClick={() => handleDelete(book.BookID)} />,
      ],
    })),
    [recipeBooks, authors]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeBookTable;


==================== C:\Code\recipe-app\client\src\components\RecipeTable.jsx ====================

// src/components/RecipeTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function RecipeTable({ onAddIngredients }) {
  const { recipes, ingredients, units, recipeIngredients, deleteRecipe } = useData();

  const handleDelete = async (recipeId) => {
    if (window.confirm('Are you sure you want to delete this recipe?')) {
      try {
        await deleteRecipe(recipeId);
      } catch (error) {
        alert('Failed to delete recipe');
      }
    }
  };

  const getIngredientName = (ingredientId) => {
    const ingredient = ingredients.find(ingredient => ingredient.IngredientID === ingredientId);
    return ingredient ? ingredient.IngredientName : 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const renderIngredients = (recipeId) => {
    const filteredIngredients = recipeIngredients.filter(ri => ri.RecipeID === recipeId);
    return filteredIngredients.map(ingredient => (
      <li key={ingredient.RecipeIngredientID}>
        {ingredient.Quantity} {getUnitName(ingredient.UnitID)} of {getIngredientName(ingredient.IngredientID)}
      </li>
    ));
  };

  const headers = ['#', 'Recipe Name', 'Author ID', 'Ingredients', 'Actions'];

  const data = useMemo(() =>
    recipes.map((recipe, index) => ({
      id: recipe.RecipeID,
      cells: [
        index + 1,
        recipe.RecipeName,
        recipe.AuthorID,
        <ul className='list-disc ml-4'>
          {renderIngredients(recipe.RecipeID)}
        </ul>,
        <div className='flex gap-2'>
          <Button
            size="sm"
            variant="primary"
            outline={true}
            onClick={() => onAddIngredients(recipe.RecipeID)}
          >
            Add Ingredients
          </Button>
          <DeleteButton onClick={() => handleDelete(recipe.RecipeID)} />
        </div>
      ],
    })),
    [recipes, recipeIngredients, ingredients, units]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeTable;


==================== C:\Code\recipe-app\client\src\components\ShoppingList.jsx ====================

// src/components/ShoppingList.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';

function ShoppingList({ mealPlanId }) {
    const { getShoppingList } = useData();
    const shoppingList = getShoppingList(mealPlanId);

    const headers = ['Ingredient Name', 'Quantity', 'Unit'];

    const data = shoppingList.map((ingredient) => ({
        id: ingredient.IngredientID,
        cells: [
            ingredient.IngredientName,
            ingredient.Quantity,
            ingredient.unit ? ingredient.unit.UnitName : 'Unknown'
        ],
    }));

    return (
        <div className="overflow-x-auto">
            <Table headers={headers} data={data} />
        </div>
    );
}

export default ShoppingList;


==================== C:\Code\recipe-app\client\src\components\ShoppingListModal.jsx ====================

// src/components/ShoppingListModal.jsx

import React from 'react';
import Modal from './ui/Modal';

function ShoppingListModal({ shoppingList }) {
    return (
        <Modal id="shopping_list_modal" title="Generated Shopping List">
            {shoppingList ? (
                <ul className="list-disc ml-4">
                    {shoppingList.map((item, index) => (
                        <li key={index}>{item.Quantity} {item.UnitName} of {item.IngredientName}</li>
                    ))}
                </ul>
            ) : (
                <p>No items in the shopping list.</p>
            )}
        </Modal>
    );
}

export default ShoppingListModal;


==================== C:\Code\recipe-app\client\src\components\SideBar.jsx ====================

// src/components/SideBar.jsx

import React from "react";
import { NavLink } from "react-router-dom";
import { FaTachometerAlt, FaList, FaSitemap, FaLeaf, FaBook, FaUser, FaUtensils, FaCalendarAlt } from "react-icons/fa";

const menuItems = [
  { title: "Ingredients", isTitle: true },
  { title: "Categories", link: "/admin/manage-categories", Icon: FaList },
  { title: "Sub-categories", link: "/admin/manage-sub-categories", Icon: FaSitemap },
  { title: "Ingredients", link: "/admin/manage-ingredients", Icon: FaLeaf },
  { title: "Recipes", isTitle: true },
  { title: "Recipes", link: "/admin/manage-recipes", Icon: FaUtensils },
  { title: "Authors", link: "/admin/manage-authors", Icon: FaUser },
  { title: "Recipe books", link: "/admin/manage-recipe-books", Icon: FaBook },
  { title: "Meal Plans", link: "/admin/manage-meal-plans", Icon: FaCalendarAlt },
];

const MenuItem = ({ item }) => {
  if (item.isTitle) {
    return <li className="menu-title">{item.title}</li>;
  }

  const { Icon } = item;

  return (
    <li>
      <NavLink to={item.link} className={({ isActive }) => (isActive ? "active" : "")}>
        <Icon className="inline mr-2" />
        {item.title}
      </NavLink>
    </li>
  );
};

export default function SideBar() {
  return (
    <aside className="sticky top-0 overflow-y-auto w-60 bg-base-200 p-4 min-w-60">
      <ul className="menu px-0 gap-1">
        {menuItems.map((item, index) => (
          <MenuItem key={index} item={item} />
        ))}
      </ul>
    </aside>
  );
}


==================== C:\Code\recipe-app\client\src\components\SubCategoryTable.jsx ====================

// src/components/SubCategoryTable.jsx
import React, { useState, useMemo } from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function SubCategoryTable() {
  const [selectedCategories, setSelectedCategories] = useState([]);
  const { categories, subCategories, deleteSubCategory } = useData();

  const handleDelete = async (subCategoryId) => {
    if (window.confirm('Are you sure you want to delete this sub-category?')) {
      try {
        await deleteSubCategory(subCategoryId);
      } catch (error) {
        alert('Failed to delete sub-category');
      }
    }
  };

  const getCategoryName = (categoryId) => {
    const category = categories.find(category => category.CategoryID === categoryId);
    return category ? category.CategoryName : 'Unknown';
  };

  const handleCategoryChange = (e) => {
    const selectedValue = parseInt(e.target.value);
    setSelectedCategories(prevSelected =>
      prevSelected.includes(selectedValue)
        ? prevSelected.filter(id => id !== selectedValue)
        : [...prevSelected, selectedValue]
    );
  };

  const filteredSubCategories = useMemo(() => 
    selectedCategories.length > 0
      ? subCategories.filter(subCategory => selectedCategories.includes(subCategory.CategoryID))
      : subCategories,
    [subCategories, selectedCategories]
  );

  const headers = ['#', 'Sub-Category Name', 'Category Name', 'Actions'];

  const data = useMemo(() =>
    filteredSubCategories.map((subCategory, index) => ({
      id: subCategory.SubCategoryID,
      cells: [
        index + 1,
        subCategory.SubCategoryName,
        getCategoryName(subCategory.CategoryID),
        <DeleteButton key={subCategory.SubCategoryID} onClick={() => handleDelete(subCategory.SubCategoryID)} />
      ],
    })),
    [filteredSubCategories, categories]
  );

  return (
    <div className="overflow-x-auto">
      <div className="flex items-center mb-4">
        <label className="mr-2">Filter by Category:</label>
        <select
          className="select select-bordered"
          value=""
          onChange={handleCategoryChange}
        >
          <option value="" disabled>Select Categories</option>
          {categories.map(category => (
            <option
              key={category.CategoryID}
              value={category.CategoryID}
              disabled={selectedCategories.includes(category.CategoryID)}
            >
              {category.CategoryName}
            </option>
          ))}
        </select>
      </div>
      <div className="mb-4">
        {selectedCategories.map(categoryId => (
          <div key={categoryId} className="badge badge-primary mr-2">
            {getCategoryName(categoryId)}
            <button
              type="button"
              className="ml-1"
              onClick={() => setSelectedCategories(selectedCategories.filter(id => id !== categoryId))}
            >
              
            </button>
          </div>
        ))}
      </div>
      <Table headers={headers} data={data} />
    </div>
  );
}

export default SubCategoryTable;


==================== C:\Code\recipe-app\client\src\components\ThemeSwitcher.jsx ====================

import React, { useEffect, useState } from 'react';

const ThemeSwitcher = () => {
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      setTheme(savedTheme);
    }
  }, []);

  const handleThemeChange = (event) => {
    const selectedTheme = event.target.value;
    document.documentElement.setAttribute('data-theme', selectedTheme);
    localStorage.setItem('theme', selectedTheme);
    setTheme(selectedTheme);
  };

  return (   
    <div className="dropdown dropdown-end">
      <select className="btn btn-ghost btn-sm" value={theme} onChange={handleThemeChange}>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="cupcake">Cupcake</option>
        <option value="bumblebee">Bumblebee</option>
        <option value="emerald">Emerald</option>
        <option value="corporate">Corporate</option>
        <option value="synthwave">Synthwave</option>
        <option value="retro">Retro</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="valentine">Valentine</option>
        <option value="halloween">Halloween</option>
        <option value="garden">Garden</option>
        <option value="forest">Forest</option>
        <option value="aqua">Aqua</option>
        <option value="lofi">Lofi</option>
        <option value="pastel">Pastel</option>
        <option value="fantasy">Fantasy</option>
        <option value="wireframe">Wireframe</option>
        <option value="black">Black</option>
        <option value="luxury">Luxury</option>
        <option value="dracula">Dracula</option>
        <option value="cmyk">CMYK</option>
        <option value="autumn">Autumn</option>
        <option value="business">Business</option>
        <option value="acid">Acid</option>
        <option value="lemonade">Lemonade</option>
        <option value="night">Night</option>
        <option value="coffee">Coffee</option>
        <option value="winter">Winter</option>
      </select>
    </div>
  );
};

export default ThemeSwitcher;


==================== C:\Code\recipe-app\client\src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== C:\Code\recipe-app\client\src\components\ui\Card.jsx ====================

// src/components/ui/Card.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import Button from './Button';

const Card = ({ title, count, link, children }) => {
    return (
        <div className="card bg-base-100 w-96 shadow-xl">
            <div className="card-body">
                <h2 className="card-title">{title}</h2>
                {count && <p className="text-2xl font-bold">{count}</p>}
                {children}
                <div className="card-actions justify-end">
                    <Link to={link}>
                        <Button
                            variant='secondary'
                            outline={true}
                        >
                            Manage
                        </Button>
                    </Link>
                </div>
            </div>
        </div>
    );
};

export default Card;


==================== C:\Code\recipe-app\client\src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== C:\Code\recipe-app\client\src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== C:\Code\recipe-app\client\src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== C:\Code\recipe-app\client\src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== C:\Code\recipe-app\client\src\components\ui\TextInput.jsx ====================

import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered', min, max }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
        min={min}
        max={max}
      />
    </label>
  );
};

export default TextInput;


==================== C:\Code\recipe-app\client\src\context\AuthContext.jsx ====================

import React, { createContext, useContext, useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    const storedAuth = localStorage.getItem('isAuthenticated');
    if (storedAuth === 'true') {
      setIsAuthenticated(true);
    }
    setLoading(false); // Indicate that the auth status has been checked
  }, []);

  const login = async (username, password) => {
    const response = await fetch('http://localhost:8000/api/users/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Password: password }),
    });

    if (response.ok) {
      setIsAuthenticated(true);
      localStorage.setItem('isAuthenticated', 'true');
      navigate('/');
    } else {
      alert('Login failed');
    }
  };

  const logout = () => {
    setIsAuthenticated(false);
    localStorage.removeItem('isAuthenticated');
    navigate('/login');
  };

  if (loading) {
    return <div>Loading...</div>; // Display a loading message or spinner while checking auth status
  }

  return (
    <AuthContext.Provider value={{ isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);


==================== C:\Code\recipe-app\client\src\context\DataContext.jsx ====================

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);
  const [mealPlans, setMealPlans] = useState([]);
  const [mealPlanRecipes, setMealPlanRecipes] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
          mealPlansData,
          mealPlanRecipesData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
          apiService.getMealPlans(),
          apiService.getMealPlanRecipes(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
        setMealPlans(mealPlansData);
        setMealPlanRecipes(mealPlanRecipesData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    try {
      const newCategory = await apiService.addCategory(categoryName);
      setCategories([...categories, newCategory]);
    } catch (error) {
      console.error('Error adding category:', error);
    }
  };

  const updateCategory = async (categoryId, categoryName) => {
    try {
      const updatedCategory = await apiService.updateCategory(categoryId, categoryName);
      setCategories(categories.map(cat => (cat.CategoryID === categoryId ? updatedCategory : cat)));
    } catch (error) {
      console.error('Error updating category:', error);
    }
  };

  const deleteCategory = async (categoryId) => {
    try {
      await apiService.deleteCategory(categoryId);
      setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
    } catch (error) {
      console.error('Error deleting category:', error);
    }
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    try {
      const newSubCategory = await apiService.addSubCategory(subCategory);
      setSubCategories([...subCategories, newSubCategory]);
    } catch (error) {
      console.error('Error adding subcategory:', error);
    }
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    try {
      const updatedSubCategory = await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
      setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? updatedSubCategory : sub)));
    } catch (error) {
      console.error('Error updating subcategory:', error);
    }
  };

  const deleteSubCategory = async (subCategoryId) => {
    try {
      await apiService.deleteSubCategory(subCategoryId);
      setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
    } catch (error) {
      console.error('Error deleting subcategory:', error);
    }
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    try {
      const newIngredient = await apiService.addIngredient(ingredient);
      setIngredients([...ingredients, newIngredient]);
    } catch (error) {
      console.error('Error adding ingredient:', error);
    }
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    try {
      const updatedIngredient = await apiService.updateIngredient(ingredientId, ingredient);
      setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? updatedIngredient : ing)));
    } catch (error) {
      console.error('Error updating ingredient:', error);
    }
  };

  const deleteIngredient = async (ingredientId) => {
    try {
      await apiService.deleteIngredient(ingredientId);
      setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
    } catch (error) {
      console.error('Error deleting ingredient:', error);
    }
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    try {
      const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
      setAuthors([...authors, newAuthor]);
    } catch (error) {
      console.error('Error adding author:', error);
    }
  };

  const updateAuthor = async (authorId, author) => {
    try {
      const updatedAuthor = await apiService.updateAuthor(authorId, author);
      setAuthors(authors.map(auth => (auth.AuthorID === authorId ? updatedAuthor : auth)));
    } catch (error) {
      console.error('Error updating author:', error);
    }
  };

  const deleteAuthor = async (authorId) => {
    try {
      await apiService.deleteAuthor(authorId);
      setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
    } catch (error) {
      console.error('Error deleting author:', error);
    }
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    try {
      const newRecipeBook = await apiService.addRecipeBook(recipeBook);
      setRecipeBooks([...recipeBooks, newRecipeBook]);
    } catch (error) {
      console.error('Error adding recipe book:', error);
    }
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    try {
      const updatedRecipeBook = await apiService.updateRecipeBook(recipeBookId, recipeBook);
      setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? updatedRecipeBook : book)));
    } catch (error) {
      console.error('Error updating recipe book:', error);
    }
  };

  const deleteRecipeBook = async (recipeBookId) => {
    try {
      await apiService.deleteRecipeBook(recipeBookId);
      setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
    } catch (error) {
      console.error('Error deleting recipe book:', error);
    }
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    try {
      const newRecipe = await apiService.addRecipe(recipe);
      setRecipes([...recipes, newRecipe]);
    } catch (error) {
      console.error('Error adding recipe:', error);
      throw error; // Ensure to rethrow the error to be caught in the component
    }
  };

  const updateRecipe = async (recipeId, recipe) => {
    try {
      const updatedRecipe = await apiService.updateRecipe(recipeId, recipe);
      setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? updatedRecipe : rec)));
    } catch (error) {
      console.error('Error updating recipe:', error);
    }
  };

  const deleteRecipe = async (recipeId) => {
    try {
      await apiService.deleteRecipe(recipeId);
      setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
    } catch (error) {
      console.error('Error deleting recipe:', error);
    }
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    try {
      const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
      setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
    } catch (error) {
      console.error('Error adding recipe ingredient:', error);
    }
  };

  // Meal Plans CRUD
  const createMealPlan = async (mealPlan) => {
    try {
      const newMealPlan = await apiService.addMealPlan(mealPlan);
      setMealPlans([...mealPlans, newMealPlan]);
    } catch (error) {
      console.error('Error adding meal plan:', error);
    }
  };

  const updateMealPlan = async (mealPlanId, mealPlan) => {
    try {
      const updatedMealPlan = await apiService.updateMealPlan(mealPlanId, mealPlan);
      setMealPlans(mealPlans.map(mp => (mp.MealPlanID === mealPlanId ? updatedMealPlan : mp)));
    } catch (error) {
      console.error('Error updating meal plan:', error);
    }
  };

  const deleteMealPlan = async (mealPlanId) => {
    try {
      await apiService.deleteMealPlan(mealPlanId);
      setMealPlans(mealPlans.filter(mp => mp.MealPlanID !== mealPlanId));
    } catch (error) {
      console.error('Error deleting meal plan:', error);
    }
  };

  // Meal Plan Recipes CRUD
  const createMealPlanRecipe = async (mealPlanRecipe) => {
    try {
      const newMealPlanRecipe = await apiService.addMealPlanRecipe(mealPlanRecipe);
      setMealPlanRecipes([...mealPlanRecipes, newMealPlanRecipe]);
    } catch (error) {
      console.error('Error adding meal plan recipe:', error);
    }
  };

  const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    try {
      const updatedMealPlanRecipe = await apiService.updateMealPlanRecipe(mealPlanRecipeId, mealPlanRecipe);
      setMealPlanRecipes(prev => prev.map(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId ? updatedMealPlanRecipe : mpr));
    } catch (error) {
      console.error('Error updating meal plan recipe:', error);
    }
  };

  const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    try {
      await apiService.deleteMealPlanRecipe(mealPlanRecipeId);
      setMealPlanRecipes(mealPlanRecipes.filter(mpr => mpr.MealPlanRecipeID !== mealPlanRecipeId));
    } catch (error) {
      console.error('Error deleting meal plan recipe:', error);
    }
  };

  const getShoppingList = (mealPlanId) => {
    const filteredMealPlanRecipes = mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlanId);

    const ingredientMap = new Map();

    filteredMealPlanRecipes.forEach(mpr => {
      const recipeId = mpr.RecipeID;
      const recipeIngredientsForRecipe = recipeIngredients.filter(ri => ri.RecipeID === recipeId);

      recipeIngredientsForRecipe.forEach(ri => {
        const ingredient = ingredients.find(ing => ing.IngredientID === ri.IngredientID);
        const unit = units.find(unit => unit.UnitID === ri.UnitID);
        if (ingredient) {
          const existing = ingredientMap.get(ingredient.IngredientID);
          if (existing) {
            existing.Quantity += ri.Quantity;
          } else {
            ingredientMap.set(ingredient.IngredientID, {
              ...ingredient,
              Quantity: ri.Quantity,
              unit: unit || { UnitName: 'Unknown' }
            });
          }
        }
      });
    });

    return Array.from(ingredientMap.values());
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient,
        mealPlans, createMealPlan, updateMealPlan, deleteMealPlan,
        mealPlanRecipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe,
        getShoppingList,
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== C:\Code\recipe-app\client\src\pages\Dashboard.jsx ====================

// src/pages/Home.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';

function Dashboard() {
  const { categories, subCategories, ingredients, authors, recipeBooks, recipes } = useData();

  const items = [
    { name: 'Categories', count: categories.length, link: '/manage-categories' },
    { name: 'Subcategories', count: subCategories.length, link: '/manage-sub-categories' },
    { name: 'Ingredients', count: ingredients.length, link: '/manage-ingredients' },
    { name: 'Authors', count: authors.length, link: '/manage-authors' },
    { name: 'Recipe Books', count: recipeBooks.length, link: '/manage-recipe-books' },
    { name: 'Recipes', count: recipes.length, link: '/manage-recipes' },
  ];

  return (
    <div className="flex flex-wrap gap-4 p-6">
      {items.map((item, index) => (
        <Card key={index} title={item.name} count={item.count} link={item.link} />
      ))}
    </div>
  );
}

export default Dashboard;


==================== C:\Code\recipe-app\client\src\pages\Home.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';
import Button from '../components/ui/Button';
import AddMealPlanModal from '../components/AddMealPlanModal';
import { format, isWithinInterval, parseISO, startOfWeek, endOfWeek, isFuture, isPast } from 'date-fns';
import { Link } from 'react-router-dom';

const Home = () => {
  const { mealPlans } = useData();
  const [isModalOpen, setIsModalOpen] = useState(false);

  const categorizeMealPlans = (mealPlans) => {
    const now = new Date();
    const currentWeekStart = startOfWeek(now, { weekStartsOn: 1 });
    const currentWeekEnd = endOfWeek(now, { weekStartsOn: 1 });

    const currentWeekPlans = mealPlans.filter(plan =>
      isWithinInterval(parseISO(plan.StartDate), { start: currentWeekStart, end: currentWeekEnd }) ||
      isWithinInterval(parseISO(plan.EndDate), { start: currentWeekStart, end: currentWeekEnd })
    );

    const upcomingPlans = mealPlans.filter(plan =>
      isFuture(parseISO(plan.StartDate)) && !currentWeekPlans.includes(plan)
    );

    const previousPlans = mealPlans.filter(plan =>
      isPast(parseISO(plan.EndDate)) && !currentWeekPlans.includes(plan)
    );

    return { currentWeekPlans, upcomingPlans, previousPlans };
  };

  const { currentWeekPlans, upcomingPlans, previousPlans } = categorizeMealPlans(mealPlans);

  const renderMealPlanCard = (plan) => (
    <Link to={`/meal-plan/${plan.MealPlanID}`} key={plan.MealPlanID}>
      <Card title={plan.PlanName} count={1}>
        <p>Start: {format(parseISO(plan.StartDate), 'yyyy-MM-dd')}</p>
        <p>End: {format(parseISO(plan.EndDate), 'yyyy-MM-dd')}</p>
      </Card>
    </Link>
  );

  const openModal = () => {
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_modal').showModal();
  };

  return (
    <div className="p-6">
      <h1 className="text-2xl font-bold mb-4">Current Week</h1>
      {currentWeekPlans.length > 0 ? (
        <div className="flex flex-wrap gap-4 mb-8">
          {currentWeekPlans.map(renderMealPlanCard)}
        </div>
      ) : (
        <div className="mb-8">
          <p>No current meal plans for this week.</p>
          <Button onClick={openModal}>Add Meal Plan</Button>
        </div>
      )}

      <h2 className="text-xl font-bold mb-4">Upcoming Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {upcomingPlans.map(renderMealPlanCard)}
      </div>

      <h2 className="text-xl font-bold mb-4">Previous Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {previousPlans.map(renderMealPlanCard)}
      </div>

      {isModalOpen && <AddMealPlanModal />}
    </div>
  );
};

export default Home;


==================== C:\Code\recipe-app\client\src\pages\Login.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import TextInput from '../components/ui/TextInput';
import Button from '../components/ui/Button';

function Login() {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleSubmit = async (e) => {
        e.preventDefault();
        await login(username, password);
    };

    return (
        <div className="flex items-start p-8 justify-center w-full">
            <div className="flex flex-col w-96 rounded-box bg-base-200 p-6 gap-4">
                <h1 className="text-3xl font-bold self-center">Log in</h1>
                {/* <span className="self-center flex gap-2">
                    Don't have an account?
                    <a className="link link-secondary" onClick={() => navigate('/register')}>Register</a>
                </span>
                <a className="btn btn-neutral">
                    <i className="fa-brands fa-google text-primary"></i>
                    Log in with Google
                </a>
                <div className="divider">OR</div> */}
                <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
                    <TextInput
                        label="Username"
                        value={username}
                        onChange={(e) => setUsername(e.target.value)}
                        required
                    />
                    <label className="form-control w-full">
                        <div className="label">
                            <span className="label-text">Password</span>
                            <a className="label-text link link-accent">Forgot password?</a>
                        </div>
                        <TextInput
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            required
                        />
                    </label>
                    <div className="form-control">
                        <label className="cursor-pointer label self-start gap-2">
                            <input type="checkbox" className="checkbox" />
                            <span className="label-text">Remember me</span>
                        </label>
                    </div>
                    <Button type="submit">Log in</Button>
                </form>
            </div>
        </div>
    );
}

export default Login;


==================== C:\Code\recipe-app\client\src\pages\ManageAuthors.jsx ====================

// src/pages/ManageAuthors.jsx
import React from 'react';
import AuthorTable from '../components/AuthorTable';
import AddAuthorModal from '../components/AddAuthorModal';

function ManageAuthors() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Authors</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_author_modal').showModal()}>Add Author</button>
      </div>
      <AuthorTable />
      <AddAuthorModal />
    </div>
  );
}

export default ManageAuthors;


==================== C:\Code\recipe-app\client\src\pages\ManageCategories.jsx ====================

// src/pages/ManageCategories.jsx
import React from 'react';
import CategoryTable from '../components/CategoryTable';
import AddCategoryModal from '../components/AddCategoryModal';

function ManageCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_category_modal').showModal()}>Add Category</button>
      </div>
      <CategoryTable />
      <AddCategoryModal />
    </div>
  );
}

export default ManageCategories;


==================== C:\Code\recipe-app\client\src\pages\ManageIngredients.jsx ====================

// src/pages/ManageIngredients.jsx
import React from 'react';
import IngredientTable from '../components/IngredientTable';
import AddIngredientModal from '../components/AddIngredientModal';

function ManageIngredients() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Ingredients</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_ingredient_modal').showModal()}>Add Ingredient</button>
      </div>
      <IngredientTable />
      <AddIngredientModal />
    </div>
  );
}

export default ManageIngredients;


==================== C:\Code\recipe-app\client\src\pages\ManageMealPlans.jsx ====================

// src/pages/ManageMealPlans.jsx

import React, { useState } from 'react';
import MealPlanTable from '../components/MealPlanTable';
import AddMealPlanModal from '../components/AddMealPlanModal';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';
import Calendar from '../components/Calendar';
import ShoppingList from '../components/ShoppingList';
import { useData } from '../context/DataContext';

function ManageMealPlans() {
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [addingMeal, setAddingMeal] = useState(null);
  const [modifyingMeal, setModifyingMeal] = useState(null);
  const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

  const handleAddMeals = (mealPlan) => {
    setSelectedMealPlan(mealPlan);
  };

  const handleAddMeal = (date, mealType) => {
    setAddingMeal({ date, mealType });
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = async (mealPlanRecipeId, remove = false) => {
    if (remove) {
      if (window.confirm('Are you sure you want to remove this meal?')) {
        try {
          await deleteMealPlanRecipe(mealPlanRecipeId);
        } catch (error) {
          console.log(error);
          alert('Failed to remove meal');
        }
      }
    } else {
      const mealPlanRecipe = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
      if (mealPlanRecipe) {
        setModifyingMeal(mealPlanRecipe);
        setAddingMeal({
          date: mealPlanRecipe.Date,
          mealType: mealPlanRecipe.MealType,
          recipeId: mealPlanRecipe.RecipeID,
          mealPlanRecipeId: mealPlanRecipeId
        });
        document.getElementById('add_meal_plan_recipe_modal').showModal();
      } else {
        console.error('Meal plan recipe not found:', mealPlanRecipeId);
      }
    }
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Meal Plans</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_meal_plan_modal').showModal()}>Add Meal Plan</button>
      </div>
      <MealPlanTable onManageMeals={handleAddMeals} />
      {selectedMealPlan && (
        <>
          <h2 className="text-2xl font-bold mt-6">Meals for Selected Plan</h2>
          <Calendar
            mealPlan={selectedMealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === selectedMealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
          />
          <h2 className="text-2xl font-bold mt-6">Shopping List</h2>
          <ShoppingList mealPlanId={selectedMealPlan.MealPlanID} />
        </>
      )}
      <AddMealPlanModal />
      {selectedMealPlan && (
        <AddMealPlanRecipeModal
          mealPlanId={selectedMealPlan.MealPlanID}
          startDate={selectedMealPlan.StartDate}
          endDate={selectedMealPlan.EndDate}
          defaultDate={addingMeal?.date}
          defaultMealType={addingMeal?.mealType}
          defaultRecipeId={addingMeal?.recipeId}
          mealPlanRecipeId={addingMeal?.mealPlanRecipeId}
        />
      )}
    </div>
  );
}

export default ManageMealPlans;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipeBooks.jsx ====================

// src/pages/ManageRecipeBooks.jsx
import React from 'react';
import RecipeBookTable from '../components/RecipeBookTable';
import AddRecipeBookModal from '../components/AddRecipeBookModal';

function ManageRecipeBooks() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipe Books</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_recipe_book_modal').showModal()}>Add Recipe Book</button>
      </div>
      <RecipeBookTable />
      <AddRecipeBookModal />
    </div>
  );
}

export default ManageRecipeBooks;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipes.jsx ====================

// src/pages/ManageRecipes.jsx
import React, { useState } from 'react';
import RecipeTable from '../components/RecipeTable';
import AddRecipeModal from '../components/AddRecipeModal';
import AddRecipeIngredientModal from '../components/AddRecipeIngredientModal';
import Button from '../components/ui/Button';

function ManageRecipes() {
  const [selectedRecipeId, setSelectedRecipeId] = useState(null);

  const handleAddIngredients = (recipeId) => {
    setSelectedRecipeId(recipeId);
    document.getElementById('add_recipe_ingredient_modal').showModal();
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipes</h1>
      <div>
        <Button
          size='sm'
          variant='secondary'
          outline={true}
          onClick={() => document.getElementById('add_recipe_modal').showModal()}
        >
          Add Recipe
        </Button>       
      </div>
      <RecipeTable onAddIngredients={handleAddIngredients} />
      <AddRecipeModal />
      <AddRecipeIngredientModal recipeId={selectedRecipeId} />
    </div>
  );
}

export default ManageRecipes;


==================== C:\Code\recipe-app\client\src\pages\ManageSubCategories.jsx ====================

// src/pages/ManageSubCategories.jsx
import React from 'react';
import SubCategoryTable from '../components/SubCategoryTable';
import AddSubCategoryModal from '../components/AddSubCategoryModal';

function ManageSubCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Sub-Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_sub_category_modal').showModal()}>Add Sub-Category</button>
      </div>
      <SubCategoryTable />
      <AddSubCategoryModal />
    </div>
  );
}

export default ManageSubCategories;


==================== C:\Code\recipe-app\client\src\pages\MealPlanDetails.jsx ====================

import React, { useState } from 'react';
import { useParams } from 'react-router-dom';
import { useData } from '../context/DataContext';
import Calendar from '../components/Calendar';
import Button from '../components/ui/Button';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';

const MealPlanDetails = () => {
  const { mealPlanId } = useParams();
  const { mealPlans, mealPlanRecipes, recipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe } = useData();
  const mealPlan = mealPlans.find(mp => mp.MealPlanID === parseInt(mealPlanId));
  const [selectedMeal, setSelectedMeal] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  const handleAddMeal = (date, mealType) => {
    setSelectedMeal({ date, mealType, mealPlanRecipeId: null });
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = (mealPlanRecipeId) => {
    const meal = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
    if (meal) {
      setSelectedMeal({
        date: meal.Date,
        mealType: meal.MealType,
        recipeId: meal.RecipeID,
        mealPlanRecipeId: meal.MealPlanRecipeID,
      });
      setIsModalOpen(true);
      document.getElementById('add_meal_plan_recipe_modal').showModal();
    }
  };

  const handleSaveMeal = async (mealPlanRecipe) => {
    if (selectedMeal.mealPlanRecipeId) {
      await updateMealPlanRecipe(selectedMeal.mealPlanRecipeId, mealPlanRecipe);
    } else {
      await createMealPlanRecipe(mealPlanRecipe);
    }
    setIsModalOpen(false);
  };

  const handleRemoveMeal = async (mealPlanRecipeId) => {
    if (window.confirm('Are you sure you want to remove this meal?')) {
      await deleteMealPlanRecipe(mealPlanRecipeId);
    }
  };

  return (
    <div className="p-6">
      {mealPlan ? (
        <>
          <h1 className="text-2xl font-bold mb-4">{mealPlan.PlanName}</h1>
          <Calendar
            mealPlan={mealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
            onRemoveMeal={handleRemoveMeal}
          />

          <AddMealPlanRecipeModal
            mealPlanId={mealPlan.MealPlanID}
            defaultDate={selectedMeal?.date}
            defaultMealType={selectedMeal?.mealType}
            defaultRecipeId={selectedMeal?.recipeId}
            mealPlanRecipeId={selectedMeal?.mealPlanRecipeId}
            onSave={handleSaveMeal}
          />
        </>
      ) : (
        <p>Meal plan not found.</p>
      )}
    </div>
  );
};

export default MealPlanDetails;


==================== C:\Code\recipe-app\client\src\pages\Register.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';

function Register() {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const { login } = useAuth();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const response = await fetch('http://localhost:8000/api/users/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Email: email, Password: password }),
    });

    if (response.ok) {
      await login(username, password);
    } else {
      alert('Registration failed');
    }
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <div className="p-8 bg-white rounded shadow-md w-96">
        <h2 className="mb-4 text-2xl font-bold text-center">Register</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Email</label>
            <input
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <button type="submit" className="w-full py-2 text-white bg-green-500 rounded hover:bg-green-600">
            Register
          </button>
        </form>
      </div>
    </div>
  );
}

export default Register;


==================== C:\Code\recipe-app\client\src\services\apiService.js ====================

import { supabase } from '../supabaseClient';

// Categories
export const getCategories = async () => {
    const { data, error } = await supabase.from('IngredientCategories').select('*');
    if (error) throw error;
    return data;
};

export const addCategory = async (categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .insert([{ CategoryName: categoryName }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateCategory = async (categoryId, categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .update({ CategoryName: categoryName })
        .eq('CategoryID', categoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteCategory = async (categoryId) => {
    const { data, error } = await supabase.from('IngredientCategories').delete().eq('CategoryID', categoryId).select();
    if (error) throw error;
    return data;
};

// SubCategories
export const getSubCategories = async () => {
    const { data, error } = await supabase.from('IngredientSubCategories').select('*');
    if (error) throw error;
    return data;
};

export const addSubCategory = async (subCategory) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .insert([subCategory])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .update({ SubCategoryName: subCategoryName, CategoryID: categoryId })
        .eq('SubCategoryID', subCategoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteSubCategory = async (subCategoryId) => {
    const { data, error } = await supabase.from('IngredientSubCategories').delete().eq('SubCategoryID', subCategoryId).select();
    if (error) throw error;
    return data;
};

// Ingredients
export const getIngredients = async () => {
    const { data, error } = await supabase.from('Ingredients').select('*');
    if (error) throw error;
    return data;
};

export const addIngredient = async (ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .insert([ingredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateIngredient = async (ingredientId, ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .update(ingredient)
        .eq('IngredientID', ingredientId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteIngredient = async (ingredientId) => {
    const { data, error } = await supabase.from('Ingredients').delete().eq('IngredientID', ingredientId).select();
    if (error) throw error;
    return data;
};

// Authors
export const getAuthors = async () => {
    const { data, error } = await supabase.from('RecipeAuthors').select('*');
    if (error) throw error;
    return data;
};

export const addAuthor = async (authorName, authorImageURL) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .insert([{ AuthorName: authorName, AuthorImageURL: authorImageURL }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateAuthor = async (authorId, author) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .update(author)
        .eq('AuthorID', authorId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteAuthor = async (authorId) => {
    const { data, error } = await supabase.from('RecipeAuthors').delete().eq('AuthorID', authorId).select();
    if (error) throw error;
    return data;
};

// Recipe Books
export const getRecipeBooks = async () => {
    const { data, error } = await supabase.from('RecipeBooks').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeBook = async (recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .insert([recipeBook])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipeBook = async (recipeBookId, recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .update(recipeBook)
        .eq('BookID', recipeBookId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipeBook = async (recipeBookId) => {
    const { data, error } = await supabase.from('RecipeBooks').delete().eq('BookID', recipeBookId).select();
    if (error) throw error;
    return data;
};

// Recipes
export const getRecipes = async () => {
    const { data, error } = await supabase.from('Recipes').select('*');
    if (error) throw error;
    return data;
};

export const addRecipe = async (recipe) => {
    console.log('Inserting recipe:', recipe);
    const { data, error } = await supabase
        .from('Recipes')
        .insert([recipe])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipe = async (recipeId, recipe) => {
    const { data, error } = await supabase
        .from('Recipes')
        .update(recipe)
        .eq('RecipeID', recipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipe = async (recipeId) => {
    const { data, error } = await supabase.from('Recipes').delete().eq('RecipeID', recipeId).select();
    if (error) throw error;
    return data;
};

// Units
export const getUnits = async () => {
    const { data, error } = await supabase.from('Units').select('*');
    if (error) throw error;
    return data;
};

// Recipe Ingredients
export const getRecipeIngredients = async () => {
    const { data, error } = await supabase.from('RecipeIngredients').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeIngredient = async (recipeIngredient) => {
    const { data, error } = await supabase
        .from('RecipeIngredients')
        .insert([recipeIngredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

// Meal Plans
export const getMealPlans = async () => {
    const { data, error } = await supabase.from('MealPlans').select('*');
    if (error) throw error;
    return data;
};

export const addMealPlan = async (mealPlan) => {
    console.log('Inserting meal plan:', mealPlan);
    const { data, error } = await supabase
        .from('MealPlans')
        .insert([mealPlan])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlan = async (mealPlanId, mealPlan) => {
    const { data, error } = await supabase
        .from('MealPlans')
        .update(mealPlan)
        .eq('MealPlanID', mealPlanId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlan = async (mealPlanId) => {
    const { data, error } = await supabase.from('MealPlans')
        .delete()
        .eq('MealPlanID', mealPlanId)
        .select();
    if (error) throw error;
    return data;
};

// Meal Plan Recipes
export const getMealPlanRecipes = async () => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .select('*');
    if (error) throw error;
    return data;
};

export const addMealPlanRecipe = async (mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .insert([mealPlanRecipe])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .update(mealPlanRecipe)
        .eq('MealPlanRecipeID', mealPlanRecipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    const { data, error } = await supabase.from('MealPlanRecipes').delete().eq('MealPlanRecipeID', mealPlanRecipeId).select();
    if (error) throw error;
    return data;
};


==================== C:\Code\recipe-app\client\src\utils\cache.js ====================

// src/utils/cache.js

class Cache {
    constructor() {
      this.cache = {};
    }
  
    set(key, data) {
      this.cache[key] = {
        data,
        timestamp: new Date().getTime(),
      };
    }
  
    get(key, expiryTime = 180000) { // default expiry time is 180 seconds
      const cachedItem = this.cache[key];
      if (cachedItem && (new Date().getTime() - cachedItem.timestamp < expiryTime)) {
        return cachedItem.data;
      }
      return null;
    }
  
    invalidate(key) {
      delete this.cache[key];
    }
  }
  
  const cache = new Cache();
  export default cache;
  

==================== C:\Code\recipe-app\output_frontend.txt ====================



==================== C:\Code\recipe-app\frontend\.eslintrc.cjs ====================

module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:react/jsx-runtime',
    'plugin:react-hooks/recommended',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parserOptions: { ecmaVersion: 'latest', sourceType: 'module' },
  settings: { react: { version: '18.2' } },
  plugins: ['react-refresh'],
  rules: {
    'react/jsx-no-target-blank': 'off',
    'react-refresh/only-export-components': [
      'warn',
      { allowConstantExport: true },
    ],
  },
}


==================== C:\Code\recipe-app\frontend\index.html ====================

<!doctype html>
<html lang="en" data-theme="cupcake">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================== C:\Code\recipe-app\frontend\postcss.config.js ====================

export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}


==================== C:\Code\recipe-app\frontend\public.zip ====================

PK    [X.  6  
   .eslintrc.cjsQn0N0Eb34(:RZ fXgpf@eUH
NGK0gYpEjboV 8%k:`&yaM|x(d m;k^+bgB0Q\I]bzmy D+p+r] "JI}2sCfl4eKZHGl+BPEu5DSp,]gB1]vx`>djPK    [X      
   .gitignoreeM;0}n[BcT]i!!XO~9*XWheyay>8e$TQl{ s
1""-[/+{GFnT&p1w.]cR^Vuk /PK    hlX*    ~  
   index.htmlER0E
mI;q [4~d5m	=s=62CEN8Ew@70ed%pyC02H:A`Q\l0hfQn['ZeErxY7$
fr/3
Uig'm/3XrV;Sm3"nqbSq5F=M$It]DzW PK    XK        package.json}Rr0k
 leNr^298,:BR)cB@5xBkRD&k*] ?9d@CrjmC:B2	@g<8&h>=k N98)o(4tcf
DR_V(9m&rFt-7/5m/`twnFDc^y$}6iq4=&yxT\b;E&
8e'f-+yC?Wr^,^;
^vxa+vloI}PK    Xu      package-lock.jsonYW6WQx;Iv|:\}[GG_Ddd{WLjLRCtyEAbMA,VuOel+~1
3W0EU=;V=
$Q5S1`Zl4T 44:D8`0'\M3^&S\4+@f)
KeyiL<`0yPAZ4 hB |wlz= WZ(\zf:'bqf
s6ci78hd.5FAd~Ooj\I~K%4UN?
,8p(_
!2{<l*N@v4QqiNtd@'RYhm,++c-eW=p5B:qY9avx~<4@h_v\E6\{ J$A7
8\SMz
p!!t>{JF-}k*Nz8jua
6Z-2RwQ3l
C+lcpZmIl<>e0YF` 6K!;!_Y
q\Wn`CzSE-C~7Quy3^YQX`xsOi2;T]|o|X;]I}loz7wl _ $9A6w"4,wE]vW"'Y!">Vh;cO{[2S\!#_^~<zHro7iM:'A`$3dWY7yt?Ia9a]QsgA&qHY9-?:kY|1R	|5k35,#v^WjW;3f]AXcIvRscZIp/iAziO/26YA^QcM,y8/~}xO70
0\)a_43DqV( KXft,`gfl'6DwS)JT?Y)x2>M_o*klI?mVtyQNNJz.DJtLk`tfdkngQ-:$_Xyv8:Qg'IK	;qp 1U+/8jmfX$
3HahtB]3R

H
7TFrz:$4	[4/
raf*t}f>kg7#'.0=_+[+{J14k\HY}8%%kg':i|R
}-k@;QQ	P5b/GB37q\xut9aR1	:p%Z\*a> [H g7SQeZ]LFJ(:La
	!.>p:\>23Xb	b1?V{{~sa+8[d7aXv	*>eNaE]30.H0f!RzW2Lib5`Xu?hgz\zitQuLo kAF0u_MrQ!<65}f+yt>u|5T.Ko6z~%J7{txdN7[+"HTG
!>}yTx Qm?)*MQ|45.4fBzD1<N[<8lWct=sV iE`"bo :#ZQ|MWJAwd->%bcjUJ[[d=&w
JClDV3eZMh Fz1C=tFf*)+-G;_OaeVY?)q1
5[\Y
dt"Nue"\&w;0%[7CIWzbz@HU=el<5?<unM-.I,Ca[ngY{#iaw+5<}GYoxD]p
0zuUr\=a5/ttYm$a.yJd? ]<'s?.RL0,l9Pf[
HIWpHW9(: ;019E.*rMsDz)ahMw2tR"0u%"= ErArqvVwT;!W,7#w1Od.|@,v!=	
=LXiHbBIQEVZ^3
}~T=>%DnT>>mfqNviNMe8~fbuFbKg	6Z%2T)drT6&l4TAOFhdp
"S8i?v9Jb<j>o{eYA=-.2 Lj"6
n-Za9(h?l6TcW_vR61+e"0,e
gSyf16cI	 $[]
~9;TOP.oF]k75t/NY<Jn@EK]y+|fxdfuOnEOxVz{S~3?HSOq)KNz9fiW`gxW,^Sm'[lxq]n}wX{@3
YL}jJVg_<naVeQR $TPX'wlg&lo,8u="Rm1b5{>q
 jg4dRfns& ,I]_jnu!PL*8o.qL_#6~=J!I, f,k7^ NbJ[mimnc	7Mr[p(cO""cM,Q }02.~;N.JW]C`w*z80beLgl`D~:'y`L\C5_
;h	lW]8t9_=H\qXQD!x$ dH[_Sl*z8%LCMf+|O=<gvJ{8[)YFmbAt=qV [~`+8WdXN6^xz| s>xl6;`b|BE5S yE9t  +,^)JLSKv^hp^LtxVRkiF<dl'92K#U@-ng)}6MfcE:_d5s3=M=$r$i{LFBjtV=vfXTkN;	y.D%;3YF]	a)
qj>O7cO-|5n
rE@!>mkw&{YUPO]*YUKs@Lbe\|b#1Dw<n|3GXItd3
?f.EKE+c+KC@:mP,Z+N?wXIbpW*(E=1=+.E[XBy<
:LNEy-&,4]sa6V!AD{7SAkDnZ $}('a+nk$]-  =z!,4apshTW}cLRaL%	jEuE+/'I4#Fx -v-+Dm^wy$Ca;%2Z~dd+_L{C
0	TyTGqPAYFXA P;&~C%Y"l_y
y0pe$WrYG,0 8:t~I#U 1fxQzP4166|"'Ba8m6F4
PlNJCD31rHjmB)	(;rq0Mfm*2
}I O0.J|RYCMUFdKNJ+4<- :3[&|jO !8L?> N7{'>,HsZEo!x) QB`cv	8xE^tY ZJDM? nOO@*S,P^r(5Aj!KDmPx8
R	:Ck[XNn1	?2lTMl?f|a{7tpiZnH[tV3Y1I8eU5ff1_)zni81uhrGSz@^cZedM@lu:qjKzwIox&L'AC`|&3EKJ-x$~7;<>Szo^RJo,
Dx%K+:5rm*-E "IK4[%oM]6ZG.2k`3TTH\+WZKe@zmA/5S1k&~Fq#Hd[qjH*
)5g#6K8DOYv<'J/YPr*bqNGL"e3+2;5b0gXEv0j3%h)@]/6Ns?dBA~=IG'&qKAE]lQDp/*cZ\+#);EeLPd*^+ BQ
s`d	J 	J=-.-x(&o]4_gnw&BH^"(@}FJ`TAS"q<F@j%
b4\^0Ir:'<L*U
Uzi"~w_m@~Ae60}S=[}6V]5*B7}ve@zSj\]}#[Dg{#8u[M0enxK$|0#%|V4Y@w!*G7$Vp];Ub'CwG9B]G~xo{'2]UK$=r#~IAi@
e"'Npd jn:w vo[1Om#+ $^~
[
(=ensW}H7E1JX~0Ef>s'W[&
,pScv% .	f *O7/^tN4[lfWn}{_}=ORY]zjCtl+rW9X*3&`AMF55j*F.7T$pe0L#LPQ85]<}prO[kc=?gEk'abtH_G!&v`CthL_ `-l	ez CK\R0;P6 fym1?qu9Ode}f}/]|p#RXK
	G
!nR:Q}Lf	0DQ2qB`	U`,62vkGPYYspn{#WaM_>e_u<p=?dW{:RE%:J]i
7t17Mb/n1caka	,h9I
G\)DC]Fw [
gnPgLcQM\aBZ~}?o{hPBsv|m#="fGjAi|E.2X(^y_dBO],]Qj	!An)U}oc?r=%xfk3Yy QH	CTgp`O5f+^(]fF/H7|iOuBTZk g` g)Xu,uQt(.scw]Z)`WgC9=<QHf,@g.1>*<5fKH\(kmD
F
(ul}"f? K5xa?@?pp/#b8UMIAZ~x9z;(7}8}JdXq}PpJJ52&{#A}Jq|3>%07w2>=1/z`
SB5*++$m;K)4g*!HxBs;Fs\*h\T}	W4
wOozS7Kj=j chHwBNofcHv%vpqzDHL:x~p27C>bQ/uLV
?{,zFla!DXHcu`+`ToJ"8m. R-UZI@u|j-YagT_#_Wq<7A?#?:&Sod9<I`midXPciJbIf}oW5EZTyh4sZoF/>
o@$1pTg_l:9j'JTDX~BXKkIEW|B	fS0![:CL
}2Yx&\sBa$zOd%.Aq*wg_'_>xG~x`	MAdYHR&4=HelH	MLTmGSR4,w{KID|@l?COaip<(9Lkhfpb?]@,It6RSbfbdg~+6
Zskf'.^}WN$)p,VX[+}rJt
oj!V0,905`*8*3)k9gCi$C0
/rg,^Ygo6GNIDB=Y7/]8&.%',"&p^.Vz'[BEO@y"Y}1^_y_gzyK:<Z$&`7<!Ouu-,9L` HbE_P<:}zL"u6V?G\ y \jZT1?93Kt|\NP%qd8i!o%=Ts8Cwn'`k{j[X.q1[` cdUIXB0iFxR ()d1
se|+
^n~8E53Wj*Mta>FA)F%65M[._ZY xnvaX2,YYiol}%d($4pWB=mn@m@Jo$E_(6cSch I1eAzVkFB,niNn$#IH`SW
l4t<4SyCzSLO=^!dBhZ[g|4exrP,=z*B]=0~h+O&BYYVM2EXvmP!bY0v20YWit:'Ry3WW
a~( kv.RbA9]>e93vD@\JsD5t7i5=y5H6#LKHKt j$A)rv+cXP$l0nGM5m_ymd*JOyzec\	B"^Z!I
lnhfFW6(Xkhe^xAW6E6,I*J|.
g@m
6Xb1*<
cIATULovbwb3&[m,-TVfVuwRX
qMKXMvR m}kboJ-q<$.Hhba
)186RAT
?a$)OhZ2H|8y7f]ea{mqDRFYmpFS\,Fp,#
a)W?*Rm*r
A&jj^a<5X
y}@[z0x"4'EB9#S NJ}8Ua_S*&aC_dm/O]ir9qa6[+ScDtG[9p)RLMGv(Qk4TUs+Mh@1_^(v~%wBEzoiY:}g@W|LKYOI~Ym Omb5O.kf-JRrP|P\`-FjfvNXaE&eC{k3
?b>kOt,] _V{?-|3
f6Vm(4yd,.Ckm
l2cX`J0ORQ+gR</~Nk_V>_&ued%]<P		M
)Tji]O8P;hL:[WOa	N|{F-"t
t/wc&~6]BEr<i YAXl7T;oBcFffTM5^XmoO;?dSSZixu!J|@fiI
=fWOnVT+Z:RWI8(bu'2?cov
A(A)9RZVY6LV=5AFu SdhR="d7e\l_T@;@JD(6bW8_[DjVCj
-
 hKY01]F8|r?hg:7gfn=JMC$9wyz1"$kF[KFEnMKPgkp|
#-zoEr~2r}[EV<mnP|[1KLy>W4B0(MYBF7Kk6z#RLpz5JXps	7d=>:T^ae[~5J|&[q8.{'52#1%d}$U".N\&,Lyde~ *M
S=O/12.^vL,|y}?>s@0uwDkETNN',NU0bq~Dvz6RaSV1!(I!5
a,^2|Y5R'fVMqHfAV`ok}:%/y:-=^>!pd0w_L&Z$=#u4V*Au^WZ|/
Tuw H^"]<:GYm;vM!=:h%GmAUZ5B,}%?
[2y!3t+q81gvR?g|)5Kf^F`wY|]<W=W}\T'>I>R#NcD"SL`vvf._-.~$W(Q4B\z:]!`zlAubyB{-.Q 8cXfwhfW,U^>FymKt`	.5DnhQidj aRpx %O0K_2 zfu9=/9`Iz]zWrO]BT+=P=
R!~K.l'jK
}BTPbu#T6m"Uel W0z^Y&/+D*ElR1Z S{*6D03Ve3 T6JSF2[,|o&[uK:Z%zNi>Hn ~c<NS=g<vei\sZk+~xy:&y,0Kr7":>`$A$>3N$T b8M?|ZEY!'";W*mdt=Q /bf>?A.kgH*UPdCak9kv^V`
8q	6#V~zP~? cMnkmj5-]3{.<:i'{m`x_so_wk,9{/2?R7xq	x&SvMIePGn	SaA91nB
}QT(nNY^5F(!1OoEA|zumt>J'u#?#=O^f">M9]t<)g~s/NE|~t=~{_u]k^/nx6+'dL7>xtm;w+4s%C0F8Nf
iK`+',gJ289F]sop	~nB}Fp6
Rvj"g5(%sggi2oA@]Z|jme&#9Rk"Wkj?[U{{<[_;\;2ix@&U,^i/2< 7I@AI$ooA3S35%nEU9to61	c+	@T
c{5\Lmomn$[cMGI08G`]lT+/	Jkx8hS!sbY2XZ`A
a+ ix.~4P^L@{xv9p%?N?{?j\/1eM|	j)y{mY#\>.3=^!]WNEe;b ~|z2@I_	4
|w F)"On\R<$pja.LZ8rb$d!c,3v24n&&t
v<^G =?Px}}$ $gQ_>nd+ :\h><e)T_.<5`npm
3EXNj<EQ"HPE?_\>r^pxYguujq)'>q9LCz`_v&Df2'VnaqV'0-Gn<Lbt}DLZ|\x[5UA\-6leh;jR~.[;/jwz#Wd>E;^<~^ZsMs(
#	pu#{`]mE#1+STVVDA=[	5u=tSh^w'gNd/Hu4;= 24)g
rJ:z2f%,&419pR&oqly4nj
PZnW_0p< Jl8h];F5 :A/[n@\Q"/n6uw5(26v=rRE?v{s&\h 4&gbXW]RYe6EApOH^2=|U:o-GpgVedsz"Gy;|c~gls4$WL!nA#Fy`ND"(-b\|#^=T|^q|v$Ke5|"fp/Ku0sm`46?:Yan'b`0!G4g%k=nCqIfQ<7(jwFz1Az Z"+kg#\K] :Hu_gS=
&
Z, N(F`SPeI&'sxM6:XmtaSYd/._cf0]QOqgi|onwS?zP~z\s0'}jCbs82,pt9KcF #XJ
KB (
%++^
b!37xX:uR_xreN]eoZoL?0a	 jaFHw#fB//xfG=};L74yB~e0sM9]0I79H<jl0X%_VF=@
]f9[|V#o Q
8;1
s KA3}d6]}p$(ObtFz8C?$n/Y(Vr5Vqdi7`|86Nm< k?h#a\|!pe|<N
]]#Y $@Z+$5cRqiZ}1@>L!7:~Drgj:MsvJ?I$}mXjJ:u/V,xsV4`+{BY2pb<Lr 6rve&(HBJ3-"@5"6(vTJ(Zkv#MglO:
H
v)WNL*2`91U`xOC{ Y9jv9~z (`5!7kv\w9I-QA08.3hKuO<ltXq:bZD%TYv$g'Rin>ZkPzY`]u/ `-Ug]9H3+WPE*Q$Pe@1LmQ1=i
	iJ:81126wZ#|/mEn8.0dg@Sf)KItJTxMQ
7pOK\=fv_6|;ty@pT$jy"DF&X,h^K~7/9`i1H|`HY;z|r7s
nGybEhaEbaf8dC|Kdk,DvVgnaICb=vm2 bY"ts%Q]762K)+5>:xd?6%OGZ4{8YXBQPqb)0&-|{fM9GIoCyf4NE5}q/=mr]7hN#F?QKN=ETj2^_p4gh QLxLUB
,hq-8MLu/al2SsGma[h;/& h'(21Q]&14)p=H'UMsZ]
M&"+p_G>zOEX{0;<>jAre+De~*S
 Vq
[x3)xKd<\;}%r3!AiWc96[BB0s)ha1p#DG0q'uVJ@up#Zp ]/TO,u.syCS2LpG`
^-Fl.rjrb6]Ik~,lT:N&cT]~
'5|}sK[Iw|aREJ
/mwUW^jx..?dtO8v9u3;Pb:$$#AC\_ `Xf 7%O~y;NbJf)wpIAa:" Y=l| \5epz
I6R&'"(ZSq C"|API/nz X/>[UcOayOe6	#
@`y'#jz	A?jU/yWbsr~%q5ashhDD+!Q=CIM4+Q&b;&]P<$01-:9P<s|#
n[_e[oo%Q?_}H94t9&6
g.
D*dg*g6nKO b>6]$Fef^Uf}vxBW1/zC@ XrOd8ap%|b>VR@jq
) 3u(BJ:y4jaPCRllWv50L-le8]9up?b9y[dCs_WFJ8{ixe?N}1EkY:l
9-j2;/uOR6("D &;>o=qo}i'y&Hc:GS,hA#2!VsWxw?4`/6ZF{	
lQ#UMfL$v63:W=:!'^JoH.#A!
$Et?P\bc?,vjX`-w:>:E~i>91I-V QH&uKgkSy1S7)j9;W5 UULD;P&,LF4DE[=aeV>\C.0
qyANu1;eC$T+QM=6w-r?#P|V#m/[t@9>8`k
#:PCg&t`8Z1#\n7$<M(( 6ff`-	QgP@@8,((tK&`pL-uI~N\+;=!N!&itTG|8MOtJSYcu&0{:>l]AoUM}3gwot+}U#@\Uw7|2}?n/*rr.ubfiYa6[q	cJ@H?M|i|(vOO*M{5Ig=b 30DogmpZOeFOx'3A" a$.u*fTPU!OM19OS1PrfC,pv  \/ (Rd/a"TC/ppO1WlmtS8r(0	V
OA-+*
C_b. i!8V@*@/]T\b+b)QC."l.-x:u 6pl8#e3C;WkR3t&a+O${mZ~oyXY3uyXCug
dw{k! 5B#84AwxcTrwx7Ki(k80C.V
A&7ltGmmhg:V$/x\Ed$mX@A57i\w}6)XpE;yw9V,}JdC
x MYkLn^BuJM
n*g63[sqIW6>|XeOp>cRfZQ#m0o@$3`vgZ]bo-riaS}~u.22vEz5BmPEU!_g~Ao.pE~pz0CTFliv(mQ7E6 uo,QJj8x>	lwF;uS4cvuaRieC8
=!VSm	}`17UsV)i_;zvz!+uC
IzUK.Aj}9=:qH8SJlFwgu:_`z9fGPc9BCc-X
dAksK$n8n,tj]"DK=hS%RR!;u9%lZK83N$!>dma%ZS{;l5VM1p51*Lj"Vd~MXZ7zzgN
X ;3 CzeEwi8I4|j" w][HcjzpvmdN$jPIQ`&iM;+}3-5Xu}SG50u1qer
RanO4tpL [>!CZ4?TV:+Cx/(} [v3%jrTv?}v'0RanU6.^VKVbw( fe@;[I\w~R8o;(Y7Ns;TVV`J\td7cy)
NhICSR%)|Y%vZHx%=^3,c9Ot}7H={@v&Fj*^tGIl!CVlE'd\aRXLnCE%f^{R,xQ{rk	Qh"~$~QAIl;}dA\UnCG=;/vrU0i'$(s}TqvC in&$Ff{t6	q{e<?#y2rC,ICD%\)Sq{l7c5
twQ0z%UOEhv'^RJ{{;zBZ6-_;VwyVx f6@R;xzNN,:l.xt4u(OE>%f$!>WjSd5>M+S4>a3-,NV[Y8w&gI~cKP5KMi;'n**uQiRWFn[X3[W`
FM.Y_HtIVI"-`q{nN)M#VSGa[,)y8+N#J9o{)U8?B;eQf:V]bV}orG.(xeOtWiQXG7?qn8ye_z\7WBWX*<mAz?tjGX< zA2t ^FF|=zJ^jCKmOGWnYU,?Qf **dE]Ui!:}`v?oEKNy
m93G'^hTdB
\3WnUsb)jHHT,}xoYulE\'kSj`B]R %b5*Wl&uMD)u3'_uSX6S2X|J(NFgt?Ih!* "tc*y\.18	]ewFZ8i(\G25
wU>)m6QC5_=6}Tx<%Yg!4,ga
@>4J[ ;QCv~w;O6L[u+#8|^GyxS=qqTa"O[A=nn{D	5)DAw`QgG|	0?2-H^j4<o<?h
V*^+<";)mY-$_Winu}c.yR-`q!A;p#m^U){AfnO% V?GPNdz`yd`
/`Z^hyGwqhbXDFD.8DO.)Qs8| .~mMG!4`n}q[N];moC|:+<3E=@|w:#;fG#<*kw-cgt@ /oX[Ug=D(W1MvW+mxJ 3oMvs$<;<c}
m{!KY_x/k'=Z^z,O6'5t,_<(`nvkYDl2,-l =_6:=F8	za7f89i!|mxm/;#?puL4JPkZq=rs@?[>.8FDFDCwvk2@Bi~6H?03xu#KeB%K5McY55l`"L"piQh>)az
Cm@#D0u*i\M;`|{:YA6R:]?u?:!LE&jxe@{zLD'
,
/3`N 9Zo@1@ @9t+2Q'(K|Q:^!t\k3,)/+kRU[e}lLGtG "`GQY_jYE9~,@~r{ XN
l	1(| @)oFR4(6t90a2DCh<H{<h|=1xC!xy'rJ;q}P/G#r)6Ht5 4
];RilLx0AB\T58,xE|yo&N/6Tz	p+uAbJUjZ"i.cdMh@0cV^'_cnqh9N.D";`	"FI>=yilN)!n:b3 R|
KBcuO=%6\T?s;z ko00CaLbrTv%XU%yv
5zIV8hM5z(~+nuoAtN=?vF7y3d?$/zySBO/zFf<t^};g A8DH-0-"c
K+V 61(elCcb]tjNxtBPkBo_nWf1h8d]k&Z4KQf}LXhf9C	M!A>>^s>{{ AhTW<$8]f[#00o8\7*MskJp	73a6n1*^f[8p${{'RhsGV	aRy#
V$cM3]4V.G%93f2kp J5bq}	H30\Fo~i4-.kWL+g* J[Np|d,g)dK^=?.}V;Hcxbx|mp}pBHj#w29n6&DWSR,-
R=)KFg<o"qum<cqzC1|0Q	]`6#V
t1m:qaj3oZLr)E k|Wh<_"J6*l3
7~\:?^H4+?ds;tD h&*2Lf <kJ"3H3e+f
:k":I[HYB
W>r0N_p;s=r}nysW5^i^<^w=o2QBIs%1y"0]hiBSgkniD"nMyM7T>S.ogJLOH}BT\+{x[6@	.r@w[|1>!16Q)U%{RW,ruU#i-yrTTo~yAg6!CZ!A8.MZ8LIMJl)Dmk5@YOARUlSZ7U9|t#:okO,
,qth|Z'A9:HXQ= YlVi]1G!#v8/=hg\7R#	>SYU`'Z-BZGS#w<"(=\s{o)	aZ`pe.847,k8\rJS4^	G%xS~~	)N~KK1o`%i3 O<k_-R)`^*(BAUEM65R"1
4dVwQy#y~T[gOlr^C(|aFS+_}SJ
eL=W7Wf rKi3Yb	<nUST1T>2x&zSPyJ $w+=:/@|IG5Q j
qT!vkP#l0
e%j l5Ejm*
LdHZ	[m{g|FX{GIz0|E{xz\Vo6;R3ZT+3
#nY#1N%kC=TIj\HR'qmf-{Hn\.O9[Z/hWr&YDZf IMnf{u]6I]
4Ijdv+&Zx+xh?ev$+g~eGjr0bT+,)"&xft2FSN*gbDe:p!`D>aox,\E:7eK'g<&)WG\$o9k;@7@T.Y#S:rGlMn 
%
a.Ru0$:vVjJDZV@lhv?~_Uy I ^Z~/CH3a'hRjV	VQ,x\\jU(8l$(Tg9+YTEGt<M%{:38n?.ZH0a8%?.?zMu],_{YnF&fJ[='}$=$qSgFSsdJ 8:6NHu
lLw~ x
Nh0?[o{Stu~v6:wJXt0L+fJjtB;NUod$Hv 2mRYfv#,f'3OBVS%
^Q|z6W>{d8Ma0<'%sp@5~VS[Wg_=?9<~cJl2>z*wh1*%~
c
f!UPmk^#x2F_z)	snRu2Gw
%9iH=T3d}KFd6tBX]7n1v98_y|;x:(K2'34CKSB0H%m[Y!K;=FYn	,l
{FM%'T_.r~k>>9PCy#`d+cU#}zv
{WI
jv+ ,OXn[O}AfV@;"su+R)[/	R)8r%;{$	=8~R_Uf#kp )Y:O&9Cs-vg> . 5L#i:]cGv\^bAu`PZcN'a`nK$].ycei'qa6MTxaFp1.;PuG/F;}W	J&q}`zjn]E=\Hs]#}3ZnMXI_i3=sbcth}	_`o8I{8g@u4B}0LZ+u [9pqDPS(`DE{>J]$1$f{i#M?}>y)Hs:v e7rKfi9sA|vMAq#%6Fic}=LSq.XxniK_	exa/Wi#
4qjp=NakA
+|5@f8Q@eSOu2T?^G<d$u[pE4|=L,yW*_sQ2,p<>AUCeiY{$P`!MUQD]gk$lcbLJ'p<wq)U
VNt,p#7S
	zW<, zKl =>nj0WgvAa;;b&=4syIM0!E<_au'_Ozl>XQ2')0.g0<KF'IL|TF7'U[Y5/YT
Nar34i?MM{pst]3?/D< w`\<VCZ4UgkY[*/]
dGDdWrBVMMf]W>Vw6?3mals 3E1iSf	[YHDPSd"t43c!#s<bUpE:KB wN
WK}Oq{+.um_Pisc4[9 5puuuzCY97:]MXtDL%qL,<yk4/C0~	s'r_Fd~U'.\u<}]d bZ'$|z7F2=rUrmh%al)goBk\1+>~byE2UJ a`lQl%IUd6[P%mbFqt yQ|${h<!Vxgv3k.<Rw3MUHZ1r xtE~y-OyS_?1-I;~:9J>{U(a}v>Ra)wLKqe6bljk2
E<'cF
OzLot/9ztq
deXq:F5(9$$/.=^1mX%*JBxn;UC`6'_G,>~B6\$jJ%n gHK}m]9z#^-m
->4K6R=:	xzOP*Pv{FwCQ 0>HY-yKI,d-j+*{Tq+]0ni_CuFU721je 5[l&Z.?A6nmR;$09CDPqw?A&'
NCsm|q!@;	eVMq&#,(fTvW!tdq6e6C/nFk3)`L^?lzo\;:c7K)9NBQbeQvPS[Mz[2$c)dX*m}5FSq+[2I*wp9Mo<w7^{c.jT`p4tA8Yk(Cg\bU
UgK~{Ar ,+~}cl.</6
!V?"e4$
,&,9bL(+} E^ew*t92tnZ5Qh1n=Qk(`p]8T?qH9<oO-7}]}hHY'TF#5kc@1cQ5&	LK1e$wcA&RXVC#`}h c#-5Z+_}/@})(8igHLu{CX#4	<;Bys[9Vb1Y;lm_x1W:S}~g%.SZ^~[TMHX/  8",x\zy
?w;6RLU
.{4NzD3lR[d


eTimb]K\ e?2O1WP|H_0q6z	;qE&Rf6XK`L`no+
oR'_Ip@kPKfr fZuf/Oxa*g4KveN7db$M[WsF).&F$V'.|+;gXJTm,I*f2rcXFjU/v(2<c{ /|:tv9	v=k6>$$Qh/>f5Z@"%D	#d-Y+w;MXL/E4jJTW~k^P8kEBJA6 W%T!5i^kU)!{>!{%1Fkh3z!kJ\8m;mdG8(C+V:;S?W;u<_,BEfpmeou*`M3lD2q/!TNN@sR\sp=Kao,=|!?/cA]GhSR	eMl9%A	)OyXgZl MTLP
Q=2o
Pn4\8-7eNvuGZh%uiot"/
Y"Aa#".+7_K+oP}at}/DRg:b$sM)WnJ"Cl#Y)ERPO}DL}{$BMm^m[w2%,{SadFiQSPdPZZUnO$1lH	rj}xm(>=r Q-hbGuaAH^dCH;~pq-f3Mo&D+XQ^oJ"bOQ<$n8TKL&SW
YyD_Z#e4P/-(,2
mr#AQ1zZb>!I:__b)9FPH2RRm?Ccv)D#b/	G<^R/xJ7h/\[CAE7bmsl^y;haJGsaS=w.o*<JWzW%Hu >/$n:~}@UCWc\zMVZ3C4
qwc) )pI)+L["?%m+lRITO>n1$Q  CY6NU B4z]JDOl#-z4u.Gc^,Oc<8pz>Mj*$3hm!@bD.Q:+b]	@.t
6dD
zgeY'xwHZq
p0n)>4nV @T,
[H4m{
XM:]	cS?IUmI	7>2((cG@Py!h~EAR|+3vQx=6+/0G?}'{utY} xHRz V&EhlK|5TZFxuq2dTv.HQ],,!R$NOG'GySLm[K/H-9jCB0S	]V&Whdcb!W_o]Q
5h	PPy+w{tB%}A
ESo\h+Z-pCl.Fmwj/`a#V"tc1me/Z5* dMAuBOnu/4?HuFnU:YzqcH&_jc=ppFj)r6PSN<"^K9Q)Mu6^>siyG]MqyXiok51^?Tj;_yVC%)/o\
n}W9$/mEbO,~F
9 hI]x%t4.Y"~g,(J*7S0LYd5{hZcz)Hl1Lk`ksKH\`81\(4U#ef.)4GNoV5rPf~[N'8,
[9Umx:jF?KD	dbo0:+ba6 ali"%
PUw_,a
VY$7OmtFtqw
d1};c	Y(et2t"?;o08j}U4*p dG{m1h:(S1]T1}S@p%
f[9 ^u&PZifGw(35/ny6N"qql|4~*&OE]D|$@D_zT-{x0
p|s,`ut JyUOzCCrDO2w<vPp{ tiV]>]yGqe>\JV1g%S"+d :4{LVDE.	-~|~~C2](G}aieUZ.n(e &("aq'm
riA[ov=k'd+Q
_z>%8HT/j9`D@.cvi-01D2I2m-|>x2K|~O~Y7x:B>\TB)ufPSd O>?6e$s(nP6<?un1^L>Wg<~ L fZY!w:e#9d~4k;QDrt:t^=-)I6>|\BV>86y$#KUron>V~BA#8a7^jCBy_Tq+]?xP"_C?\ox3IT/z9X,GwjD[X1mD K0KQA
_Bym&(BXR}Ltc|Q]-hEF)w\Gor#w[43/Gc($`^6;y24yFK$U>tm t#MF;o2x@KDC{
~#y%" wO_	,1K:X[EI{ +2$<kU<ur}zDHS{Jn7Y]1c.!3V>?wV4W|Mf.Aj~8unJ%mC.Mw4cYn'&+3Ce&@S|sV)zI{rV5;zB:|at?j)]Tg_
7q`5v?
/w>/+7.D6?\_YSaSnJ7
-j>3z[) BZNvCEy|9u=5Sl&dyMLEqlUaM>oka0*8p'F=}:j%&;'/DA.$;[91B%&#	tf"sqLEB
m"np
2j})}Gx8PFog#;rSr.[D`V)><`#rll~~esK7:24> !&us4CNJ,^&)%5t*;Jrr@`e*,?v(	u||F^.k%=)WlKvkt4xU`pj8K
gb&-QVWx#:EflhfxG
Ku'=?:+--)lYL}vbQxUq+&]"YbMGw*R:>H
+UGS~uiPlrTMUbm'b:bULike.f#T6-x@SdE^<P-7>
<tI_B^g
Z5z::W 6XCT	hNF6bq ?tV+s<	w;)>sF-l_qNa?
u`6zAw&b/N1a!t[TqiJT:'W<	b3~7\.7>'^+[n7z9q\B'Y~HUThvZ!&oD(_)7#Sh9?aq=
U~^;xB$M@=1t4p*M\TjFo@K5/p,suuqKLNAkV[@!^E
567^T61se>P~6Pc'\42['%MRHE54RM0H#<=
n7HK|g?rFkAv^(u|{eh{oOjC]	z{@z	6kk8HAs=
3XmgkDM:?.4NgAD?kc]l `g~HkmS8LZ:L vy'F3Y9<b$1[;"AjanJ~LQd0_\!A?#.BOkEk\B(8[{xl Jd5g1?a$AZ g
*do{9>=>(n^r/4rtIex[kErD7LRkQu0	9sM|vtf>QM*)Wdw.T'+{cQ+ki zKPl}7[u& 
pxjJ;|91<2duIa=7oIU-Y_q_ioAA#N2bYT V.2Wke
uNo:_!N|)l!%U[v"g}WH9sq2YBu@K%d~
)dLc.E|
io(7h]e0Z& #p4mL+M
b m#1k	qf^v^(l4WtFjg5:L
mQW(~<gw`bX8G[(#V5},kx[>4J-WwJ1v=ybH%"I\'M%)>&Iv|RtHT+4%0ALz[yeG 3C{
P~~`XE)j&L0f%@:A[|f&!G&{ R23?w	s#1~M6=>aKF@A$TfWq7@UR7
wa&A>R|;Y)}j6ZD:,/^3<s:2A8epLE$X?Nvzht]^E]*%w7\ot%{=UuL%&TxNG_2om~jJF7@>k_`qwpoTz]
1
J9l,Pm0K85As)(zt(r%-~]_ox{N4!oR=CK|2T ~jvkZE,p]HX3%<I<>Xrcc[&e
|;\*%;
^asXC0apQsYz-
n*].dzfxUQV4~I!$)-@imrJ)*<7jj?#X
22i kqw(AK?EeJh606Wms]9|eaTKaTq\0iC J{>*%b(Cx,m^vvENE$[%q{ROmPR/aNX?|zYwU
2=Rc0jYzP*'.@#7y
%$?bkvY:Kua#_Ds&I:0XP=}I9}/j*UL,Ls$/
,H*dxG#<Ss_uW]}A~=^Ys/G|ULDw?RNg+suuO23UcmIMI=\|E_E}5td&71yHG0McW+z66a!pw#O1G`N_?M?ot:yW6qH/qmy#Qeo`s&\^b~e4VXRdp<x?hQCZzX,H,	@Q;fY[QY8=	#yl>J\w%vg_u[J\d|!z'{s"haH$"!w<)p}8}B2g(b#%hDj0:AqQpLEc"=uXX*OW5\~O|S6j{53pI~$/CJ>mEu!*n=fMx.(&^rq3-RVCFNF=PEL_]w4^y#xZO+-uh\Nn
_oiIZo:e'dTuW7Yj&@2Qfn44;]yC	NY<6L3l m>/+%C~&}d4[I|&F9m`ahf/WZ:wLtif2mdk8NkE*3<~y#FnE+1$.t'iPVAJDPZG+JEUU&3s|k5uugyP 95=36d-x;JJw)`o+v^AC 2s,"D"hyqX	E
n +$,u~QTL9Morsw'oR*
Lz-ZhK'*-04W+dykv
=[!y dHrJinf=eYg*' Y5)z

sPcm48L9vB-qEY:KkB+28 I;shHr4@SOs
7KV9:Hj
[oDOyl[.L6#rW(YeQ%@mp&j)#&r:T5x+pRb5!;I4=tiO~Q&-T1gKXa 2>H40u+4sUoI)`D[Dp	A_$2
>G~'r_O;}Ef8&8W6<~[j?f?4lVOL\D6c]T19\B w
P"2vaRf9
@Ux6!
C8=(WJ1Z? ;@C$Z	iK$)%Q[o
~d$6.%dPa}!1QnGpXFJHM\['x.gA_G8Y?'~3mo4
}Bk]+V%oG*;l[qpYkk'$0=enY2[-lH+o ^!xt#6VG3@4USxoPH_YG-"4wxl{Ih9Kvp_Q*[Kh7!z>TaH'r}Kc!%:a9tiYC`?2p}uRZIfz6%	k63l3FuW98j0;<T@n@gF0sQYTycip7Co)@|67 ?676%10K5	*gr>Ng8pU1ynVg-1bo=45.=w-@)YK
zM}55Ht;l&a/8eLLxdD1uXJ/\sm;T-/K`NC9L	2UVT~4ZOBRR1p>0$r;9
?m!6ei.a/htA3Z
;C^`0X
MG{	`5\]KWv94u#_:agGV#*=}s278ze=r;3QzEe	zQ}r{+G{:P&$%  0:sa>Y<`y~B]umJUo'HGl;b}NX%Qh"a	7Q.u$*`'0r"=(_9GB5e}jB][h!h5 EYMGw%]cz"NmHcc3yxaCD0>6Iwu%]])`
I
3#PU^+#pJFU	BW']g/ZS
LtA
p0Aj@#3M#9^4=M:^9GzwRG'*F9)1L*; t 7 Rfe"OW,:mHmM:|+Ox]+	#~Vps.S^X^$3%jqEdqGUP9-9]r0FBtQqiJ9p3Vp:H77)j(R,Q}uo
$x79
|Ckkj*m]~uB;
\7_e2F;pSFdHD!([iq]<3x91Km37C:]PE7
]TUpG1jO#0skQHw]Vr!&GUy{"-0ss^<"+~|AG""+VdwOx{8L}!K3YeWFF_Z{Mw.a-C']fu4ChW	Cjacw5nnE:|y4pq_RUo'w<H1]g:x~{.h_IGVw
2eB_Y9[=E] {?Ps$J]wZvWM#c?}FaWL.0L%* |>Tn`T7\2t4r;
fRV|Ek sb!+>lP2=,e
|Ng!;+>px|eoI-4k =7cx6M`4$k'L*Z/T=Ak%36
r@r5]~M7LWrp$KVz6q~8klGS0hDCi0kKZc6=oaDvhlEP~w}
(N=8y	wn/4<[W<:[Yv5K1GOmg>4X}t#4	C0A}"t
pd
 38Cz[}\DX@}D1!oY#U'YarZ+-85Zl0Kxj%yLtJSXm3utT)H^QQ
lJ}LNoFgnwrp5 "01uEi'WCH(/h9?sXzgXDN
WESpH$0ZcDt8T4Y'R^%2mj^2^+9]'5]ZW3'95;{
m`&j-8_"Io	
UH,b3[ih`k0Qd~[-r!7QW`N	L=9 BB5
F;!FsP#1.:S~ZQaw8:w6!2DX
zjxp|UJ=I8-KD\>[AjYct*wf5)cf+6}AgB6HY8q5pi_S]fRr3; z>ZBuYN)R:=7m"2wb]c6;tMwak
UCkxvy0^nQp)GNU{niwk%gO["zC2pf+L$Qmk&PwX1g6*lmTD-`V\a^`['EP\=eaP:
l
s&G|8~$a)Wv~cDbQ3B""FGB,`9d{MPngF"M
M[3,K7@Z}2=r{/0WuUh/Au@uKf]KgtmywtYn[{NIH`C`97H2iX*l#Rha9$;WJ[Vm_uK-kcb5MYAGpcdE
sxpea+E7BW	}t-?7d)[s=*1-_%?]6\mqB\{B&;!QC)6)uIx*&G67YtC4g@UQ2|$WAW%.w_9vYcpO9l}9[A\LM@gu0q>)Mds]Owco`Qd'
,=w^F'7p,VT:$=Q:vWXg|vh.Gr8Y7pk +FEzh	xf#sDF]7,A>!
k6i34b!YI="
vP<r9
|{/*PYwIIDy `b"USI=DO{1o4t16
mu.~@D_Az=T!B8#d$js6C5p.q
4Ks3Agt#8t*s(kqu~k=?1~3p/:Y&MV !LFzkR4h  hr.4Wg^3D&$vV_\>pD5WAS>gg\EsD,3) S
z3>`#10}k|c;V9xpytx.a=RJtF.J@[i>R?Ar7vRL\m2P<%yh?=]0t\
B)W+.c"&95Ghf79<KvyEvQkY-Q]u>+{
xUj'D}^Y<
Gwhmy Q;:N2ytA{3UFO
$]*[`:ppT&+c[
B%`gBkJUcsCI
oZ0@m=k_Y'epMBbhIqL&s_s5d!AAPg Og7q`|9a	4mVYag:W7-`eC]v>/)=&=msh-\y"{O;ZW	eN\Wc19y}*[/|O{^tmJ"F+-YtEI/9DK -\X*@etiF\W8P.wdtJ2NOWTKavT41\DnDl.!b^C"Bf=SY\c9,6OHV'y-3V("D?!:;LgmhA\G
]sU[_<6NF,/=;PvU,F,VXHw#Q54l9t /59{E`+M16S'exb>+\"PZ]{'GGh4'vFl2}[@n&Tj.8^XR49:*fi twx<p-_v\(G1YVt=y3~OT]!0dSjWYB^FKE?{
8.y'W7a!/DNW& -r-P]g;l=#$?NGmuw]{=tse"l9}7fOg]O:| aw/;[MRoe-+|3jDTavu:5wK-
Y!	]YH~_ehX/c1|F
((*uHP*p#/##3##7{{Yqe?wv")B_B]sa3x4cznwYeEtbTi"069F)?|l<qoSG@Upd'G6*j	'MkG5{p*Xd2B4a$}{1~}XiXNv0'>=|f"(q~1@I5|Iz2kx`p`08-i6$6b
n<Xyf7V=}%=wwTsCGM{hI~/Qo
ksZ`T@ipVD;CKvk.cbuQu	h}5x8J%Z>AD:\w$x8Q1t
9<nqX_9]lc9
vw3eu**8Z&,RsexK[YM5C"U,?q.~N D=I!qgA)
mNk): s$GqNoL0.<e|U:.})G0{@bqeuW+K]>>!U9qVj;d%	rGI_@F^85nu?Jg8i7FS39|~-vR(	 A{Pj3]3(u9<Bb@:zETliP-C7r:8cuS=MAcTy~
:[<},iCL 
7"]i@)tXv*"A hO  -ngZ~Y>]/7\
!_LE>=u5%z'36d0b!,iCk*@:BcJe4*EaW#"H;k?	Y#o{+[t^=yVub`4DA)r'm,K&v-ajI~;,Xs?9{C~/2,]9`v0Ow=A>F{	HXx%TdqAer<Tid,GU&9,m5fwPK[WVBy+	^VI'^?n3/[;Vw "`+7~3j5qOU3V8^}>o~Q`i)/83w#U^/$qPQy<13-KnEc4Fn}kfh`l\6z=kd!lHZ$m+&`C~]Op3qz{c2 ]qS!5"%]""`/x#<;}@t1 U\2[$h Ej*RS};EnyR(<u<=yZBQ31jkyJOeh[#NhL@Oiz4zL{Q[)sL>K+DGA.ORCVEK=>n8Q}(S!W=XG}vJ%ie7g5Q=5O^A7!_5S^LGfK}wo'9=/oFu=Uaa=Plxpb<U3]i%kQdsP34\5q~bjF<{Gg
~^IW\13"C21q]f\3tF9&ionTm4P?oTajp2vO'.lk%bx$?p^__fL|S:#7o
,$TVK^XQ :t'Uuq"M8/b 0Ik0bZbo8zt!j&
H//A&eijeA!V9UmfV>muU~Tt6
Wk?gFGZ?Gjzq	pc[]uP\|g8>;!iQ_HY+:v&8^>,`v?]VR_opODc=x
-1B
zMq`hbJ|9(6}Ni xF^Aq_<V%j]@'PsMk$Adm"hJ,\8DUz?|/".yZfPLz.R]>
kR
fITw6e]inRBtEZ4Axt Nt?b~4BC\+1w\Oy)~l@ya~G;Zq4}rU(Eqxa	y4J0_Gut30jUHF1J$~ti$Ap)|'!v31}-m\8>3@[}G16AGc%R+qaH7
Wr1.-4YA -j}2\# 4XU<0!_(Dsp[`x/-.?g2Q4(44dzB( q %qhfK4|_9D SXn)=B<}Qk~
<!/]._!2_N6U(4X%S @
e[RPjp+./]yI/_mgxsWS))Uiy/BY?+~iaCJXl5kk;'2& pRq<d]b^X4q#b){4lP~R;{*U1|e Dz:7<,3"$f!F%&f 
9
Dm],EJ7b(pcTqD[DDcbmnF{o18[>=XE:yBfc5<;l-$m.aZd1	-60|8(P.;*+"K@[3MWQxxiH|1VR&NTG CBXp *nr	01`Tx@A1bRj?R<;

Y/iX_efvoxKmw;	KnN0@X%2&Q$mEF)j`}{=Y14!ZRi=7nK_PK    [X	B   P      postcss.config.jsK(/*QHIMK,)QRP()M+sJ3s3RAB:`"( PK    [X}       public/vite.svgTM6+ 4Cr`6*kZ"MM)fzzFf:NvW9B_ oa?:[j5a^V4#r
c~:ju6L6gvp[:_eaG=NOv)W~{Bu};2/j4%
ebRijFG^>}ud^#qjn=v0M47U[Z[o^rX_}9S`I9L[Ib7M-3UXosQaui]vj;c?OX|"+[8`n-:m
dfg+\B2AA"dJ#1&C'Id#70	utB(H9IW?|Vr ^JiQ.H0Mp(^(@^b/]=JP'rC*p9F,'R tl	X" x)ZvH!3El1btZ5)yA<G1|GSwFChj:*\%N .*:9!T
d$ft:_o PK    [X#     	   README.md?O@|
K,T	(AtI8F|{(*H0tz
J
^X)I;PrE%c8pM=; C%=z[`#k '
q$Y}-	lL7)y'Kv4CUnO)m(Cj-3E~{3W/`dOr~$`(4b*cuV]`:y}/PK     [X               src/App.cssPK    %\XV#         src/App.jsx%;
0D=6&mH*EnH+,XKFZCOa>~c|6.	UX?yL
`T7@L$%WD9?DJh0}GX>Pub(a3taPK     [X               src/assets/PK    [XE       src/assets/react.svgmOo
JarRU.V${eom,CR,v ="'O77Bi;qq3z^\Nr{>qx~u}|Oey|zr?.Oo|M'zyz|{z/^/xv{
.TK~q}|=-_=\3S>}n7",$_F[}e~>l1ZsfK5d}S.X}mu:|}]y+ei-dGRO%8|IuFfs{Xn'2F"}!VSfKo)je<IfJGi.pTGq]:Gvz$>7u4rg'?nt	Wlx29Te9Bn7[WkNTf2F	R@PFt,ZWbj9aW,9ulnx`d}F&,]97-dR8!8,!v#`
=/>C
n D_PBjf/A5)m%(iNB]{T
|r{kH*T}qX&Si$Yh"n`5[Zi!?X`4^o*A+6h#`h:0d>Jt u<Jh~7.I\B =LO@I)AEja"715/pKw		H=kPWJ rDxm?%!~0o73pB8c*RN9N:~u0PL`@WbjnR+[Cr{GUqyR!y+
82K6.HobnM%#t@5=M)75T=WVtZJ'}H%tdZDQ_
t -fDuS+$tzraI`W+4G(>}"v!k D)2#h%6Ny(nLgAK5<&``XkPHsKr>V4fi*Rd$Ya7 Pg]R
] 0gK4y9@K[Rt'MQKK}n`E=4h+"B0iJsLi=Xu/$i1q
^]DU%/s@lmp.MHu+Hn<)S"
4K)|6{GDRRw0TPF=M4M&4dmZ|OK=!P,sU+CZFFh`J8;.]R6a@%}SC9m	g05k<6&FfKH*o1g4JVDJ] a~|= DID
i.1S$mxdtUy1d}@KC9ip=L3`	,+u=HIlbm1p)
/Ua"{EsY)v
5
#&Tm!vy+FeWv1X{TIvoQfY_L:&t\%x,A"jn1AI9v?#VO%oIO- $r5n~M&
gpL0V[Fa.iS#O,Eim&Q
=k
iovZi!B#-i_dr]J+FZj*\>	X/uo<=_~x~|7g/PK     
jX               src/components/PK    eX%PD       src/components/Card.jsxu1o0H,*uRkDrld;{Ig/dgiRFO^
MKm^"
4nqy]n	l?/lkOT?Ecv)+n6FE1M8!T`4iCx
ZRCjUR+Xs#&
R
j391h0wXawAWo$+\p`\c~;%m}{OC-p_;54'?\OdPK    X       src/components/Footer.jsxUmk0^Rfc:P>Aj-#md'-e0&H{{ci.H#
)]f9}cT(I,R~)rb*Hd*H7^8>OFu1)Kbc(7	
t`T5J2f=#h\j H$80F31TT|SDaxi,^~]a!n4iw4KV$ d4'EhG[<Y,,,
M/6AF`GVH{7Ou!3OubZjQ/xJSLF]]3NiWpZeWFNu.r&nEvRUyBm?cI4S`VuO^!h >
j8%[ezRMz->km?[v;)&zT})'9Y0vv E4g2M@-3"auJ_3W#Kr!c3fiXn(yoaFt{3p5-k
hdPK    X ~       src/components/Header.jsxTQO0~p<P0/iCm%l!%M%wO6n	3LG_#{oB=K{]92"xGj|9-RZWBN#fUFz,5IE
S4,EKlr|v\/\hf!i&]wsEgQ%NhocBVd' e|s;"p_Y'OGIsC%6d~` SBqlQI8D|RG?K#@t -G8p=LWZQ/O
6F"E0u[_|
J+Sf	I|DfzGN%t'
Yni<l-+88
T#C\.l2==|8\\L/9Rzt_Cu~%w'hw{g[
\ImE4+/&<B'sCN{)H

qaGR9A}Uh~C oKp~rm-e+(++x=_y_PK    WyXUf	  N     src/components/Input.jsxmRn 5YKM e 
Z&y06wzG &KY.*Yun
^4[Dq5!4@.Z/aFy`k3N+g;g)a/3^)-p`;qi b-H[Cy!siyhAw#>2m	TXSdur
%PK    mXD  K     src/components/MealCard.jsxU_k0/;dT2:7}2 -neH6kgG'$'];H|g~weUK!W@9>x|TvgG	kg
|_gLaN[xpkK)Q`
T\3.3KeiTjE
#l (*2Y}*a
b1j``E{ C:Qr-Us G3055+t I"yHt
cXTA6Mx" 
Y;C<vS]i9dr%J	dgmc()~$r0!=&ZrJh#h@RU$Rd2Fd,#?Id!{,4:e5HeaX6.$J"j)vmb-;)Hn83|=q
{"]M+teeiv;iaRGoqZ5S)k!J Q}`0[v?~)V=9[E)Ps*`qp^KLJ,:7MjbE7gT8j
6VN[KV8bQ}nMKnPK    2yX.&D  6     src/components/Select.jsxuSKn0GF^D p=Cb0MB{	
tx>=[| +J@xV9Sk
S>Q`aQD 9#f@J/1xN5h@!oRQRPhI`68Kg;X9H2pL#S|8mpK^uwp-u:eP{; ?thnF2Ib;yXfm 4{dcwf*6	bPK    \Xl   k     src/error-page.jsxUOKN0G$b]7A,{B-5h<FEik74AZ]YI`#?n`) C>`MA'g; %z Opv_eM;jR<>
4't7bz!sSv% Zbxr&!
YU~(o_ZPK    [X*   :   
   src/index.csss(I)KQHJ,NrsRJEKK2s2K2SPK    hXz       src/main.jsxSM0+&`#z0k@Yi1m7hiyiy^

bLO)rpY;_CDNho 
R|W(cqU(WG)83}$&mhbN@x'Uh[W I)1`GCz%T+_DO}9NizF3c\	MRQT
jc`V}5JCp[0	!nMv]%gLb[A5/Uw0ox#[G:>Qlf4;`c/QlL$GewWS\P5ou@U"[|(:8Aou'[PK     hX               src/routes/PK    `_XV6       src/routes/contact.jsxVn0G;V-R=n Q4jO=%,V #3l%gIj]va3d\ *5	P(xd@i|~|t|Dn@CR"])S3GH9oF~V2!	g
" 
9kwy/sgHs)n#q}R'~d@ 
*
'("EwA,q[[X6K_65Nv.V~9.V)yUr] skfqDZ<{*Lte
3o;zDy&ZrHu)WUn+mjYaGeL{l7
&'{p;K.R*O[u	;SY/E	|Y)&:Q!z~x7,6b(sk$}xH(D\R2[6Onh
/VB[N&N^:\wDr. "!"CsiWN2sf&TWv-nu>+}q$n5m&2k8^(C!qAI8XA65",i<#_&|C-5'_F9TLi5dw/G5TYtPK    gXv"c       src/routes/home.jsxXmoH)a'G
!NzVJ^EgE_d60Tm'BjJ!"KD3-\+
zKe|E[TSi".h~$*Ed+zg	g6>
H5Lp b9qxG)DJ @@B2M!6$Jf)jet`%dRnHp"uD*=PHcq/D*Hy;q
[3"gK^Zs2oB9R)`o(
NYkrT.|jv7L
*df|c"KH
}#P
U0 YB*TD$>@_dRP'K2x)
	(Xd1:|m|YDXl
^DLb60&}edfc
$"\Nxxgd>TiY[ _2#+Z,6uVufiATAepY/Xk:
j?p?.r\j<,P$KHD23J'?>W&_\>prCukhL}&({vc&Q>wB{DU}:|T*J`aSC2oY\1\3m+&]=n4fX(61Afp<S~Em0./_Z]3m.13$Z^.'1l_gv7/-rJdY+Bu<TP5Cwlg'iR]Iq:Isw#h~s?'b3O\[ILV_\+C2S{ju$tPZ6y`c	u~[fVaBS-j/q5%^VYzB-sUcjgY=X`tw:N)
ruK{7PK    5^X  +     src/routes/meal-plan.jsxXmo6  D~IuHlKfCt9K@Ru\}Gd[r0Il{xdxHe
R=J)+.BYtT@D0	A 6 =|7[I.is"2IC*SlT#3A3Nx06'z[4<T	@_5O0)=\z	N"9[a*/,Q*B/fd"3t{$Vf"`ceJrm?
fVKGpTl&wIp,#uu6p>#*>3]"@HJHj1~GP_\sRgUb)JM&Zo]b#dEO9+8D6\5zbJF^O1aG2_5U%)M+aE%*/JTq
J~6+KAs!7&K$0I3*R_*TovXbMyP3E^3vwLrWtXxR-l(}Q%b:@@c"8mR{w
/)&=ChH:K7
Q@(t#U(ai;
OCM_
!_8fUZN>u/z
MSy+Jv<	9iiZ[{S^GTpW`0N@^<TC"@/6\vuH;(; @r>jA`[7cHa|K^1st1jm?a9Sv4o}f.%5	P2[V\KC#3s6J-bdrqj+R\Q;E!l]x: RGI*`QcF?bugf* i7g]zQx
L*-HT&0%S%]AYe%pS
jsLfh~#,=|.<o-+	jg	5Z(-Y`du]u
VtyFzhgY"7o6fb)yVg{>&tuJ|AL
nV8FI$U[=A@W'eVgr`
uGrhc
mVG;Sp';w3K@ PK    fXi(W  !     src/routes/recipe.jsxVQo0~p)B ium6^f$D}g	fR5w}|EH|U"#c|GEdmzyA>8Bee	a{yXhQ|/S0"RYV\E$JHkjmbk h = +O4=rY"\t^[SjD8X&MI]HaH)vjBLt(1$zHlp
hm9T-s{[<+"b=!T
A(kSR4c+p93B6Q&)++mYLqYSeYMgCh\Xx\)"=`ERLQP"1WupvUJ)%l}R1NWSs96X=ZwV8yf[|NsnFpN)rs@"ixh+LHinH^{X*Khk~D^SB5L8+/oW;m&1E;H2h7G!C+TnELcsbu~E	Ja%X9&so=gZ}nJOO
N(M 2=&](G,}yYBT;s8g8knSrp 5WUJyg+"SJNV3;55f 	>[+}?$+F
f	PK    <|Xlxy  I     src/routes/recipe-editor.jsxXIo8`48KYL.S-6QD)uiJ1A:ND-|{`u2!K+Y1	"E()!{zR:DG\<'A).8ABs6'?%,Q7yi0TGC5<`
i<XAxrMi
$KuX*-_u*3.~&8|uA(z(e<bMlt 663"s*)Hs#fCa+bd Fb1nELDC,Kqxn k@xY0$}w=ow/JI3.QV(]/@*TU[,^0n X!9] JwxZwpKF9l4T#QXfE`59,+;k7QpwC%hsG(w+hC^`k/{2J#Ym]# |V,O	NBd#-",a7w`@d=i1p[3	b _K(&|RK 9P:7yWE?j%jE8/|of%v6(Q7F[z3E%oWejWWPJ9U
Ts5y$edjdmYVw%#VC
CL[ME\e]b]Xfn+-
ch(G3#?[pJWhH,_7ayNJS%FZfN2o9Y~#?J*#,;rOX3W\%$"3M#x.4}FrBF[x}9|itNjJ58+jiXAVq7z+HRYlhG/T ^]rp*x}WMnchqu3X
V.q@OCb]9<NwPK    `XT+        src/routes/root.jsxuj0=)euS{cYn>[}5mG,p(`Z(Y/yL	u<s]i(r-w"FgtVG'`7lp3H(=lnq:nXX=2KZJT{:C^_qr_n@WdtN=CWs?Lkmq.mgPK    0gXqajf       tailwind.config.jsURN0Q/j{g n<Vd+Kqg3]Yg4L('g?^M=r# `I0yU!.IbhkO>
?x1oLy4*~mkwF{#q:2[QApJDqxM2[=\j
.'% |FL{irBf`xgO8D V
RH)-AuqUt(R/\/]9Syk	G$-0s(O~E#<h89kPK    [X v         vite.config.jsU10 w[@jRQu@+H $&]t'sQq8~xgem3U
Hq"G "UCjpy.G	x]&=K,5~]PK     [X.  6  
                .eslintrc.cjsPK     [X      
            Y  .gitignorePK     hlX*    ~  
              index.htmlPK     XK                 8  package.jsonPK     Xu                 package-lock.jsonPK     [X	B   P                 postcss.config.jsPK     [X}                .  public/vite.svgPK     [X#     	            L  README.mdPK      [X                         r  src/App.cssPK     %\XV#                    src/App.jsxPK      [X                        U  src/assets/PK     [XE                ~  src/assets/react.svgPK      
jX                          src/components/PK     eX%PD                "  src/components/Card.jsxPK     X                  src/components/Footer.jsxPK     X ~                v  src/components/Header.jsxPK     WyXUf	  N              +  src/components/Input.jsxPK     mXD  K              j  src/components/MealCard.jsxPK     2yX.&D  6              F  src/components/Select.jsxPK     \Xl   k                src/error-page.jsxPK     [X*   :   
              src/index.cssPK     hXz                $  src/main.jsxPK      hX                          src/routes/PK     `_XV6                  src/routes/contact.jsxPK     gXv"c                0  src/routes/home.jsxPK     5^X  +                src/routes/meal-plan.jsxPK     fXi(W  !                src/routes/recipe.jsxPK     <|Xlxy  I                src/routes/recipe-editor.jsxPK     `XT+                   src/routes/root.jsxPK     0gXqajf                  tailwind.config.jsPK     [X v                    vite.config.jsPK        G    

==================== C:\Code\recipe-app\frontend\README.md ====================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh


==================== C:\Code\recipe-app\frontend\tailwind.config.js ====================

/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  daisyui: {
    themes: [
      "light",
      "dark",
      "cupcake",
      "bumblebee",
      "emerald",
      "corporate",
      "synthwave",
      "retro",
      "cyberpunk",
      "valentine",
      "halloween",
      "garden",
      "forest",
      "aqua",
      "lofi",
      "pastel",
      "fantasy",
      "wireframe",
      "black",
      "luxury",
      "dracula",
      "cmyk",
      "autumn",
      "business",
      "acid",
      "lemonade",
      "night",
      "coffee",
      "winter",
      "dim",
      "nord",
      "sunset",
    ],
  },
  plugins: [require("@tailwindcss/typography"), require("daisyui")],
}

==================== C:\Code\recipe-app\frontend\vite.config.js ====================

import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})


==================== C:\Code\recipe-app\frontend\public\vite.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>

==================== C:\Code\recipe-app\frontend\src\App.css ====================



==================== C:\Code\recipe-app\frontend\src\App.jsx ====================

import React from 'react'
import './App.css'

function App() {

  return (
    <h1 className="text-3xl font-bold underline">
      Hello world!
    </h1>
  )
}

export default App


==================== C:\Code\recipe-app\frontend\src\dummy-data.js ====================

export const authors = [
    { id: 1, label: "Jamie Oliver" },
    { id: 2, label: "Pinch of Nom" },
    { id: 3, label: "Bored of Lunch" },
    { id: 4, label: "Good Food" },
    { id: 5, label: "Gino D'Acampo" },
];

export const books = [
    { id: 1, label: "5 Ingredients", authorId: 1 },
    { id: 2, label: "Ministry of Food", authorId: 1 },
    { id: 3, label: "Quick & Easy", authorId: 2 },
    { id: 4, label: "Everyday Light", authorId: 2 },
    { id: 5, label: "The Healthy Air Fryer Book", authorId: 3 },
    { id: 6, label: "Healthy Slow Cooker: Even Easier", authorId: 3 },
    { id: 7, label: "Ultimate Slow Cooker Recipes", authorId: 4 },
    { id: 8, label: "Gino's Italian Escape", authorId: 5 },
    { id: 9, label: "Gino's Italy", authorId: 5 },
];

export const recipes = [
    {
        id: 1,
        recipeName: "Penne carbonara",
        selectedType: "main",
        servings: 4,
        selectedAuthor: 1,
        selectedBook: 1,
        pageNumber: 234,
        recipeUrl: "",
        cookingTime: 23,
        selectedCountry: "IT"
    },
    {
        id: 2,
        recipeName: "Chicken Curry",
        selectedType: "main",
        servings: 4,
        selectedAuthor: 2,
        selectedBook: 3,
        pageNumber: 78,
        recipeUrl: "",
        cookingTime: 30,
        selectedCountry: "IN"
    },
    {
        id: 3,
        recipeName: "Vegetable Stir Fry",
        selectedType: "main",
        servings: 3,
        selectedAuthor: 3,
        selectedBook: 5,
        pageNumber: 112,
        recipeUrl: "",
        cookingTime: 20,
        selectedCountry: "CN"
    },
    {
        id: 4,
        recipeName: "Beef Stew",
        selectedType: "main",
        servings: 5,
        selectedAuthor: 4,
        selectedBook: 7,
        pageNumber: 90,
        recipeUrl: "",
        cookingTime: 120,
        selectedCountry: "GB"
    },
    {
        id: 5,
        recipeName: "Tiramisu",
        selectedType: "dessert",
        servings: 6,
        selectedAuthor: 5,
        selectedBook: 9,
        pageNumber: 45,
        recipeUrl: "",
        cookingTime: 45,
        selectedCountry: "IT"
    },
    {
        id: 6,
        recipeName: "Fish Tacos",
        selectedType: "main",
        servings: 4,
        selectedAuthor: 1,
        selectedBook: 2,
        pageNumber: 180,
        recipeUrl: "",
        cookingTime: 25,
        selectedCountry: "MX"
    }
];

==================== C:\Code\recipe-app\frontend\src\error-page.jsx ====================

import { useRouteError } from "react-router-dom";

export default function ErrorPage() {
  const error = useRouteError();
  console.error(error);

  return (
    <div id="error-page">
      <h1>Oops!</h1>
      <p>Sorry, an unexpected error has occurred.</p>
      <p>
        <i>{error.statusText || error.message}</i>
      </p>
    </div>
  );
}

==================== C:\Code\recipe-app\frontend\src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;

==================== C:\Code\recipe-app\frontend\src\main.jsx ====================

import * as React from "react";
import * as ReactDOM from "react-dom/client";
import {
  createBrowserRouter,
  RouterProvider,
} from "react-router-dom";
import "./index.css";

import Root from "./routes/root";
import ErrorPage from "./error-page";
import MealPlan from "./routes/meal-plan";
import Home from "./routes/home";
import Recipe from "./routes/recipe";
import RecipeEditor from "./routes/recipe-editor";
import ToDo from "./routes/to-do";

const router = createBrowserRouter([
  {
    path: "/",
    element: <Root />,
    errorElement: <ErrorPage />,
    children: [
      {
        path: "",
        element: <Home />,
      },
      {
        path: "meal-plan/:mealPlanId",
        element: <MealPlan />,
      },
      {
        path: "recipe/:recipeId",
        element: <Recipe />,
      },
      {
        path: "/editor",
        element: <RecipeEditor />
      },
      {
        path: "/editor/:recipeId",
        element: <RecipeEditor />
      },
      {
        path: "/to-do",
        element: <ToDo />
      },
    ],
  },  
]);

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <RouterProvider router={router} />
  </React.StrictMode>
);

==================== C:\Code\recipe-app\frontend\src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\frontend\src\components\Card.jsx ====================

import React from "react";
import classNames from 'classnames';

const colorClasses = {
    base: {
        bg: 'bg-base-100',
        text: 'text-base-content'
    },
    primary: {
        bg: 'bg-primary',
        text: 'text-primary-content'
    },
    secondary: {
        bg: 'bg-secondary',
        text: 'text-secondary-content'
    }
    // Add more colors as needed
};

export default function Card({ children, color = 'base', className }) {
    const colors = colorClasses[color] || colorClasses.base;

    return (
        <div className={classNames("card w-full shadow-xl", colors.bg, colors.text, className)}>
            <div className="card-body p-3">
                {children}
            </div>
        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\components\FlagRadio.jsx ====================

import React from "react";
import { FlagIcon } from "react-flag-kit";

function FlagRadio({ country, code, selectedCountry, handleCountryChange }) {
    const id = code.toLowerCase();

    return (
        <li>
            <input
                type="radio"
                id={`country-${id}`}
                name="country"
                value={code}
                className="hidden peer"
                checked={selectedCountry === code}
                onChange={handleCountryChange}
            />
            <label htmlFor={`country-${id}`} className="btn btn-sm inline-flex peer-checked:btn-accent w-full">
                <FlagIcon code={code} size={16} />
                <span className="text-[10px]">{country}</span>
            </label>
        </li>
    );
}

export default FlagRadio;


==================== C:\Code\recipe-app\frontend\src\components\Header.jsx ====================

import React from "react";
import { Link, NavLink } from "react-router-dom";

export default function Header() {

    const navItems = [
        { to: "/", label: "Home" },
        { to: "/meal-plan/1", label: "Meal plan" },
        { to: "/editor", label: "Recipe editor" },
        { to: "/recipe/0", label: "Recipe details"},
        { to: "/to-do", label: "To-do list"},
    ];

    return (
        <>
            <div className="navbar bg-base-100 shadow z-10 px-6">
                <div className="flex-1">
                    <Link to="/">
                        <a className="text flex gap-2 items-center">                       
                            <span className="font-medium flex gap-1">The<span className="font-bold">Coffey</span>Kitchen</span>
                            <div className="flex justify-center gap-1 absolute mt-7 ml-[35px]">
                                <span className="w-1 h-1 bg-accent rounded-full"></span>
                                <span className="w-1 h-1 bg-secondary rounded-full"></span>
                                <span className="w-1 h-1 bg-primary rounded-full"></span>
                                <span className="w-1 h-1 bg-accent rounded-full"></span>
                                <span className="w-1 h-1 bg-secondary rounded-full"></span>
                                <span className="w-1 h-1 bg-primary rounded-full"></span>
                            </div>
                        </a>
                    </Link>
                </div>
                <div className="flex-none">
                    <div className="dropdown dropdown-end">
                        <div tabIndex={0} role="button" className="btn btn-ghost btn-circle avatar">
                            <div className="w-10 rounded-full">
                                <img
                                    alt="Tailwind CSS Navbar component"
                                    src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
                            </div>
                        </div>
                        <ul
                            tabIndex={0}
                            className="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow">
                            <li>
                                {navItems.map((item, index) => (
                                    <NavLink key={index} to={item.to}>
                                        {item.label}
                                    </NavLink>
                                ))}                               
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </>
    )
}

==================== C:\Code\recipe-app\frontend\src\components\Input.jsx ====================

import React from "react";

export default function Input({ label, disabled, type = "text", value, onChange, required }) {
    return (
        <label className="form-control w-full">
            {label && (
                <div className="label">
                    <span className="label-text text-sm font-medium">{label}</span>
                </div>
            )}
            <input
                type={type}
                placeholder="Type here"
                className="input input-bordered w-full "
                disabled={disabled}
                value={value}
                onChange={onChange}
                required={required}
                {...(type === "number" && {
                    min: "0",
                    inputMode: "numeric",
                    pattern: "[0-9]*",
                    title: "Non-negative integral number"
                })}
            />
        </label>
    );
}


==================== C:\Code\recipe-app\frontend\src\components\MealCard.jsx ====================

import React from "react";
import Card from "./Card";
import { FaPlus, FaPen } from "react-icons/fa";

export default function MealCard({ mealType, meal, side, color, source, icon }) {
    const randomImageNumber = Math.floor(Math.random() * 1000);

    return (
        <div className="flex flex-col gap-2">
            {mealType && (
                <p className="font-bold flex flex-col text-sm">
                    {mealType} <span className={`h-[2px] w-8 bg-${color} mt-[2px]`}></span>
                </p>
            )}
            <Card>
                <div className="flex gap-3 min-h-20 items-center">                   
                    <div className="mask mask-squircle w-16">
                        {meal ?
                            <img src={`https://picsum.photos/500/500?random=${randomImageNumber}`} />
                            :
                            <div className={`bg-${color} w-20 h-20`}></div>
                        }
                    </div>
                    <div className="flex flex-col justify-center items-start flex-1">
                        {source && <span className="text-[8px] uppercase text-black/60 mb-1"><span className="font-bold">{source.author}</span>  {source.book}</span>}
                        {!meal && <span className="text-[8px] uppercase text-black/60 mb-1"><span className="font-bold">Nothing planned yet</span></span>}
                        <span className="font-bold">{meal || "Add a meal"}</span>
                        {side && <span className="text-black/60 text-xs">with {side}</span>}
                        {!meal && <span className="text-black/60 text-xs">Choose something delicious</span>}
                    </div>
                    <button className="btn flex items-center">
                        {icon ? icon : meal ? <FaPen /> : <FaPlus />}
                    </button>
                </div>
            </Card>
        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\components\Modal.jsx ====================

import React from "react";
import { FaWindowClose } from "react-icons/fa";
import { RxCross2 } from "react-icons/rx";

export default function Modal({ title = "Title", children, onClose }) {
    return (
        <div className="bg-black/30 absolute bottom-0 left-0 z-10 w-screen h-dvh flex items-end justify-center p-3 backdrop-blur-sm">
            <div className="bg-base-100 p-6 w-full rounded-xl shadow-lg">
                <div className="border-b flex items-center justify-between pb-2 mb-2">
                    <p className="text-lg font-bold">{title}</p>
                    {onClose && <RxCross2 className="text-4xl cursor-pointer bg-base-200 rounded-full p-2" onClick={onClose} />}
                </div>
                {children}
            </div>
        </div>
    )
}


==================== C:\Code\recipe-app\frontend\src\components\Select.jsx ====================

import React from "react";

export default function Select({ label, options, disabled, value, onChange }) {
    return (
        <label className="form-control w-full">
            {label && (
                <div className="label">
                    <span className="label-text text-sm font-medium">{label}</span>
                </div>
            )}
            <select
                className="select select-bordered w-full truncate"
                value={value}
                disabled={disabled}
                onChange={onChange}
            >
                <option value="">Pick one</option>
                {options.map((option) => (
                    <option key={option.id} value={option.id} className="truncate">{option.label}</option>
                ))}
            </select>
        </label>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\contact.jsx ====================

import { Form } from "react-router-dom";

export default function Contact() {
    const contact = {
        first: "Your",
        last: "Name",
        avatar: "https://robohash.org/you.png?size=200x200",
        twitter: "your_handle",
        notes: "Some notes",
        favorite: true,
    };

    return (
        <>
            <div id="contact">
                <div>
                    <img
                        key={contact.avatar}
                        src={
                            contact.avatar ||
                            `https://robohash.org/${contact.id}.png?size=200x200`
                        }
                    />
                </div>

                <div>
                    <h1>
                        {contact.first || contact.last ? (
                            <>
                                {contact.first} {contact.last}
                            </>
                        ) : (
                            <i>No Name</i>
                        )}{" "}
                        <Favorite contact={contact} />
                    </h1>

                    {contact.twitter && (
                        <p>
                            <a
                                target="_blank"
                                href={`https://twitter.com/${contact.twitter}`}
                            >
                                {contact.twitter}
                            </a>
                        </p>
                    )}

                    {contact.notes && <p>{contact.notes}</p>}

                    <div>
                        <Form action="edit">
                            <button type="submit">Edit</button>
                        </Form>
                        <Form
                            method="post"
                            action="destroy"
                            onSubmit={(event) => {
                                if (
                                    !confirm(
                                        "Please confirm you want to delete this record."
                                    )
                                ) {
                                    event.preventDefault();
                                }
                            }}
                        >
                            <button type="submit">Delete</button>
                        </Form>
                    </div>
                </div>
            </div>
        </>
    );
}

function Favorite({ contact }) {
    const favorite = contact.favorite;
    return (
        <Form method="post">
            <button
                name="favorite"
                value={favorite ? "false" : "true"}
                aria-label={
                    favorite
                        ? "Remove from favorites"
                        : "Add to favorites"
                }
            >
                {favorite ? "" : ""}
            </button>
        </Form>
    );
}

==================== C:\Code\recipe-app\frontend\src\routes\home.jsx ====================

import React from "react";
import Card from "../components/Card";
import { Link } from "react-router-dom";
import MealCard from "../components/MealCard";
import { FaChevronRight } from "react-icons/fa";
import { recipes, authors, books } from "../dummy-data";

export default function Home() {
    const favoriteMeals = recipes.map(recipe => {
        const author = authors.find(author => author.id === recipe.selectedAuthor)?.label || "Unknown Author";
        const book = books.find(book => book.id === recipe.selectedBook)?.label || "Unknown Book";
        return {
            title: recipe.recipeName,
            source: { author, book },
            badge: recipe.selectedCountry,
        };
    });

    const getColor = (index) => {
        const colors = ["accent", "secondary", "primary"];
        return colors[index % colors.length];
    };

    return (
        <>
            <div className="flex flex-col gap-4">
                <h3 className="font-medium">Meal plans</h3>
                <div className="grid grid-cols-9 gap-4">
                    <div className="col-span-5 flex flex-col">
                        <Link to="meal-plan/1" className="w-full h-full">
                            <Card className="text h-full">
                                <div className="flex gap-2 flex-col h-full">
                                    <div className="flex flex-col grow">
                                        <span className="text-lg font-bold">This week</span>
                                        <span className="text-xs">Mon 1 Jul - Sun 7 Jul</span>
                                    </div>
                                    <div className="flex flex-col gap-1">
                                        <div className="grid grid-cols-2 items-center">
                                            <span className="text-xs">Breakfast</span>
                                            <div className="flex h-[16px]">
                                                <div className="bg-accent w-[52%] h-full rounded-l flex items-center justify-end px-1">
                                                    <span className="text-[10px] font-bold">
                                                        4
                                                    </span>
                                                </div>
                                                <div className="bg-neutral h-full flex-grow rounded-r"></div>
                                            </div>
                                        </div>
                                        <div className="grid grid-cols-2 items-center">
                                            <span className="text-xs">Lunch</span>
                                            <div className="flex h-[16px]">
                                                <div className="bg-secondary w-[33%] h-full rounded-l flex items-center justify-end px-1">
                                                    <span className="text-[10px] font-bold">
                                                        2
                                                    </span>
                                                </div>
                                                <div className="bg-neutral h-full flex-grow rounded-r"></div>
                                            </div>
                                        </div>
                                        <div className="grid grid-cols-2 items-center">
                                            <span className="text-xs">Dinner</span>
                                            <div className="flex h-[16px]">
                                                <div className="bg-primary w-[90%] h-full rounded-l flex items-center justify-end px-1">
                                                    <span className="text-[10px] font-bold">
                                                        6
                                                    </span>
                                                </div>
                                                <div className="bg-neutral h-full flex-grow rounded-r"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </Card>
                        </Link>
                    </div>
                    <div className="flex flex-col gap-4 col-span-4">
                        <Card className="flex-grow">
                            <p className="text-lg font-bold">1</p>
                            <p className="text-xs font-medium text-base-content/60">Upcoming</p>
                        </Card>
                        <Card className="flex-grow">
                            <p className="text-lg font-bold">12</p>
                            <p className="text-xs font-medium text-base-content/60">Previous</p>
                        </Card>
                    </div>
                </div>
                <h3 className="font-medium">Favourite meals</h3>
                {favoriteMeals.map((meal, index) => (
                    <Link to={`/recipe/${index + 1}`} key={index} className="w-full">
                        <MealCard
                            key={index}
                            meal={meal.title}
                            color={getColor(index)}
                            source={meal.source}
                            icon={<FaChevronRight />}
                        />
                    </Link>
                ))}
            </div>
        </>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\meal-plan.jsx ====================

import React, { useState } from "react";
import MealCard from "../components/MealCard";

const days = [
    {
        date: "2024-07-01",
        breakfast: null,
        breakfastSide: null,
        breakfastSource: null,
        lunch: "Ham sandwich",
        lunchSide: "Chips",
        lunchSource: { author: "John Doe", book: "Healthy Lunches" },
        dinner: "Spaghetti bolognese",
        dinnerSide: "Garlic bread",
        dinnerSource: { author: "Jane Smith", book: "Classic Italian Dishes" }
    },
    {
        date: "2024-07-02",
        breakfast: "Pancakes",
        breakfastSide: "Syrup",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: null,
        lunchSide: null,
        lunchSource: null,
        dinner: null,
        dinnerSide: null,
        dinnerSource: null
    },
    {
        date: "2024-07-03",
        breakfast: "Omelette",
        breakfastSide: "Toast",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: null,
        lunchSide: null,
        lunchSource: null,
        dinner: "Beef tacos",
        dinnerSide: "Salsa",
        dinnerSource: { author: "Carlos Gomez", book: "Mexican Cuisine" }
    },
    {
        date: "2024-07-04",
        breakfast: "Smoothie",
        breakfastSide: "Fruit salad",
        breakfastSource: { author: "Sarah Lee", book: "Healthy Breakfasts" },
        lunch: "Vegetable stir-fry",
        lunchSide: "Spring rolls",
        lunchSource: { author: "Emily Wang", book: "Asian Cuisine" },
        dinner: null,
        dinnerSide: null,
        dinnerSource: null
    },
    {
        date: "2024-07-05",
        breakfast: "Yogurt and granola",
        breakfastSide: "Berries",
        breakfastSource: { author: "Sarah Lee", book: "Healthy Breakfasts" },
        lunch: "Turkey wrap",
        lunchSide: "Salad",
        lunchSource: { author: "John Doe", book: "Healthy Lunches" },
        dinner: "Pizza",
        dinnerSide: "Garlic bread",
        dinnerSource: { author: "Luigi Rossi", book: "Italian Classics" }
    },
    {
        date: "2024-07-06",
        breakfast: "French toast",
        breakfastSide: "Maple syrup",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: "Caesar salad",
        lunchSide: "Breadsticks",
        lunchSource: { author: "Mary Brown", book: "Salad Recipes" },
        dinner: "Lasagna",
        dinnerSide: "Caesar salad",
        dinnerSource: { author: "Luigi Rossi", book: "Italian Classics" }
    },
    {
        date: "2024-07-07",
        breakfast: "Bagel with cream cheese",
        breakfastSide: "Orange juice",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: "Quinoa salad",
        lunchSide: "Fruit",
        lunchSource: { author: "Mary Brown", book: "Salad Recipes" },
        dinner: "Steak and potatoes",
        dinnerSide: "Green beans",
        dinnerSource: { author: "Gordon Ramsey", book: "Ultimate Cooking" }
    }
];
const getDayOfWeek = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-GB', { weekday: 'short' }).slice(0, 3);
};

const MealPlan = () => {
    const [selectedDate, setSelectedDate] = useState(days[0].date);
    const selectedDay = days.find(day => day.date === selectedDate);  

    return (
        <>
            <h1 className="font-bold">Meal plan details</h1>
            <div className="w-full flex gap-3 my-4 justify-between">
                {days.map((day, index) => (
                    <div
                        key={index}
                        className="flex flex-col items-center "
                        onClick={() => setSelectedDate(day.date)}
                    >
                        <div className="text-[10px] uppercase font-medium text-black/70">{getDayOfWeek(day.date)}</div>
                        <div className={`flex items-center justify-center text-sm font-medium cursor-pointer w-8 h-8 rounded border ${day.date === selectedDate ? 'bg-neutral text-neutral-content' : 'bg-base-100'}`}>
                            <div>{day.date.slice(-2)}</div>
                        </div>
                        <div className="flex justify-center gap-1 mt-1">
                            {day.breakfast && <span className="w-1 h-1 bg-accent rounded-full"></span>}
                            {day.lunch && <span className="w-1 h-1 bg-secondary rounded-full"></span>}
                            {day.dinner && <span className="w-1 h-1 bg-primary rounded-full"></span>}
                        </div>
                    </div>
                ))}
            </div>
            <div className="flex flex-col gap-4">
                <MealCard mealType="Breakfast" meal={selectedDay.breakfast} side={selectedDay.breakfastSide} source={selectedDay.breakfastSource} color="accent" />
                <MealCard mealType="Lunch" meal={selectedDay.lunch} side={selectedDay.lunchSide} source={selectedDay.lunchSource} color="secondary" />
                <MealCard mealType="Dinner" meal={selectedDay.dinner} side={selectedDay.dinnerSide} source={selectedDay.dinnerSource} color="primary" />
            </div>
        </>
    );
}

export default MealPlan;


==================== C:\Code\recipe-app\frontend\src\routes\recipe-editor.jsx ====================

import React, { useState, useEffect } from "react";
import Input from "../components/Input";
import Select from "../components/Select";
import Card from "../components/Card";
import { FaChevronRight, FaPlus } from "react-icons/fa";
import Modal from "../components/Modal";
import FlagRadio from "../components/FlagRadio";
import { NavLink, useParams } from "react-router-dom";
import {authors, books, recipes } from "../dummy-data"

export default function RecipeEditor() {
    const { recipeId } = useParams();
    const [step, setStep] = useState(1);
    const [recipeName, setRecipeName] = useState("");
    const [selectedAuthor, setSelectedAuthor] = useState("");
    const [selectedBook, setSelectedBook] = useState("");
    const [pageNumber, setPageNumber] = useState("");
    const [recipeUrl, setRecipeUrl] = useState("");
    const [selectedType, setSelectedType] = useState("main");
    const [selectedCountry, setSelectedCountry] = useState("");
    const [sourceType, setSourceType] = useState("none");
    const [servings, setServings] = useState(4);
    const [cookingTime, setCookingTime] = useState("");
    const [isAddAuthorModalOpen, setIsAddAuthorModalOpen] = useState(false);
    const [isAddRecipeBookModalOpen, setIsAddRecipeBookModalOpen] = useState(false);
    const [isSuccessModalOpen, setIsSuccessModalOpen] = useState(false);

    useEffect(() => {
        if (recipeId) {
            const recipe = recipes.find(r => r.id === parseInt(recipeId));
            if (recipe) {
                setRecipeName(recipe.recipeName);
                setSelectedAuthor(recipe.selectedAuthor);
                setSelectedBook(recipe.selectedBook);
                setPageNumber(recipe.pageNumber);
                setRecipeUrl(recipe.recipeUrl);
                setSelectedType(recipe.selectedType);
                setSelectedCountry(recipe.selectedCountry);
                setServings(recipe.servings);
                setCookingTime(recipe.cookingTime);
                setSourceType(recipe.recipeUrl ? "online" : "book");
            }
        }
    }, [recipeId]);

    // const authorOptions = [
    //     { id: 1, label: "Jamie Oliver" },
    //     { id: 2, label: "Pinch of Nom" },
    //     { id: 3, label: "Bored of Lunch" },
    //     { id: 4, label: "Good Food" },
    //     { id: 5, label: "Gino D'Acampo" },
    // ];

    // const bookOptions = [
    //     { id: 1, label: "5 Ingredients", authorId: 1 },
    //     { id: 2, label: "Ministry of Food", authorId: 1 },
    //     { id: 3, label: "Quick & Easy", authorId: 2 },
    //     { id: 4, label: "Everyday Light", authorId: 2 },
    //     { id: 5, label: "The Healthy Air Fryer Book", authorId: 3 },
    //     { id: 6, label: "Healthy Slow Cooker: Even Easier", authorId: 3 },
    //     { id: 7, label: "Ultimate Slow Cooker Recipes", authorId: 4 },
    //     { id: 8, label: "Gino's Italian Escape", authorId: 5 },
    //     { id: 9, label: "Gino's Italy", authorId: 5 },
    // ];

    const sourceTypeOptions = [
        { id: "none", label: "None" },
        { id: "book", label: "Recipe book" },
        { id: "online", label: "Online" }
    ];

    const logState = () => {
        console.log({
            recipeName,
            selectedType,
            servings,
            selectedAuthor,
            selectedBook,
            pageNumber,
            recipeUrl,
            cookingTime,
            selectedCountry,
        });
    };

    const handleRecipeNameChange = (event) => {
        setRecipeName(event.target.value);
    };

    const handleAuthorChange = (event) => {
        setSelectedAuthor(event.target.value);
        setSelectedBook("");
        setSourceType("");
        setSelectedBook("");
        setRecipeUrl("");
    };

    const handleBookChange = (event) => {
        setSelectedBook(event.target.value);
    };

    const handlePageNumberChange = (event) => {
        setPageNumber(event.target.value);
    };

    const handleRecipeUrlChange = (event) => {
        setRecipeUrl(event.target.value);
    };

    const handleTypeChange = (event) => {
        setSelectedType(event.target.value);
    };

    const handleCountryChange = (event) => {
        setSelectedCountry(event.target.value);
    };

    const handleSourceTypeChange = (event) => {
        setSourceType(event.target.value);

        setSelectedBook("");
        setRecipeUrl("");
    };

    const handleServingsChange = (event) => {
        setServings(parseInt(event.target.value));
    };

    const handleCookingTimeChange = (event) => {
        setCookingTime(parseInt(event.target.value));
    };

    const handleNextStep = () => {
        setStep((prevStep) => Math.min(prevStep + 1, 3));
    };

    const handleBackStep = () => {
        setStep((prevStep) => Math.max(prevStep - 1, 1));
    };

    const handleRecipeSubmit = () => {
        logState();
        openSuccessModal();
    }

    const isNextButtonDisabled = () => {
        if (step === 1) {
            return !recipeName || !selectedType;
        }
        if (step === 2) {
            return !selectedAuthor;
        }

        if (step === 3) {
            return !selectedCountry;
        }

        return false;
    };

    const filteredBookOptions = books.filter(book => book.authorId === parseInt(selectedAuthor));

    const openAddAuthorModal = () => {
        setIsAddAuthorModalOpen(true);
    };

    const closeAddAuthorModal = () => {
        setIsAddAuthorModalOpen(false);
    };

    const openAddRecipeBookModal = () => {
        setIsAddRecipeBookModalOpen(true);
    };

    const closeAddRecipeBookModal = () => {
        setIsAddRecipeBookModalOpen(false);
    };

    const openSuccessModal = () => {
        setIsSuccessModalOpen(true);
    };

    const closeSuccessModal = () => {
        setIsSuccessModalOpen(false);
    };

    return (
        <div className="flex flex-col gap-4 h-full">
            <div className="flex gap-3 items-center">
                <div className="flex gap-1 items-center">
                    <span className={`block ${step === 1 ? 'bg-accent' : 'bg-gray-200'} text-accent-content w-5 h-5 text-xs rounded flex items-center justify-center font-bold`}>1</span>
                    {step === 1 && <span className="text-xs font-medium">Details</span>}
                </div>
                <span className="text-[8px] text-black/90"><FaChevronRight /></span>
                <div className="flex gap-1 items-center">
                    <span className={`block ${step === 2 ? 'bg-secondary' : 'bg-gray-200'} text-secondary-content w-5 h-5 text-xs rounded flex items-center justify-center font-bold`}>2</span>
                    {step === 2 && <span className="text-xs font-medium">Author</span>}
                </div>
                <span className="text-[8px] text-black/90"><FaChevronRight /></span>
                <div className="flex gap-1 items-center">
                    <span className={`block ${step === 3 ? 'bg-primary' : 'bg-gray-200'} text-primary-content w-5 h-5 text-xs rounded flex items-center justify-center font-bold`}>3</span>
                    {step === 3 && <span className="text-xs font-medium">Other details</span>}
                </div>
            </div>
            <Card className="grow h-full p-2">
                <div className="flex flex-col justify-between h-full">
                    {step === 1 && (
                        <div className="flex flex-col gap-6">
                            <Input
                                label="Recipe name"
                                onChange={handleRecipeNameChange}
                                required
                                value={recipeName}
                            />

                            <div>
                                <div className="label">
                                    <span className="label-text text-sm font-medium">Type</span>
                                </div>
                                <div className="flex gap-2">
                                    <input
                                        type="radio"
                                        name="meal-type"
                                        className="btn btn-sm"
                                        aria-label="Main"
                                        value="main"
                                        onChange={handleTypeChange}
                                        checked={selectedType === "main"}
                                    />
                                    <input
                                        type="radio"
                                        name="meal-type"
                                        className="btn btn-sm"
                                        aria-label="Side"
                                        value="side"
                                        onChange={handleTypeChange}
                                        checked={selectedType === "side"}
                                    />
                                </div>
                            </div>

                            <div>
                                <div className="label">
                                    <span className="label-text text-sm font-medium">Servings</span>
                                </div>
                                <input
                                    type="range"
                                    min={1}
                                    max={5}
                                    value={servings}
                                    className="range"
                                    step={1}
                                    onChange={handleServingsChange}
                                />
                                <div className="flex w-full justify-between px-2 text-xs">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>5</span>
                                </div>
                            </div>

                        </div>
                    )}

                    {step === 2 && (
                        <div className="flex flex-col gap-6">
                            <div className="flex gap-2 items-end">
                                <Select
                                    label="Author"
                                    options={authors}
                                    value={selectedAuthor}
                                    onChange={handleAuthorChange}
                                />
                                <button className="btn" onClick={openAddAuthorModal}><FaPlus /></button>
                            </div>
                            <Select
                                label="Recipe type"
                                options={sourceTypeOptions}
                                disabled={!selectedAuthor}
                                value={sourceType}
                                onChange={handleSourceTypeChange}
                            />
                            <div className="flex gap-2 items-end">
                                <div className="w-full max-w-xs flex-shrink-1">
                                    <Select
                                        label="Recipe book"
                                        options={filteredBookOptions}
                                        disabled={sourceType !== "book"}
                                        value={selectedBook}
                                        onChange={handleBookChange}
                                    />
                                </div>
                                <button
                                    className="btn"
                                    onClick={openAddRecipeBookModal}
                                    disabled={sourceType !== "book"}
                                >
                                    <FaPlus />
                                </button>
                            </div>

                            {sourceType === "book" ? (<Input
                                label="Page number"
                                type="number"
                                disabled={!selectedBook}
                                onChange={handlePageNumberChange}
                                value={pageNumber}
                            />) : <Input
                                label="Recipe URL"
                                onChange={handleRecipeUrlChange}
                                disabled={sourceType !== "online"}
                                value={recipeUrl}
                            />
                            }
                        </div>
                    )}

                    {step === 3 && (
                        <div className="flex flex-col gap-6">
                            <Input
                                label="Cooking time (minutes)"
                                type="number"
                                onChange={handleCookingTimeChange}
                                required
                                value={cookingTime}
                            />

                            <div>
                                <div className="label">
                                    <span className="label-text text-sm font-medium">Cuisine</span>
                                </div>
                                <ul className="grid grid-cols-2 gap-2 w-full flex-wrap">
                                    <FlagRadio code="MX" country="Mexican" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="US" country="American" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="CN" country="Chinese" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="GB" country="British" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="IT" country="Italian" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="ES" country="Spanish" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="FR" country="French" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="IN" country="Indian" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="GR" country="Greek" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="JP" country="Japanese" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="KR" country="Korean" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="TH" country="Thai" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                </ul>
                            </div>
                        </div>
                    )}

                    <div className="flex justify-between gap-4">
                        <div>
                            {step > 1 && <button className="btn btn-ghost" onClick={handleBackStep}>Back</button>}
                        </div>
                        <div className="flex gap-4">
                            <button className="btn px-6">Cancel</button>
                            {step < 3 && (
                                <button className={`btn btn-accent px-6`} onClick={handleNextStep} disabled={isNextButtonDisabled()}>
                                    Next
                                </button>
                            )}
                            {step === 3 && (
                                <button className={`btn btn-secondary px-6`} onClick={handleRecipeSubmit} disabled={isNextButtonDisabled()}>
                                    Finish
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            </Card>

            {isAddAuthorModalOpen && (
                <Modal title="Add Author" onClose={closeAddAuthorModal}>
                    <div className="flex flex-col gap-6">

                        <Input label="Author name" className="w-full" />
                        <button className="btn btn-primary">Add author</button>
                    </div>
                </Modal>
            )}

            {isAddRecipeBookModalOpen && (
                <Modal title="Add recipe book" onClose={closeAddRecipeBookModal}>
                    <div className="flex flex-col gap-6">
                        <Input label="Title" className="w-full" />

                        <Select
                            label="Author"
                            options={authorOptions}
                            value={selectedAuthor}
                            onChange={handleAuthorChange}
                            disabled={true}
                        />
                        <button className="btn btn-primary">Add recipe book</button>
                    </div>
                </Modal>
            )}

            {isSuccessModalOpen && (
                <Modal title="Recipe Added!">
                    <div className="flex flex-col gap-6">
                        <p>Fantastic!  <span className="font-bold">{recipeName}</span>, is now part of the app!</p>
                        <p>But wait, it looks like your recipe still needs some ingredients! Shall we add them now?</p>
                        <button className="btn btn-primary">Let's add ingredients!</button>
                        <NavLink to="/" className="btn">Back to home screen</NavLink>
                    </div>
                </Modal>
            )}


        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\recipe.jsx ====================

import React, { useState, useEffect } from "react";
import { FaHeart } from "react-icons/fa";
import { useParams, Link } from "react-router-dom"; // Import useParams and Link
import { recipes, authors, books } from "../dummy-data"; // Import recipes, authors, and books
import Card from "../components/Card";

export default function Recipe() {
    const { recipeId } = useParams(); // Get recipeId from the URL
    const [recipe, setRecipe] = useState(null);

    useEffect(() => {
        const foundRecipe = recipes.find(r => r.id === parseInt(recipeId));
        if (foundRecipe) {
            const author = authors.find(author => author.id === foundRecipe.selectedAuthor)?.label || "Unknown Author";
            const book = books.find(book => book.id === foundRecipe.selectedBook)?.label || "Unknown Book";

            setRecipe({
                ...foundRecipe,
                author,
                book,
                image: "https://picsum.photos/500/300",
                details: {
                    calories: 345,
                    weight: 250,
                    rating: 4.7,
                    time: foundRecipe.cookingTime,
                },
                tags: ["Breakfast", "Fast", "Easy"],
                ingredients: [
                    { name: "Eggs", quantity: "3 pc" },
                    { name: "Toast bread", quantity: "2 pc" },
                    { name: "Avocado", quantity: "1 pc" },
                    { name: "Tomato", quantity: "1/2 pc" },
                    { name: "Cheese", quantity: "70 g" },
                ],
            });
        }
    }, [recipeId]);

    if (!recipe) {
        return <div>Loading...</div>;
    }

    return (
        <Card>
            <div className="p-2">
                <div className="relative">
                    <img src={recipe.image} alt={recipe.recipeName} className="w-full h-64 object-cover rounded" />
                    <div className="absolute top-2 left-2 bg-white rounded-full p-1">
                        <FaHeart className="text-gray-500" />
                    </div>
                </div>
                <h1 className="text-2xl font-bold mt-4">{recipe.recipeName}</h1>
                <p className="text-sm text-gray-500 mt-2">by {recipe.author}</p>
                <p className="text-sm text-gray-500">from the book {recipe.book}</p>
                <Link to={`/editor/${recipeId}`} className="btn btn-sm btn-accent mt-4">
                    Edit Recipe
                </Link>
                <div className="flex gap-2 mt-4">
                    {recipe.tags.map((tag, index) => (
                        <span key={index} className="bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded">
                            {tag}
                        </span>
                    ))}
                </div>
                <h2 className="text-xl font-semibold mt-4">Ingredients</h2>
                <ul className="list-disc list-inside mt-2">
                    {recipe.ingredients.map((ingredient, index) => (
                        <li key={index}>
                            {ingredient.name} - {ingredient.quantity}
                        </li>
                    ))}
                </ul>
                <div className="mt-4">

                </div>
            </div>
        </Card>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\root.jsx ====================

import { Outlet } from "react-router-dom";
import Header from "../components/Header";

export default function Root() {
    return (
        <div className="flex flex-col h-dvh max-h-dvh bg-base-200 text-base-content items-center">
            <Header />
            <div className="grow overflow-auto p-6 w-full max-w-sm">
                <Outlet />
            </div>
        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\to-do.jsx ====================

import React from "react";
import Card from "../components/Card";

export default function ToDo() {
    return (
        <Card>
            <div className="prose">
                <h3>To do list</h3>
                <ul>
                    <li><s>Recipe editor</s></li>
                    <li>Add step and image upload to recipe editor</li>
                    <li>Ingredient editor inc. add ingredient modal</li>
                    <li>Meal plan list</li>
                    <li>Shopping list</li>
                    <li>Add meal plan modal for home screen inc. calendar</li>
                    <li>Add/edit meal modal on meal plan</li>
                    <li><s>Edit recipe using recipe editor, pre-filled details</s></li>
                    <li>Icons on upcoming and previous cards</li>
                </ul>
            </div>
        </Card>
    );
}

==================== C:\Code\recipe-app\output_server.txt ====================



==================== C:\Code\recipe-app\server\database.py ====================

from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

DATABASE_URL = "sqlite:///../mydatabase2.db"
engine = create_engine(DATABASE_URL, echo=True)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

# Dependency
def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

==================== C:\Code\recipe-app\server\main.py ====================

from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from models import Base
from database import engine
from api.routes import (
    ingredients_router,
    recipes_router,
    users_router,
    ingredient_categories_router,
    ingredient_sub_categories_router,
    recipe_authors_router,
    recipe_books_router,
    recipe_ingredients_router,
    units_router,
    meal_plans_router,
    meal_plan_recipes_router,
    shopping_lists_router,
    shopping_list_ingredients_router,  # Add these lines
)

# Create the tables
Base.metadata.create_all(bind=engine)

# FastAPI instance
app = FastAPI()

# Configure CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:5173"],  # Allows all origins
    allow_credentials=True,
    allow_methods=["*"],  # Allows all methods
    allow_headers=["*"],  # Allows all headers
)

# Include API routes
app.include_router(ingredients_router)
app.include_router(recipes_router)
app.include_router(users_router)
app.include_router(ingredient_categories_router)
app.include_router(ingredient_sub_categories_router)
app.include_router(recipe_authors_router)
app.include_router(recipe_books_router)
app.include_router(recipe_ingredients_router)
app.include_router(units_router)
app.include_router(meal_plans_router)
app.include_router(meal_plan_recipes_router)
app.include_router(shopping_lists_router)  # Add this line
app.include_router(shopping_list_ingredients_router)  # Add this line

@app.get("/")
def read_root():
    return {"Hello": "World"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="127.0.0.1", port=8000, reload=True)


==================== C:\Code\recipe-app\server\api\__init__.py ====================



==================== C:\Code\recipe-app\server\api\routes\ingredients.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import Ingredient as IngredientModel
from schemas.ingredient import Ingredient as IngredientSchema, IngredientCreate, IngredientUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/ingredients")

@router.get("/", response_model=List[IngredientSchema])
def read_ingredients(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    ingredients = db.query(IngredientModel).offset(skip).limit(limit).all()
    return ingredients

@router.post("/", response_model=IngredientSchema, status_code=status.HTTP_201_CREATED)
def create_ingredient(ingredient: IngredientCreate, db: Session = Depends(get_db)):
    db_ingredient = IngredientModel(
        IngredientName=ingredient.IngredientName,
        PurchaseWeightVolume=ingredient.PurchaseWeightVolume,
        PurchaseUnitID=ingredient.PurchaseUnitID,
        SubCategoryID=ingredient.SubCategoryID,
        PurchaseWeightUnitID=ingredient.PurchaseWeightUnitID,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_ingredient)
    db.commit()
    db.refresh(db_ingredient)
    return db_ingredient

@router.put("/{ingredient_id}", response_model=IngredientSchema)
def update_ingredient(ingredient_id: int, ingredient: IngredientUpdate, db: Session = Depends(get_db)):
    db_ingredient = db.query(IngredientModel).filter(IngredientModel.IngredientID == ingredient_id).first()
    if db_ingredient is None:
        raise HTTPException(status_code=404, detail="Ingredient not found")
    for key, value in ingredient.dict().items():
        setattr(db_ingredient, key, value)
    db_ingredient.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_ingredient)
    return db_ingredient

@router.delete("/{ingredient_id}", response_model=IngredientSchema)
def delete_ingredient(ingredient_id: int, db: Session = Depends(get_db)):
    db_ingredient = db.query(IngredientModel).filter(IngredientModel.IngredientID == ingredient_id).first()
    if db_ingredient is None:
        raise HTTPException(status_code=404, detail="Ingredient not found")
    db.delete(db_ingredient)
    db.commit()
    return db_ingredient


==================== C:\Code\recipe-app\server\api\routes\ingredient_categories.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import IngredientCategory as IngredientCategoryModel
from schemas.ingredient_category import IngredientCategory, IngredientCategoryCreate, IngredientCategoryUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/ingredient-categories")

@router.get("/", response_model=List[IngredientCategory])
def read_ingredient_categories(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    ingredient_categories = db.query(IngredientCategoryModel).offset(skip).limit(limit).all()
    return ingredient_categories

@router.post("/", response_model=IngredientCategory, status_code=status.HTTP_201_CREATED)
def create_ingredient_category(ingredient_category: IngredientCategoryCreate, db: Session = Depends(get_db)):
    db_ingredient_category = IngredientCategoryModel(
        CategoryName=ingredient_category.CategoryName,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    try:
        db.add(db_ingredient_category)
        db.commit()
        db.refresh(db_ingredient_category)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Category name already exists.")
    return db_ingredient_category

@router.put("/{category_id}", response_model=IngredientCategory)
def update_ingredient_category(category_id: int, ingredient_category: IngredientCategoryUpdate, db: Session = Depends(get_db)):
    db_ingredient_category = db.query(IngredientCategoryModel).filter(IngredientCategoryModel.CategoryID == category_id).first()
    if db_ingredient_category is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient category not found")
    for key, value in ingredient_category.dict().items():
        setattr(db_ingredient_category, key, value)
    db_ingredient_category.UpdatedAt = datetime.utcnow()
    try:
        db.commit()
        db.refresh(db_ingredient_category)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Category name already exists.")
    return db_ingredient_category

@router.delete("/{category_id}", response_model=IngredientCategory)
def delete_ingredient_category(category_id: int, db: Session = Depends(get_db)):
    db_ingredient_category = db.query(IngredientCategoryModel).filter(IngredientCategoryModel.CategoryID == category_id).first()
    if db_ingredient_category is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient category not found")
    db.delete(db_ingredient_category)
    db.commit()
    return db_ingredient_category


==================== C:\Code\recipe-app\server\api\routes\ingredient_sub_categories.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from typing import List
from database import get_db
from models import IngredientSubCategory as IngredientSubCategoryModel
from schemas.ingredient_sub_category import (
    IngredientSubCategory,
    IngredientSubCategoryCreate,
    IngredientSubCategoryUpdate
)
from datetime import datetime

router = APIRouter(prefix="/api/ingredient-sub-categories")

@router.get("/", response_model=List[IngredientSubCategory])
def read_ingredient_sub_categories(skip: int = 0, limit: int = 1000, db: Session = Depends(get_db)):
    ingredient_sub_categories = db.query(IngredientSubCategoryModel).offset(skip).limit(limit).all()
    return ingredient_sub_categories

@router.get("/{sub_category_id}", response_model=IngredientSubCategory)
def read_ingredient_sub_category(sub_category_id: int, db: Session = Depends(get_db)):
    db_ingredient_sub_category = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.SubCategoryID == sub_category_id).first()
    if not db_ingredient_sub_category:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient sub-category not found")
    return db_ingredient_sub_category

@router.get("/category/{category_id}", response_model=List[IngredientSubCategory])
def read_ingredient_sub_categories_by_category(category_id: int, skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    ingredient_sub_categories = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.CategoryID == category_id).offset(skip).limit(limit).all()
    return ingredient_sub_categories

@router.post("/", response_model=IngredientSubCategory, status_code=status.HTTP_201_CREATED)
def create_ingredient_sub_category(ingredient_sub_category: IngredientSubCategoryCreate, db: Session = Depends(get_db)):
    db_ingredient_sub_category = IngredientSubCategoryModel(
        SubCategoryName=ingredient_sub_category.SubCategoryName,
        CategoryID=ingredient_sub_category.CategoryID,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_ingredient_sub_category)
    db.commit()
    db.refresh(db_ingredient_sub_category)
    return db_ingredient_sub_category

@router.put("/{sub_category_id}", response_model=IngredientSubCategory)
def update_ingredient_sub_category(sub_category_id: int, ingredient_sub_category: IngredientSubCategoryUpdate, db: Session = Depends(get_db)):
    db_ingredient_sub_category = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.SubCategoryID == sub_category_id).first()
    if not db_ingredient_sub_category:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient sub-category not found")
    
    for key, value in ingredient_sub_category.dict().items():
        setattr(db_ingredient_sub_category, key, value)
    db_ingredient_sub_category.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_ingredient_sub_category)
    return db_ingredient_sub_category

@router.delete("/{sub_category_id}", response_model=IngredientSubCategory)
def delete_ingredient_sub_category(sub_category_id: int, db: Session = Depends(get_db)):
    db_ingredient_sub_category = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.SubCategoryID == sub_category_id).first()
    if not db_ingredient_sub_category:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient sub-category not found")
    
    db.delete(db_ingredient_sub_category)
    db.commit()
    return db_ingredient_sub_category


==================== C:\Code\recipe-app\server\api\routes\meal_plans.py ====================

# api/routes/meal_plans.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import MealPlan as MealPlanModel
from schemas.meal_plan import MealPlan as MealPlanSchema, MealPlanCreate, MealPlanUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/meal-plans")

@router.get("/", response_model=List[MealPlanSchema])
def read_meal_plans(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    meal_plans = db.query(MealPlanModel).offset(skip).limit(limit).all()
    return meal_plans

@router.post("/", response_model=MealPlanSchema, status_code=status.HTTP_201_CREATED)
def create_meal_plan(meal_plan: MealPlanCreate, db: Session = Depends(get_db)):
    db_meal_plan = MealPlanModel(
        UserID=meal_plan.UserID,
        PlanName=meal_plan.PlanName,
        StartDate=meal_plan.StartDate,
        EndDate=meal_plan.EndDate,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_meal_plan)
    db.commit()
    db.refresh(db_meal_plan)
    return db_meal_plan

@router.get("/{meal_plan_id}", response_model=MealPlanSchema)
def read_meal_plan(meal_plan_id: int, db: Session = Depends(get_db)):
    meal_plan = db.query(MealPlanModel).filter(MealPlanModel.MealPlanID == meal_plan_id).first()
    if meal_plan is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan not found")
    return meal_plan

@router.put("/{meal_plan_id}", response_model=MealPlanSchema)
def update_meal_plan(meal_plan_id: int, meal_plan: MealPlanUpdate, db: Session = Depends(get_db)):
    db_meal_plan = db.query(MealPlanModel).filter(MealPlanModel.MealPlanID == meal_plan_id).first()
    if db_meal_plan is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan not found")
    for key, value in meal_plan.dict().items():
        setattr(db_meal_plan, key, value)
    db_meal_plan.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_meal_plan)
    return db_meal_plan

@router.delete("/{meal_plan_id}", response_model=MealPlanSchema)
def delete_meal_plan(meal_plan_id: int, db: Session = Depends(get_db)):
    db_meal_plan = db.query(MealPlanModel).filter(MealPlanModel.MealPlanID == meal_plan_id).first()
    if db_meal_plan is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan not found")
    db.delete(db_meal_plan)
    db.commit()
    return db_meal_plan


==================== C:\Code\recipe-app\server\api\routes\meal_plan_recipes.py ====================

# api/routes/meal_plan_recipes.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import MealPlanRecipe as MealPlanRecipeModel
from schemas.meal_plan_recipe import MealPlanRecipe as MealPlanRecipeSchema, MealPlanRecipeCreate, MealPlanRecipeUpdate
from typing import List

router = APIRouter(prefix="/api/meal-plan-recipes")

@router.get("/", response_model=List[MealPlanRecipeSchema])
def read_meal_plan_recipes(skip: int = 0, limit: int = 10000, db: Session = Depends(get_db)):
    meal_plan_recipes = db.query(MealPlanRecipeModel).offset(skip).limit(limit).all()
    return meal_plan_recipes

@router.post("/", response_model=MealPlanRecipeSchema, status_code=status.HTTP_201_CREATED)
def create_meal_plan_recipe(meal_plan_recipe: MealPlanRecipeCreate, db: Session = Depends(get_db)):
    db_meal_plan_recipe = MealPlanRecipeModel(
        MealPlanID=meal_plan_recipe.MealPlanID,
        RecipeID=meal_plan_recipe.RecipeID,
        MealType=meal_plan_recipe.MealType,
        Date=meal_plan_recipe.Date,
    )
    db.add(db_meal_plan_recipe)
    db.commit()
    db.refresh(db_meal_plan_recipe)
    return db_meal_plan_recipe

@router.get("/{meal_plan_recipe_id}", response_model=MealPlanRecipeSchema)
def read_meal_plan_recipe(meal_plan_recipe_id: int, db: Session = Depends(get_db)):
    meal_plan_recipe = db.query(MealPlanRecipeModel).filter(MealPlanRecipeModel.MealPlanRecipeID == meal_plan_recipe_id).first()
    if meal_plan_recipe is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan recipe not found")
    return meal_plan_recipe

@router.put("/{meal_plan_recipe_id}", response_model=MealPlanRecipeSchema)
def update_meal_plan_recipe(meal_plan_recipe_id: int, meal_plan_recipe: MealPlanRecipeUpdate, db: Session = Depends(get_db)):
    db_meal_plan_recipe = db.query(MealPlanRecipeModel).filter(MealPlanRecipeModel.MealPlanRecipeID == meal_plan_recipe_id).first()
    if db_meal_plan_recipe is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan recipe not found")
    for key, value in meal_plan_recipe.dict().items():
        setattr(db_meal_plan_recipe, key, value)
    db.commit()
    db.refresh(db_meal_plan_recipe)
    return db_meal_plan_recipe

@router.delete("/{meal_plan_recipe_id}", response_model=MealPlanRecipeSchema)
def delete_meal_plan_recipe(meal_plan_recipe_id: int, db: Session = Depends(get_db)):
    db_meal_plan_recipe = db.query(MealPlanRecipeModel).filter(MealPlanRecipeModel.MealPlanRecipeID == meal_plan_recipe_id).first()
    if db_meal_plan_recipe is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan recipe not found")
    db.delete(db_meal_plan_recipe)
    db.commit()
    return db_meal_plan_recipe


==================== C:\Code\recipe-app\server\api\routes\recipes.py ====================

from fastapi import APIRouter, Depends, HTTPException
from sqlalchemy.orm import Session
from database import get_db
from models import Recipe as RecipeModel
from schemas.recipe import Recipe as RecipeSchema, RecipeCreate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/recipes")

@router.get("/", response_model=List[RecipeSchema])
def read_recipes(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    recipes = db.query(RecipeModel).offset(skip).limit(limit).all()
    return recipes

@router.post("/", response_model=RecipeSchema, status_code=201)
def create_recipe(recipe: RecipeCreate, db: Session = Depends(get_db)):
    db_recipe = RecipeModel(
        RecipeName=recipe.RecipeName,
        AuthorID=recipe.AuthorID,
        BookID=recipe.BookID,
        PageNumber=recipe.PageNumber,
        OnlineURL=recipe.OnlineURL,
        CookTime=recipe.CookTime,
        Difficulty=recipe.Difficulty,
        Type=recipe.Type,
        ImageURL=recipe.ImageURL,
        Servings=recipe.Servings,
        Cuisine=recipe.Cuisine,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_recipe)
    db.commit()
    db.refresh(db_recipe)
    return db_recipe

@router.get("/{recipe_id}", response_model=RecipeSchema)
def read_recipe(recipe_id: int, db: Session = Depends(get_db)):
    recipe = db.query(RecipeModel).filter(RecipeModel.RecipeID == recipe_id).first()
    if recipe is None:
        raise HTTPException(status_code=404, detail="Recipe not found")
    return recipe

@router.put("/{recipe_id}", response_model=RecipeSchema)
def update_recipe(recipe_id: int, recipe: RecipeCreate, db: Session = Depends(get_db)):
    db_recipe = db.query(RecipeModel).filter(RecipeModel.RecipeID == recipe_id).first()
    if db_recipe is None:
        raise HTTPException(status_code=404, detail="Recipe not found")
    for key, value in recipe.dict().items():
        setattr(db_recipe, key, value)
    db_recipe.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_recipe)
    return db_recipe

@router.delete("/{recipe_id}", response_model=RecipeSchema)
def delete_recipe(recipe_id: int, db: Session = Depends(get_db)):
    db_recipe = db.query(RecipeModel).filter(RecipeModel.RecipeID == recipe_id).first()
    if db_recipe is None:
        raise HTTPException(status_code=404, detail="Recipe not found")
    db.delete(db_recipe)
    db.commit()
    return db_recipe


==================== C:\Code\recipe-app\server\api\routes\recipe_authors.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import RecipeAuthor as RecipeAuthorModel
from schemas.recipe_author import RecipeAuthor as RecipeAuthorSchema, RecipeAuthorCreate, RecipeAuthorUpdate
from typing import List

router = APIRouter(prefix="/api/recipe-authors")

@router.get("/", response_model=List[RecipeAuthorSchema])
def read_recipe_authors(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    recipe_authors = db.query(RecipeAuthorModel).offset(skip).limit(limit).all()
    return recipe_authors

@router.post("/", response_model=RecipeAuthorSchema, status_code=status.HTTP_201_CREATED)
def create_recipe_author(recipe_author: RecipeAuthorCreate, db: Session = Depends(get_db)):
    db_recipe_author = RecipeAuthorModel(
        AuthorName=recipe_author.AuthorName,
        AuthorImageURL=recipe_author.AuthorImageURL,
    )
    db.add(db_recipe_author)
    db.commit()
    db.refresh(db_recipe_author)
    return db_recipe_author

@router.get("/{author_id}", response_model=RecipeAuthorSchema)
def read_recipe_author(author_id: int, db: Session = Depends(get_db)):
    recipe_author = db.query(RecipeAuthorModel).filter(RecipeAuthorModel.AuthorID == author_id).first()
    if recipe_author is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe author not found")
    return recipe_author

@router.put("/{author_id}", response_model=RecipeAuthorSchema)
def update_recipe_author(author_id: int, recipe_author: RecipeAuthorUpdate, db: Session = Depends(get_db)):
    db_recipe_author = db.query(RecipeAuthorModel).filter(RecipeAuthorModel.AuthorID == author_id).first()
    if db_recipe_author is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe author not found")
    for key, value in recipe_author.dict().items():
        setattr(db_recipe_author, key, value)
    db.commit()
    db.refresh(db_recipe_author)
    return db_recipe_author

@router.delete("/{author_id}", response_model=RecipeAuthorSchema)
def delete_recipe_author(author_id: int, db: Session = Depends(get_db)):
    db_recipe_author = db.query(RecipeAuthorModel).filter(RecipeAuthorModel.AuthorID == author_id).first()
    if db_recipe_author is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe author not found")
    db.delete(db_recipe_author)
    db.commit()
    return db_recipe_author


==================== C:\Code\recipe-app\server\api\routes\recipe_books.py ====================

# api/routes/recipe_books.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import RecipeBook as RecipeBookModel
from schemas.recipe_book import RecipeBook as RecipeBookSchema, RecipeBookCreate, RecipeBookUpdate
from typing import List

router = APIRouter(prefix="/api/recipe-books")

@router.get("/", response_model=List[RecipeBookSchema])
def read_recipe_books(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    recipe_books = db.query(RecipeBookModel).offset(skip).limit(limit).all()
    return recipe_books

@router.post("/", response_model=RecipeBookSchema, status_code=status.HTTP_201_CREATED)
def create_recipe_book(recipe_book: RecipeBookCreate, db: Session = Depends(get_db)):
    db_recipe_book = RecipeBookModel(
        AuthorID=recipe_book.AuthorID,
        BookName=recipe_book.BookName,
        CoverArtURL=recipe_book.CoverArtURL,
    )
    db.add(db_recipe_book)
    db.commit()
    db.refresh(db_recipe_book)
    return db_recipe_book

@router.get("/{book_id}", response_model=RecipeBookSchema)
def read_recipe_book(book_id: int, db: Session = Depends(get_db)):
    recipe_book = db.query(RecipeBookModel).filter(RecipeBookModel.BookID == book_id).first()
    if recipe_book is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe book not found")
    return recipe_book

@router.put("/{book_id}", response_model=RecipeBookSchema)
def update_recipe_book(book_id: int, recipe_book: RecipeBookUpdate, db: Session = Depends(get_db)):
    db_recipe_book = db.query(RecipeBookModel).filter(RecipeBookModel.BookID == book_id).first()
    if db_recipe_book is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe book not found")
    for key, value in recipe_book.dict().items():
        setattr(db_recipe_book, key, value)
    db.commit()
    db.refresh(db_recipe_book)
    return db_recipe_book

@router.delete("/{book_id}", response_model=RecipeBookSchema)
def delete_recipe_book(book_id: int, db: Session = Depends(get_db)):
    db_recipe_book = db.query(RecipeBookModel).filter(RecipeBookModel.BookID == book_id).first()
    if db_recipe_book is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe book not found")
    db.delete(db_recipe_book)
    db.commit()
    return db_recipe_book


==================== C:\Code\recipe-app\server\api\routes\recipe_ingredients.py ====================

# api/routes/recipe_ingredients.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from typing import List
from database import get_db
from models import RecipeIngredient as RecipeIngredientModel
from schemas.recipe_ingredient import (
    RecipeIngredient as RecipeIngredientSchema,
    RecipeIngredientCreate,
    RecipeIngredientUpdate
)
from datetime import datetime

router = APIRouter(prefix="/api/recipe-ingredients")

@router.get("/", response_model=List[RecipeIngredientSchema])
def read_recipe_ingredients(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    recipe_ingredients = db.query(RecipeIngredientModel).offset(skip).limit(limit).all()
    return recipe_ingredients

@router.post("/", response_model=RecipeIngredientSchema, status_code=status.HTTP_201_CREATED)
def create_recipe_ingredient(recipe_ingredient: RecipeIngredientCreate, db: Session = Depends(get_db)):
    db_recipe_ingredient = RecipeIngredientModel(
        RecipeID=recipe_ingredient.RecipeID,
        IngredientID=recipe_ingredient.IngredientID,
        SectionID=recipe_ingredient.SectionID,
        Quantity=recipe_ingredient.Quantity,
        UnitID=recipe_ingredient.UnitID
    )
    db.add(db_recipe_ingredient)
    db.commit()
    db.refresh(db_recipe_ingredient)
    return db_recipe_ingredient

@router.put("/{recipe_ingredient_id}", response_model=RecipeIngredientSchema)
def update_recipe_ingredient(recipe_ingredient_id: int, recipe_ingredient: RecipeIngredientUpdate, db: Session = Depends(get_db)):
    db_recipe_ingredient = db.query(RecipeIngredientModel).filter(RecipeIngredientModel.RecipeIngredientID == recipe_ingredient_id).first()
    if db_recipe_ingredient is None:
        raise HTTPException(status_code=404, detail="Recipe ingredient not found")
    for key, value in recipe_ingredient.dict().items():
        setattr(db_recipe_ingredient, key, value)
    db_recipe_ingredient.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_recipe_ingredient)
    return db_recipe_ingredient

@router.delete("/{recipe_ingredient_id}", response_model=RecipeIngredientSchema)
def delete_recipe_ingredient(recipe_ingredient_id: int, db: Session = Depends(get_db)):
    db_recipe_ingredient = db.query(RecipeIngredientModel).filter(RecipeIngredientModel.RecipeIngredientID == recipe_ingredient_id).first()
    if db_recipe_ingredient is None:
        raise HTTPException(status_code=404, detail="Recipe ingredient not found")
    db.delete(db_recipe_ingredient)
    db.commit()
    return db_recipe_ingredient


==================== C:\Code\recipe-app\server\api\routes\shopping_lists.py ====================

# api/routes/shopping_lists.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import ShoppingList as ShoppingListModel
from schemas.shopping_list import ShoppingList as ShoppingListSchema, ShoppingListCreate, ShoppingListUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/shopping-lists")

@router.get("/", response_model=List[ShoppingListSchema])
def read_shopping_lists(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    shopping_lists = db.query(ShoppingListModel).offset(skip).limit(limit).all()
    return shopping_lists

@router.post("/", response_model=ShoppingListSchema, status_code=status.HTTP_201_CREATED)
def create_shopping_list(shopping_list: ShoppingListCreate, db: Session = Depends(get_db)):
    db_shopping_list = ShoppingListModel(
        UserID=shopping_list.UserID,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_shopping_list)
    db.commit()
    db.refresh(db_shopping_list)
    return db_shopping_list

@router.get("/{shopping_list_id}", response_model=ShoppingListSchema)
def read_shopping_list(shopping_list_id: int, db: Session = Depends(get_db)):
    shopping_list = db.query(ShoppingListModel).filter(ShoppingListModel.ShoppingListID == shopping_list_id).first()
    if shopping_list is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list not found")
    return shopping_list

@router.put("/{shopping_list_id}", response_model=ShoppingListSchema)
def update_shopping_list(shopping_list_id: int, shopping_list: ShoppingListUpdate, db: Session = Depends(get_db)):
    db_shopping_list = db.query(ShoppingListModel).filter(ShoppingListModel.ShoppingListID == shopping_list_id).first()
    if db_shopping_list is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list not found")
    for key, value in shopping_list.dict().items():
        setattr(db_shopping_list, key, value)
    db_shopping_list.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_shopping_list)
    return db_shopping_list

@router.delete("/{shopping_list_id}", response_model=ShoppingListSchema)
def delete_shopping_list(shopping_list_id: int, db: Session = Depends(get_db)):
    db_shopping_list = db.query(ShoppingListModel).filter(ShoppingListModel.ShoppingListID == shopping_list_id).first()
    if db_shopping_list is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list not found")
    db.delete(db_shopping_list)
    db.commit()
    return db_shopping_list


==================== C:\Code\recipe-app\server\api\routes\shopping_list_ingredients.py ====================

# api/routes/shopping_list_ingredients.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import ShoppingListIngredient as ShoppingListIngredientModel
from schemas.shopping_list_ingredient import ShoppingListIngredient as ShoppingListIngredientSchema, ShoppingListIngredientCreate, ShoppingListIngredientUpdate
from typing import List

router = APIRouter(prefix="/api/shopping-list-ingredients")

@router.get("/", response_model=List[ShoppingListIngredientSchema])
def read_shopping_list_ingredients(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    shopping_list_ingredients = db.query(ShoppingListIngredientModel).offset(skip).limit(limit).all()
    return shopping_list_ingredients

@router.post("/", response_model=ShoppingListIngredientSchema, status_code=status.HTTP_201_CREATED)
def create_shopping_list_ingredient(shopping_list_ingredient: ShoppingListIngredientCreate, db: Session = Depends(get_db)):
    db_shopping_list_ingredient = ShoppingListIngredientModel(
        ShoppingListID=shopping_list_ingredient.ShoppingListID,
        MealPlanRecipeID=shopping_list_ingredient.MealPlanRecipeID,
        IngredientID=shopping_list_ingredient.IngredientID,
        Quantity=shopping_list_ingredient.Quantity,
        UnitID=shopping_list_ingredient.UnitID,
        IsManual=shopping_list_ingredient.IsManual,
        AlreadyHave=shopping_list_ingredient.AlreadyHave,
        Purchased=shopping_list_ingredient.Purchased,
    )
    db.add(db_shopping_list_ingredient)
    db.commit()
    db.refresh(db_shopping_list_ingredient)
    return db_shopping_list_ingredient

@router.get("/{shopping_list_ingredient_id}", response_model=ShoppingListIngredientSchema)
def read_shopping_list_ingredient(shopping_list_ingredient_id: int, db: Session = Depends(get_db)):
    shopping_list_ingredient = db.query(ShoppingListIngredientModel).filter(ShoppingListIngredientModel.ShoppingListIngredientID == shopping_list_ingredient_id).first()
    if shopping_list_ingredient is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list ingredient not found")
    return shopping_list_ingredient

@router.put("/{shopping_list_ingredient_id}", response_model=ShoppingListIngredientSchema)
def update_shopping_list_ingredient(shopping_list_ingredient_id: int, shopping_list_ingredient: ShoppingListIngredientUpdate, db: Session = Depends(get_db)):
    db_shopping_list_ingredient = db.query(ShoppingListIngredientModel).filter(ShoppingListIngredientModel.ShoppingListIngredientID == shopping_list_ingredient_id).first()
    if db_shopping_list_ingredient is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list ingredient not found")
    for key, value in shopping_list_ingredient.dict().items():
        setattr(db_shopping_list_ingredient, key, value)
    db.commit()
    db.refresh(db_shopping_list_ingredient)
    return db_shopping_list_ingredient

@router.delete("/{shopping_list_ingredient_id}", response_model=ShoppingListIngredientSchema)
def delete_shopping_list_ingredient(shopping_list_ingredient_id: int, db: Session = Depends(get_db)):
    db_shopping_list_ingredient = db.query(ShoppingListIngredientModel).filter(ShoppingListIngredientModel.ShoppingListIngredientID == shopping_list_ingredient_id).first()
    if db_shopping_list_ingredient is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list ingredient not found")
    db.delete(db_shopping_list_ingredient)
    db.commit()
    return db_shopping_list_ingredient


==================== C:\Code\recipe-app\server\api\routes\units.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from typing import List
from database import get_db
from models import Unit as UnitModel
from schemas.unit import Unit as UnitSchema, UnitCreate, UnitUpdate

router = APIRouter(prefix="/api/units")

@router.get("/", response_model=List[UnitSchema])
def read_units(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    units = db.query(UnitModel).offset(skip).limit(limit).all()
    return units

@router.post("/", response_model=UnitSchema, status_code=status.HTTP_201_CREATED)
def create_unit(unit: UnitCreate, db: Session = Depends(get_db)):
    db_unit = UnitModel(
        UnitName=unit.UnitName,
        Abbreviation=unit.Abbreviation,
    )
    db.add(db_unit)
    db.commit()
    db.refresh(db_unit)
    return db_unit

@router.put("/{unit_id}", response_model=UnitSchema)
def update_unit(unit_id: int, unit: UnitUpdate, db: Session = Depends(get_db)):
    db_unit = db.query(UnitModel).filter(UnitModel.UnitID == unit_id).first()
    if db_unit is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Unit not found")
    for key, value in unit.dict().items():
        setattr(db_unit, key, value)
    db.commit()
    db.refresh(db_unit)
    return db_unit

@router.delete("/{unit_id}", response_model=UnitSchema)
def delete_unit(unit_id: int, db: Session = Depends(get_db)):
    db_unit = db.query(UnitModel).filter(UnitModel.UnitID == unit_id).first()
    if db_unit is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Unit not found")
    db.delete(db_unit)
    db.commit()
    return db_unit


==================== C:\Code\recipe-app\server\api\routes\users.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from sqlalchemy.exc import IntegrityError
from database import get_db
from models import User as UserModel
from schemas.user import UserRead, UserCreate, UserLogin
from typing import List
from datetime import datetime
import bcrypt

router = APIRouter(prefix="/api/users")

@router.get("/", response_model=List[UserRead])
def read_users(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    users = db.query(UserModel).offset(skip).limit(limit).all()
    return users

@router.post("/", response_model=UserRead, status_code=status.HTTP_201_CREATED)
def create_user(user: UserCreate, db: Session = Depends(get_db)):
    hashed_password = bcrypt.hashpw(user.Password.encode('utf-8'), bcrypt.gensalt())
    db_user = UserModel(
        Username=user.Username,
        PasswordHash=hashed_password.decode('utf-8'),
        Email=user.Email,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    try:
        db.add(db_user)
        db.commit()
        db.refresh(db_user)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Username or Email already exists.")
    return db_user

@router.post("/login")
def login_user(user: UserLogin, db: Session = Depends(get_db)):
    db_user = db.query(UserModel).filter(UserModel.Username == user.Username).first()
    if not db_user or not bcrypt.checkpw(user.Password.encode('utf-8'), db_user.PasswordHash.encode('utf-8')):
        raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail="Invalid username or password")
    return {"message": "Login successful"}

@router.get("/{user_id}", response_model=UserRead)
def read_user(user_id: int, db: Session = Depends(get_db)):
    user = db.query(UserModel).filter(UserModel.UserID == user_id).first()
    if user is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="User not found")
    return user

@router.put("/{user_id}", response_model=UserRead)
def update_user(user_id: int, user: UserCreate, db: Session = Depends(get_db)):
    db_user = db.query(UserModel).filter(UserModel.UserID == user_id).first()
    if db_user is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="User not found")
    for key, value in user.dict().items():
        if key == "Password":
            value = bcrypt.hashpw(value.encode('utf-8'), bcrypt.gensalt()).decode('utf-8')
        setattr(db_user, key, value)
    db_user.UpdatedAt = datetime.utcnow()
    try:
        db.commit()
        db.refresh(db_user)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Username or Email already exists.")
    return db_user

@router.delete("/{user_id}", response_model=UserRead)
def delete_user(user_id: int, db: Session = Depends(get_db)):
    db_user = db.query(UserModel).filter(UserModel.UserID == user_id).first()
    if db_user is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="User not found")
    db.delete(db_user)
    db.commit()
    return db_user


==================== C:\Code\recipe-app\server\api\routes\__init__.py ====================

from .ingredients import router as ingredients_router
from .recipes import router as recipes_router
from .users import router as users_router
from .ingredient_categories import router as ingredient_categories_router
from .ingredient_sub_categories import router as ingredient_sub_categories_router
from .recipe_authors import router as recipe_authors_router
from .recipe_books import router as recipe_books_router
from .recipe_ingredients import router as recipe_ingredients_router
from .units import router as units_router
from .meal_plans import router as meal_plans_router
from .meal_plan_recipes import router as meal_plan_recipes_router
from .shopping_lists import router as shopping_lists_router
from .shopping_list_ingredients import router as shopping_list_ingredients_router

__all__ = [
    "ingredients_router",
    "recipes_router",
    "users_router",
    "ingredient_categories_router",
    "ingredient_sub_categories_router",
    "recipe_authors_router",
    "recipe_books_router",
    "recipe_ingredients_router",
    "units_router",
    "meal_plans_router",
    "meal_plan_recipes_router",
    "shopping_lists_router",
    "shopping_list_ingredients_router",
]


==================== C:\Code\recipe-app\server\models\base.py ====================

from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()


==================== C:\Code\recipe-app\server\models\ingredient.py ====================

from sqlalchemy import Column, Integer, String, Float, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class Ingredient(Base):
    __tablename__ = "Ingredients"

    IngredientID = Column(Integer, primary_key=True)
    SubCategoryID = Column(Integer, ForeignKey("IngredientSubCategories.SubCategoryID"), nullable=False)
    IngredientName = Column(String, nullable=False)
    PurchaseUnitID = Column(Integer, ForeignKey("Units.UnitID"))
    PurchaseWeightVolume = Column(Float)
    PurchaseWeightUnitID = Column(Integer, ForeignKey("Units.UnitID"))
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    subcategory = relationship("IngredientSubCategory", back_populates="ingredients")
    recipes = relationship("RecipeIngredient", back_populates="ingredient")
    shopping_list_ingredients = relationship("ShoppingListIngredient", back_populates="ingredient")


==================== C:\Code\recipe-app\server\models\ingredient_category.py ====================

from sqlalchemy import Column, Integer, String, TIMESTAMP
from sqlalchemy.orm import relationship
from .base import Base
from datetime import datetime

class IngredientCategory(Base):
    __tablename__ = "IngredientCategories"

    CategoryID = Column(Integer, primary_key=True, index=True, autoincrement=True)
    CategoryName = Column(String, nullable=False, unique=True)
    CreatedAt = Column(TIMESTAMP, default=datetime.utcnow)
    UpdatedAt = Column(TIMESTAMP, default=datetime.utcnow, onupdate=datetime.utcnow)

    subcategories = relationship("IngredientSubCategory", order_by="IngredientSubCategory.SubCategoryID", back_populates="category")


==================== C:\Code\recipe-app\server\models\ingredient_sub_category.py ====================

from sqlalchemy import Column, Integer, String, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class IngredientSubCategory(Base):
    __tablename__ = "IngredientSubCategories"

    SubCategoryID = Column(Integer, primary_key=True)
    CategoryID = Column(Integer, ForeignKey("IngredientCategories.CategoryID"), nullable=False)
    SubCategoryName = Column(String, nullable=False)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    category = relationship("IngredientCategory", back_populates="subcategories")
    ingredients = relationship("Ingredient", order_by="Ingredient.IngredientID", back_populates="subcategory")


==================== C:\Code\recipe-app\server\models\meal_plan.py ====================

from sqlalchemy import Column, Integer, String, Date, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class MealPlan(Base):
    __tablename__ = "MealPlans"

    MealPlanID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"), nullable=False)
    PlanName = Column(String)
    StartDate = Column(Date)
    EndDate = Column(Date)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="meal_plans")
    recipes = relationship("MealPlanRecipe", back_populates="meal_plan")


==================== C:\Code\recipe-app\server\models\meal_plan_recipe.py ====================

from sqlalchemy import Column, Integer, String, Date, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class MealPlanRecipe(Base):
    __tablename__ = "MealPlanRecipes"

    MealPlanRecipeID = Column(Integer, primary_key=True)
    MealPlanID = Column(Integer, ForeignKey("MealPlans.MealPlanID"), nullable=False)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    MealType = Column(String)
    Date = Column(Date, nullable=False)

    meal_plan = relationship("MealPlan", back_populates="recipes")
    recipe = relationship("Recipe", back_populates="meal_plan_recipes")
    shopping_list_ingredients = relationship("ShoppingListIngredient", back_populates="meal_plan_recipe")


==================== C:\Code\recipe-app\server\models\recipe.py ====================

from sqlalchemy import Column, Integer, String, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class Recipe(Base):
    __tablename__ = "Recipes"

    RecipeID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"))
    RecipeName = Column(String, nullable=False)
    AuthorID = Column(Integer, ForeignKey("RecipeAuthors.AuthorID"))
    BookID = Column(Integer, ForeignKey("RecipeBooks.BookID"))
    PageNumber = Column(Integer)
    OnlineURL = Column(String)
    CookTime = Column(Integer)
    Difficulty = Column(String)
    Type = Column(String)
    ImageURL = Column(String)
    Servings = Column(Integer)
    Cuisine = Column(String)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="recipes")
    author = relationship("RecipeAuthor", back_populates="recipes")
    book = relationship("RecipeBook", back_populates="recipes")
    ingredients = relationship("RecipeIngredient", back_populates="recipe")
    sections = relationship("RecipeIngredientSection", back_populates="recipe")
    reviews = relationship("RecipeReview", back_populates="recipe")
    steps = relationship("RecipeStep", back_populates="recipe")
    tags = relationship("RecipeTag", back_populates="recipe")
    meal_plan_recipes = relationship("MealPlanRecipe", back_populates="recipe")


==================== C:\Code\recipe-app\server\models\recipe_author.py ====================

from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import relationship
from .base import Base

class RecipeAuthor(Base):
    __tablename__ = "RecipeAuthors"

    AuthorID = Column(Integer, primary_key=True)
    AuthorName = Column(String, nullable=False)
    AuthorImageURL = Column(String)

    books = relationship("RecipeBook", back_populates="author")
    recipes = relationship("Recipe", back_populates="author")


==================== C:\Code\recipe-app\server\models\recipe_book.py ====================

# models/recipe_book.py
from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeBook(Base):
    __tablename__ = "RecipeBooks"

    BookID = Column(Integer, primary_key=True)
    AuthorID = Column(Integer, ForeignKey("RecipeAuthors.AuthorID"), nullable=False)
    BookName = Column(String, nullable=False)
    CoverArtURL = Column(String)

    author = relationship("RecipeAuthor", back_populates="books")
    recipes = relationship("Recipe", back_populates="book")


==================== C:\Code\recipe-app\server\models\recipe_ingredient.py ====================

from sqlalchemy import Column, Integer, Float, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeIngredient(Base):
    __tablename__ = "RecipeIngredients"

    RecipeIngredientID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    IngredientID = Column(Integer, ForeignKey("Ingredients.IngredientID"), nullable=False)
    SectionID = Column(Integer, ForeignKey("RecipeIngredientSections.SectionID"))
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey("Units.UnitID"))

    recipe = relationship("Recipe", back_populates="ingredients")
    ingredient = relationship("Ingredient", back_populates="recipes")
    section = relationship("RecipeIngredientSection", back_populates="ingredients")
    unit = relationship("Unit", back_populates="recipe_ingredients")


==================== C:\Code\recipe-app\server\models\recipe_ingredient_section.py ====================

from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeIngredientSection(Base):
    __tablename__ = "RecipeIngredientSections"

    SectionID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    SectionName = Column(String, nullable=False)

    recipe = relationship("Recipe", back_populates="sections")
    ingredients = relationship("RecipeIngredient", back_populates="section")


==================== C:\Code\recipe-app\server\models\recipe_review.py ====================

from sqlalchemy import Column, Integer, Float, String, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeReview(Base):
    __tablename__ = "RecipeReviews"

    ReviewID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"), nullable=False)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    Rating = Column(Float, nullable=False)
    ReviewText = Column(String)
    CreatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="reviews")
    recipe = relationship("Recipe", back_populates="reviews")


==================== C:\Code\recipe-app\server\models\recipe_step.py ====================

from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeStep(Base):
    __tablename__ = "RecipeSteps"

    StepID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    StepNumber = Column(Integer, nullable=False)
    Description = Column(String, nullable=False)

    recipe = relationship("Recipe", back_populates="steps")


==================== C:\Code\recipe-app\server\models\recipe_tag.py ====================

from sqlalchemy import Column, Integer, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeTag(Base):
    __tablename__ = "RecipeTags"

    RecipeTagID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    TagID = Column(Integer, ForeignKey("Tags.TagID"), nullable=False)

    recipe = relationship("Recipe", back_populates="tags")
    tag = relationship("Tag", back_populates="recipes")


==================== C:\Code\recipe-app\server\models\shopping_list.py ====================

from sqlalchemy import Column, Integer, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class ShoppingList(Base):
    __tablename__ = "ShoppingLists"

    ShoppingListID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"), nullable=False)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="shopping_lists")
    ingredients = relationship("ShoppingListIngredient", back_populates="shopping_list")


==================== C:\Code\recipe-app\server\models\shopping_list_ingredient.py ====================

from sqlalchemy import Column, Integer, Float, Boolean, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class ShoppingListIngredient(Base):
    __tablename__ = "ShoppingListIngredients"

    ShoppingListIngredientID = Column(Integer, primary_key=True)
    ShoppingListID = Column(Integer, ForeignKey("ShoppingLists.ShoppingListID"), nullable=False)
    MealPlanRecipeID = Column(Integer, ForeignKey("MealPlanRecipes.MealPlanRecipeID"))
    IngredientID = Column(Integer, ForeignKey("Ingredients.IngredientID"), nullable=False)
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey("Units.UnitID"))
    IsManual = Column(Boolean)
    AlreadyHave = Column(Boolean)
    Purchased = Column(Boolean)

    shopping_list = relationship("ShoppingList", back_populates="ingredients")
    meal_plan_recipe = relationship("MealPlanRecipe", back_populates="shopping_list_ingredients")
    ingredient = relationship("Ingredient", back_populates="shopping_list_ingredients")
    unit = relationship("Unit", back_populates="shopping_list_ingredients")


==================== C:\Code\recipe-app\server\models\tag.py ====================

from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import relationship
from .base import Base

class Tag(Base):
    __tablename__ = "Tags"

    TagID = Column(Integer, primary_key=True)
    TagName = Column(String, nullable=False, unique=True)

    recipes = relationship("RecipeTag", back_populates="tag")


==================== C:\Code\recipe-app\server\models\unit.py ====================

from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import relationship
from .base import Base

class Unit(Base):
    __tablename__ = "Units"

    UnitID = Column(Integer, primary_key=True)
    UnitName = Column(String, nullable=False, unique=True)
    Abbreviation = Column(String, nullable=False, unique=True)
    
    recipe_ingredients = relationship("RecipeIngredient", back_populates="unit")
    shopping_list_ingredients = relationship("ShoppingListIngredient", back_populates="unit")
    unit_conversions_from = relationship("UnitConversion", foreign_keys="[UnitConversion.FromUnitID]", back_populates="from_unit")
    unit_conversions_to = relationship("UnitConversion", foreign_keys="[UnitConversion.ToUnitID]", back_populates="to_unit")


==================== C:\Code\recipe-app\server\models\unit_conversion.py ====================

from sqlalchemy import Column, Integer, Float, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class UnitConversion(Base):
    __tablename__ = "UnitConversions"

    FromUnitID = Column(Integer, ForeignKey("Units.UnitID"), primary_key=True)
    ToUnitID = Column(Integer, ForeignKey("Units.UnitID"), primary_key=True)
    ConversionFactor = Column(Float, nullable=False)

    from_unit = relationship("Unit", foreign_keys=[FromUnitID], back_populates="unit_conversions_from")
    to_unit = relationship("Unit", foreign_keys=[ToUnitID], back_populates="unit_conversions_to")


==================== C:\Code\recipe-app\server\models\user.py ====================

from sqlalchemy import Column, Integer, String, DateTime
from datetime import datetime
from sqlalchemy.orm import relationship
from .base import Base

class User(Base):
    __tablename__ = 'Users'
    UserID = Column(Integer, primary_key=True, index=True, autoincrement=True)
    Username = Column(String, unique=True, index=True, nullable=False)
    PasswordHash = Column(String, nullable=False)
    Email = Column(String, unique=True, index=True, nullable=False)
    CreatedAt = Column(DateTime, default=datetime.utcnow)
    UpdatedAt = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)

    recipes = relationship("Recipe", back_populates="user")
    meal_plans = relationship("MealPlan", back_populates="user")
    reviews = relationship("RecipeReview", back_populates="user")
    shopping_lists = relationship("ShoppingList", back_populates="user")


==================== C:\Code\recipe-app\server\models\__init__.py ====================

from .base import Base
from .user import User
from .recipe_author import RecipeAuthor
from .recipe_book import RecipeBook
from .recipe import Recipe
from .ingredient_category import IngredientCategory
from .ingredient_sub_category import IngredientSubCategory
from .ingredient import Ingredient
from .unit import Unit
from .meal_plan import MealPlan
from .meal_plan_recipe import MealPlanRecipe
from .recipe_ingredient import RecipeIngredient
from .recipe_ingredient_section import RecipeIngredientSection
from .recipe_review import RecipeReview
from .recipe_step import RecipeStep
from .recipe_tag import RecipeTag
from .shopping_list import ShoppingList
from .shopping_list_ingredient import ShoppingListIngredient
from .tag import Tag
from .unit_conversion import UnitConversion


==================== C:\Code\recipe-app\server\schemas\ingredient.py ====================

from pydantic import BaseModel
from typing import Optional
from datetime import datetime

class IngredientBase(BaseModel):
    IngredientName: str
    PurchaseWeightVolume: float
    PurchaseUnitID: Optional[int]
    SubCategoryID: int
    PurchaseWeightUnitID: Optional[int]

class IngredientCreate(IngredientBase):
    pass

class IngredientUpdate(IngredientBase):
    pass

class Ingredient(IngredientBase):
    IngredientID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\ingredient_category.py ====================

from pydantic import BaseModel
from datetime import datetime
from typing import List, Optional

class IngredientCategoryBase(BaseModel):
    CategoryName: str

class IngredientCategoryCreate(IngredientCategoryBase):
    pass

class IngredientCategoryUpdate(IngredientCategoryBase):
    pass

class IngredientCategory(IngredientCategoryBase):
    CategoryID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\ingredient_sub_category.py ====================

# schemas/ingredient_sub_category.py

from pydantic import BaseModel
from datetime import datetime

class IngredientSubCategoryBase(BaseModel):
    SubCategoryName: str
    CategoryID: int

class IngredientSubCategoryCreate(IngredientSubCategoryBase):
    pass

class IngredientSubCategoryUpdate(IngredientSubCategoryBase):
    pass

class IngredientSubCategory(IngredientSubCategoryBase):
    SubCategoryID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode: True


==================== C:\Code\recipe-app\server\schemas\meal_plan.py ====================

# schemas/meal_plan.py
from pydantic import BaseModel
from datetime import datetime, date
from typing import List, Optional

class MealPlanBase(BaseModel):
    UserID: int
    PlanName: Optional[str] = None
    StartDate: Optional[date] = None
    EndDate: Optional[date] = None

class MealPlanCreate(MealPlanBase):
    pass

class MealPlanUpdate(MealPlanBase):
    pass

class MealPlan(MealPlanBase):
    MealPlanID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\meal_plan_recipe.py ====================

# schemas/meal_plan_recipe.py
from pydantic import BaseModel
from datetime import date

class MealPlanRecipeBase(BaseModel):
    MealPlanID: int
    RecipeID: int
    MealType: str
    Date: date

class MealPlanRecipeCreate(MealPlanRecipeBase):
    pass

class MealPlanRecipeUpdate(MealPlanRecipeBase):
    pass

class MealPlanRecipe(MealPlanRecipeBase):
    MealPlanRecipeID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe.py ====================

from pydantic import BaseModel
from typing import Optional
from datetime import datetime

class RecipeBase(BaseModel):
    RecipeName: str
    AuthorID: Optional[int] = None
    BookID: Optional[int] = None
    PageNumber: Optional[int] = None
    OnlineURL: Optional[str] = None
    CookTime: Optional[int] = None
    Difficulty: Optional[str] = None
    Type: Optional[str] = None
    ImageURL: Optional[str] = None
    Servings: Optional[int] = None
    Cuisine: Optional[str] = None

class RecipeCreate(RecipeBase):
    pass

class Recipe(RecipeBase):
    RecipeID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe_author.py ====================

from pydantic import BaseModel
from typing import Optional

class RecipeAuthorBase(BaseModel):
    AuthorName: str
    AuthorImageURL: Optional[str] = None

class RecipeAuthorCreate(RecipeAuthorBase):
    pass

class RecipeAuthorUpdate(RecipeAuthorBase):
    pass

class RecipeAuthor(RecipeAuthorBase):
    AuthorID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe_book.py ====================

# schemas/recipe_book.py
from pydantic import BaseModel
from typing import Optional

class RecipeBookBase(BaseModel):
    AuthorID: int
    BookName: str
    CoverArtURL: Optional[str] = None

class RecipeBookCreate(RecipeBookBase):
    pass

class RecipeBookUpdate(RecipeBookBase):
    pass

class RecipeBook(RecipeBookBase):
    BookID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe_ingredient.py ====================

# schemas/recipe_ingredient.py
from pydantic import BaseModel
from typing import Optional
from datetime import datetime

class RecipeIngredientBase(BaseModel):
    RecipeID: int
    IngredientID: int
    SectionID: Optional[int] = None
    Quantity: Optional[float] = None
    UnitID: Optional[int] = None

class RecipeIngredientCreate(RecipeIngredientBase):
    pass

class RecipeIngredientUpdate(RecipeIngredientBase):
    pass

class RecipeIngredient(RecipeIngredientBase):
    RecipeIngredientID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\shopping_list.py ====================

# schemas/shopping_list.py
from pydantic import BaseModel
from datetime import datetime
from typing import List, Optional

class ShoppingListBase(BaseModel):
    UserID: int

class ShoppingListCreate(ShoppingListBase):
    pass

class ShoppingListUpdate(ShoppingListBase):
    pass

class ShoppingList(ShoppingListBase):
    ShoppingListID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\shopping_list_ingredient.py ====================

# schemas/shopping_list_ingredient.py
from pydantic import BaseModel
from typing import Optional

class ShoppingListIngredientBase(BaseModel):
    ShoppingListID: int
    MealPlanRecipeID: Optional[int]
    IngredientID: int
    Quantity: Optional[float]
    UnitID: Optional[int]
    IsManual: Optional[bool]
    AlreadyHave: Optional[bool]
    Purchased: Optional[bool]

class ShoppingListIngredientCreate(ShoppingListIngredientBase):
    pass

class ShoppingListIngredientUpdate(ShoppingListIngredientBase):
    pass

class ShoppingListIngredient(ShoppingListIngredientBase):
    ShoppingListIngredientID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\unit.py ====================

from pydantic import BaseModel
from datetime import datetime

class UnitBase(BaseModel):
    UnitName: str
    Abbreviation: str

class UnitCreate(UnitBase):
    pass

class UnitUpdate(UnitBase):
    pass

class Unit(UnitBase):
    UnitID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\user.py ====================

from pydantic import BaseModel, EmailStr
from datetime import datetime
from typing import Optional

class UserBase(BaseModel):
    Username: str
    Email: EmailStr

class UserCreate(UserBase):
    Password: str

class UserRead(UserBase):
    UserID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True

class UserLogin(BaseModel):
    Username: str
    Password: str


==================== C:\Code\recipe-app\server.txt ====================



==================== C:\Code\recipe-app\backend\mydatabase2.db ====================



==================== C:\Code\recipe-app\backend\run.py ====================

from app import create_app

app = create_app()

if __name__ == '__main__':
    app.run(debug=True)


==================== C:\Code\recipe-app\backend\app\base.py ====================

from datetime import datetime
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class TimestampMixin(object):
    CreatedAt = db.Column(db.DateTime, default=datetime.utcnow)
    UpdatedAt = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)


==================== C:\Code\recipe-app\backend\app\extensions.py ====================

from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()


==================== C:\Code\recipe-app\backend\app\generic_crud.py ====================

from flask import Blueprint
from .utils import get_all, get_by_id, create_record, update_record, delete_record
from . import db

def create_crud_blueprint(model, url_prefix):
    bp = Blueprint(model.__tablename__, __name__, url_prefix=url_prefix)

    @bp.route('/', methods=['GET'])
    def get_records():
        return get_all(model)

    @bp.route('/<int:id>', methods=['GET'])
    def get_record(id):
        return get_by_id(model, id)

    @bp.route('/', methods=['POST'])
    def create():
        return create_record(model)

    @bp.route('/<int:id>', methods=['PUT'])
    def update(id):
        return update_record(model, id)

    @bp.route('/<int:id>', methods=['DELETE'])
    def delete(id):
        return delete_record(model, id)

    return bp


==================== C:\Code\recipe-app\backend\app\models.py ====================

from werkzeug.security import generate_password_hash, check_password_hash
from .extensions import db
from .base import TimestampMixin

class IngredientCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientCategories'
    CategoryID = db.Column(db.Integer, primary_key=True)
    CategoryName = db.Column(db.String, unique=True, nullable=False)

    def to_dict(self):
        return {
            'CategoryID': self.CategoryID,
            'CategoryName': self.CategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Ingredient(db.Model, TimestampMixin):
    __tablename__ = 'Ingredients'
    IngredientID = db.Column(db.Integer, primary_key=True)
    SubCategoryID = db.Column(db.Integer, db.ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = db.Column(db.String, nullable=False)
    PurchaseUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = db.Column(db.Float)
    PurchaseWeightUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))

    def to_dict(self):
        return {
            'IngredientID': self.IngredientID,
            'SubCategoryID': self.SubCategoryID,
            'IngredientName': self.IngredientName,
            'PurchaseUnitID': self.PurchaseUnitID,
            'PurchaseWeightVolume': self.PurchaseWeightVolume,
            'PurchaseWeightUnitID': self.PurchaseWeightUnitID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class IngredientSubCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = db.Column(db.Integer, primary_key=True)
    CategoryID = db.Column(db.Integer, db.ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SubCategoryID': self.SubCategoryID,
            'CategoryID': self.CategoryID,
            'SubCategoryName': self.SubCategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class MealPlanRecipe(db.Model):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = db.Column(db.Integer, primary_key=True)
    MealPlanID = db.Column(db.Integer, db.ForeignKey('MealPlans.MealPlanID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    MealType = db.Column(db.String)
    Date = db.Column(db.Date, nullable=False)

    def to_dict(self):
        return {
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'MealPlanID': self.MealPlanID,
            'RecipeID': self.RecipeID,
            'MealType': self.MealType,
            'Date': self.Date
        }

class MealPlan(db.Model, TimestampMixin):
    __tablename__ = 'MealPlans'
    MealPlanID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    PlanName = db.Column(db.String)
    StartDate = db.Column(db.Date)
    EndDate = db.Column(db.Date)

    def to_dict(self):
        return {
            'MealPlanID': self.MealPlanID,
            'UserID': self.UserID,
            'PlanName': self.PlanName,
            'StartDate': self.StartDate,
            'EndDate': self.EndDate,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeAuthor(db.Model):
    __tablename__ = 'RecipeAuthors'
    AuthorID = db.Column(db.Integer, primary_key=True)
    AuthorName = db.Column(db.String, nullable=False)
    AuthorImageURL = db.Column(db.String)

    def to_dict(self):
        return {
            'AuthorID': self.AuthorID,
            'AuthorName': self.AuthorName,
            'AuthorImageURL': self.AuthorImageURL
        }

class RecipeBook(db.Model):
    __tablename__ = 'RecipeBooks'
    BookID = db.Column(db.Integer, primary_key=True)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='CASCADE'), nullable=False)
    BookName = db.Column(db.String, nullable=False)
    CoverArtURL = db.Column(db.String)

    def to_dict(self):
        return {
            'BookID': self.BookID,
            'AuthorID': self.AuthorID,
            'BookName': self.BookName,
            'CoverArtURL': self.CoverArtURL
        }

class RecipeIngredient(db.Model):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    SectionID = db.Column(db.Integer, db.ForeignKey('RecipeIngredientSections.SectionID', ondelete='CASCADE'))
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))

    def to_dict(self):
        return {
            'RecipeIngredientID': self.RecipeIngredientID,
            'RecipeID': self.RecipeID,
            'IngredientID': self.IngredientID,
            'SectionID': self.SectionID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID
        }

class RecipeIngredientSection(db.Model):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    SectionName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SectionID': self.SectionID,
            'RecipeID': self.RecipeID,
            'SectionName': self.SectionName
        }

class RecipeReview(db.Model):
    __tablename__ = 'RecipeReviews'
    ReviewID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    Rating = db.Column(db.Float, nullable=False)
    ReviewText = db.Column(db.String)

    def to_dict(self):
        return {
            'ReviewID': self.ReviewID,
            'UserID': self.UserID,
            'RecipeID': self.RecipeID,
            'Rating': self.Rating,
            'ReviewText': self.ReviewText
        }

class Recipe(db.Model, TimestampMixin):
    __tablename__ = 'Recipes'
    RecipeID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='SET NULL'))
    RecipeName = db.Column(db.String, nullable=False)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='SET NULL'))
    BookID = db.Column(db.Integer, db.ForeignKey('RecipeBooks.BookID', ondelete='SET NULL'))
    PageNumber = db.Column(db.Integer)
    OnlineURL = db.Column(db.String)
    CookTime = db.Column(db.Integer)
    Difficulty = db.Column(db.String)
    Type = db.Column(db.String)
    ImageURL = db.Column(db.String)
    Servings = db.Column(db.Integer)
    Cuisine = db.Column(db.String)

    def to_dict(self):
        return {
            'RecipeID': self.RecipeID,
            'UserID': self.UserID,
            'RecipeName': self.RecipeName,
            'AuthorID': self.AuthorID,
            'BookID': self.BookID,
            'PageNumber': self.PageNumber,
            'OnlineURL': self.OnlineURL,
            'CookTime': self.CookTime,
            'Difficulty': self.Difficulty,
            'Type': self.Type,
            'ImageURL': self.ImageURL,
            'Servings': self.Servings,
            'Cuisine': self.Cuisine,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeStep(db.Model):
    __tablename__ = 'RecipeSteps'
    StepID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    StepNumber = db.Column(db.Integer, nullable=False)
    Description = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'StepID': self.StepID,
            'RecipeID': self.RecipeID,
            'StepNumber': self.StepNumber,
            'Description': self.Description
        }

class RecipeTag(db.Model):
    __tablename__ = 'RecipeTags'
    RecipeTagID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    TagID = db.Column(db.Integer, db.ForeignKey('Tags.TagID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'RecipeTagID': self.RecipeTagID,
            'RecipeID': self.RecipeID,
            'TagID': self.TagID
        }

class ShoppingListIngredient(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = db.Column(db.Integer, primary_key=True)
    ShoppingListID = db.Column(db.Integer, db.ForeignKey('ShoppingLists.ShoppingListID', ondelete='CASCADE'), nullable=False)
    MealPlanRecipeID = db.Column(db.Integer, db.ForeignKey('MealPlanRecipes.MealPlanRecipeID', ondelete='CASCADE'))
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))
    IsManual = db.Column(db.Boolean)
    AlreadyHave = db.Column(db.Boolean)
    Purchased = db.Column(db.Boolean)

    def to_dict(self):
        return {
            'ShoppingListIngredientID': self.ShoppingListIngredientID,
            'ShoppingListID': self.ShoppingListID,
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'IngredientID': self.IngredientID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID,
            'IsManual': self.IsManual,
            'AlreadyHave': self.AlreadyHave,
            'Purchased': self.Purchased,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class ShoppingList(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'ShoppingListID': self.ShoppingListID,
            'UserID': self.UserID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Tag(db.Model):
    __tablename__ = 'Tags'
    TagID = db.Column(db.Integer, primary_key=True)
    TagName = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'TagID': self.TagID,
            'TagName': self.TagName
        }

class UnitConversion(db.Model):
    __tablename__ = 'UnitConversions'
    FromUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ToUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ConversionFactor = db.Column(db.Float, nullable=False)

    def to_dict(self):
        return {
            'FromUnitID': self.FromUnitID,
            'ToUnitID': self.ToUnitID,
            'ConversionFactor': self.ConversionFactor
        }

class Unit(db.Model):
    __tablename__ = 'Units'
    UnitID = db.Column(db.Integer, primary_key=True)
    UnitName = db.Column(db.String, nullable=False, unique=True)
    Abbreviation = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'UnitID': self.UnitID,
            'UnitName': self.UnitName,
            'Abbreviation': self.Abbreviation
        }

class User(db.Model, TimestampMixin):
    __tablename__ = 'Users'
    UserID = db.Column(db.Integer, primary_key=True)
    Username = db.Column(db.String, nullable=False, unique=True)
    PasswordHash = db.Column(db.String, nullable=False)
    Email = db.Column(db.String, nullable=False, unique=True)

    def set_password(self, password):
        self.PasswordHash = generate_password_hash(password)

    def check_password(self, password):
        return check_password_hash(self.PasswordHash, password)

    def to_dict(self):
        return {
            'UserID': self.UserID,
            'Username': self.Username,
            'Email': self.Email,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }


==================== C:\Code\recipe-app\backend\app\utils.py ====================

from flask import request, jsonify
from sqlalchemy.exc import SQLAlchemyError, IntegrityError
from .extensions import db
from .models import User
from datetime import datetime

def get_all(model):
    try:
        records = model.query.all()
        return jsonify([record.to_dict() for record in records]), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def get_by_id(model, id):
    try:
        record = model.query.get_or_404(id)
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def create_record(model):
    try:
        data = request.get_json()
        if issubclass(model, TimestampMixin):
            if 'CreatedAt' not in data:
                data['CreatedAt'] = datetime.utcnow()
            if 'UpdatedAt' not in data:
                data['UpdatedAt'] = datetime.utcnow()

        if model == User:
            password = data.pop('Password')
            user = model(**data)
            user.set_password(password)
            db.session.add(user)
            db.session.commit()
            return jsonify(user.to_dict()), 201
        else:
            record = model(**data)
            db.session.add(record)
            db.session.commit()
            return jsonify(record.to_dict()), 201
    except IntegrityError as e:
        db.session.rollback()
        return jsonify({'error': 'A record with that unique value already exists.'}), 400
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def update_record(model, id):
    try:
        data = request.get_json()
        record = model.query.get_or_404(id)
        for key, value in data.items():
            setattr(record, key, value)
        if issubclass(model, TimestampMixin):
            record.UpdatedAt = datetime.utcnow()
        db.session.commit()
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def delete_record(model, id):
    try:
        record = model.query.get_or_404(id)
        db.session.delete(record)
        db.session.commit()
        return '', 204
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500


==================== C:\Code\recipe-app\backend\app\__init__.py ====================

from flask import Flask
from .extensions import db
from .models import IngredientCategory, Ingredient, IngredientSubCategory, MealPlanRecipe, MealPlan, RecipeAuthor, RecipeBook, RecipeIngredient, RecipeIngredientSection, RecipeReview, Recipe, RecipeStep, RecipeTag, ShoppingListIngredient, ShoppingList, Tag, UnitConversion, Unit, User
from .generic_crud import create_crud_blueprint
from sqlalchemy import inspect

def create_app():
    app = Flask(__name__)
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///../../mydatabase2.db'
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

    db.init_app(app)
    
    with app.app_context():
        # Print all tables in the database
        inspector = inspect(db.engine)
        print(inspector.get_table_names())

    # Register blueprints
    app.register_blueprint(create_crud_blueprint(IngredientCategory, '/ingredient_categories'))
    app.register_blueprint(create_crud_blueprint(Ingredient, '/ingredients'))
    app.register_blueprint(create_crud_blueprint(IngredientSubCategory, '/ingredient_subcategories'))
    app.register_blueprint(create_crud_blueprint(MealPlanRecipe, '/meal_plan_recipes'))
    app.register_blueprint(create_crud_blueprint(MealPlan, '/meal_plans'))
    app.register_blueprint(create_crud_blueprint(RecipeAuthor, '/recipe_authors'))
    app.register_blueprint(create_crud_blueprint(RecipeBook, '/recipe_books'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredient, '/recipe_ingredients'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredientSection, '/recipe_ingredient_sections'))
    app.register_blueprint(create_crud_blueprint(RecipeReview, '/recipe_reviews'))
    app.register_blueprint(create_crud_blueprint(Recipe, '/recipes'))
    app.register_blueprint(create_crud_blueprint(RecipeStep, '/recipe_steps'))
    app.register_blueprint(create_crud_blueprint(RecipeTag, '/recipe_tags'))
    app.register_blueprint(create_crud_blueprint(ShoppingListIngredient, '/shopping_list_ingredients'))
    app.register_blueprint(create_crud_blueprint(ShoppingList, '/shopping_lists'))
    app.register_blueprint(create_crud_blueprint(Tag, '/tags'))
    app.register_blueprint(create_crud_blueprint(UnitConversion, '/unit_conversions'))
    app.register_blueprint(create_crud_blueprint(Unit, '/units'))
    app.register_blueprint(create_crud_blueprint(User, '/users'))

    return app


==================== C:\Code\recipe-app\backend\instance\mydatabase2.db ====================



==================== C:\Code\recipe-app\backend\mydatabase2.db ====================



==================== C:\Code\recipe-app\backend\run.py ====================

from app import create_app

app = create_app()

if __name__ == '__main__':
    app.run(debug=True)


==================== C:\Code\recipe-app\backend\app\base.py ====================

from datetime import datetime
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class TimestampMixin(object):
    CreatedAt = db.Column(db.DateTime, default=datetime.utcnow)
    UpdatedAt = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)


==================== C:\Code\recipe-app\backend\app\extensions.py ====================

from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()


==================== C:\Code\recipe-app\backend\app\generic_crud.py ====================

from flask import Blueprint
from .utils import get_all, get_by_id, create_record, update_record, delete_record
from . import db

def create_crud_blueprint(model, url_prefix):
    bp = Blueprint(model.__tablename__, __name__, url_prefix=url_prefix)

    @bp.route('/', methods=['GET'])
    def get_records():
        return get_all(model)

    @bp.route('/<int:id>', methods=['GET'])
    def get_record(id):
        return get_by_id(model, id)

    @bp.route('/', methods=['POST'])
    def create():
        return create_record(model)

    @bp.route('/<int:id>', methods=['PUT'])
    def update(id):
        return update_record(model, id)

    @bp.route('/<int:id>', methods=['DELETE'])
    def delete(id):
        return delete_record(model, id)

    return bp


==================== C:\Code\recipe-app\backend\app\models.py ====================

from werkzeug.security import generate_password_hash, check_password_hash
from .extensions import db
from .base import TimestampMixin

class IngredientCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientCategories'
    CategoryID = db.Column(db.Integer, primary_key=True)
    CategoryName = db.Column(db.String, unique=True, nullable=False)

    def to_dict(self):
        return {
            'CategoryID': self.CategoryID,
            'CategoryName': self.CategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Ingredient(db.Model, TimestampMixin):
    __tablename__ = 'Ingredients'
    IngredientID = db.Column(db.Integer, primary_key=True)
    SubCategoryID = db.Column(db.Integer, db.ForeignKey('IngredientSubCategories.SubCategoryID'), nullable=False)
    IngredientName = db.Column(db.String, nullable=False)
    PurchaseUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))
    PurchaseWeightVolume = db.Column(db.Float)
    PurchaseWeightUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID'))

    def to_dict(self):
        return {
            'IngredientID': self.IngredientID,
            'SubCategoryID': self.SubCategoryID,
            'IngredientName': self.IngredientName,
            'PurchaseUnitID': self.PurchaseUnitID,
            'PurchaseWeightVolume': self.PurchaseWeightVolume,
            'PurchaseWeightUnitID': self.PurchaseWeightUnitID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class IngredientSubCategory(db.Model, TimestampMixin):
    __tablename__ = 'IngredientSubCategories'
    SubCategoryID = db.Column(db.Integer, primary_key=True)
    CategoryID = db.Column(db.Integer, db.ForeignKey('IngredientCategories.CategoryID'), nullable=False)
    SubCategoryName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SubCategoryID': self.SubCategoryID,
            'CategoryID': self.CategoryID,
            'SubCategoryName': self.SubCategoryName,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class MealPlanRecipe(db.Model):
    __tablename__ = 'MealPlanRecipes'
    MealPlanRecipeID = db.Column(db.Integer, primary_key=True)
    MealPlanID = db.Column(db.Integer, db.ForeignKey('MealPlans.MealPlanID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    MealType = db.Column(db.String)
    Date = db.Column(db.Date, nullable=False)

    def to_dict(self):
        return {
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'MealPlanID': self.MealPlanID,
            'RecipeID': self.RecipeID,
            'MealType': self.MealType,
            'Date': self.Date
        }

class MealPlan(db.Model, TimestampMixin):
    __tablename__ = 'MealPlans'
    MealPlanID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    PlanName = db.Column(db.String)
    StartDate = db.Column(db.Date)
    EndDate = db.Column(db.Date)

    def to_dict(self):
        return {
            'MealPlanID': self.MealPlanID,
            'UserID': self.UserID,
            'PlanName': self.PlanName,
            'StartDate': self.StartDate,
            'EndDate': self.EndDate,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeAuthor(db.Model):
    __tablename__ = 'RecipeAuthors'
    AuthorID = db.Column(db.Integer, primary_key=True)
    AuthorName = db.Column(db.String, nullable=False)
    AuthorImageURL = db.Column(db.String)

    def to_dict(self):
        return {
            'AuthorID': self.AuthorID,
            'AuthorName': self.AuthorName,
            'AuthorImageURL': self.AuthorImageURL
        }

class RecipeBook(db.Model):
    __tablename__ = 'RecipeBooks'
    BookID = db.Column(db.Integer, primary_key=True)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='CASCADE'), nullable=False)
    BookName = db.Column(db.String, nullable=False)
    CoverArtURL = db.Column(db.String)

    def to_dict(self):
        return {
            'BookID': self.BookID,
            'AuthorID': self.AuthorID,
            'BookName': self.BookName,
            'CoverArtURL': self.CoverArtURL
        }

class RecipeIngredient(db.Model):
    __tablename__ = 'RecipeIngredients'
    RecipeIngredientID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    SectionID = db.Column(db.Integer, db.ForeignKey('RecipeIngredientSections.SectionID', ondelete='CASCADE'))
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))

    def to_dict(self):
        return {
            'RecipeIngredientID': self.RecipeIngredientID,
            'RecipeID': self.RecipeID,
            'IngredientID': self.IngredientID,
            'SectionID': self.SectionID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID
        }

class RecipeIngredientSection(db.Model):
    __tablename__ = 'RecipeIngredientSections'
    SectionID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    SectionName = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'SectionID': self.SectionID,
            'RecipeID': self.RecipeID,
            'SectionName': self.SectionName
        }

class RecipeReview(db.Model):
    __tablename__ = 'RecipeReviews'
    ReviewID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    Rating = db.Column(db.Float, nullable=False)
    ReviewText = db.Column(db.String)

    def to_dict(self):
        return {
            'ReviewID': self.ReviewID,
            'UserID': self.UserID,
            'RecipeID': self.RecipeID,
            'Rating': self.Rating,
            'ReviewText': self.ReviewText
        }

class Recipe(db.Model, TimestampMixin):
    __tablename__ = 'Recipes'
    RecipeID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='SET NULL'))
    RecipeName = db.Column(db.String, nullable=False)
    AuthorID = db.Column(db.Integer, db.ForeignKey('RecipeAuthors.AuthorID', ondelete='SET NULL'))
    BookID = db.Column(db.Integer, db.ForeignKey('RecipeBooks.BookID', ondelete='SET NULL'))
    PageNumber = db.Column(db.Integer)
    OnlineURL = db.Column(db.String)
    CookTime = db.Column(db.Integer)
    Difficulty = db.Column(db.String)
    Type = db.Column(db.String)
    ImageURL = db.Column(db.String)
    Servings = db.Column(db.Integer)
    Cuisine = db.Column(db.String)

    def to_dict(self):
        return {
            'RecipeID': self.RecipeID,
            'UserID': self.UserID,
            'RecipeName': self.RecipeName,
            'AuthorID': self.AuthorID,
            'BookID': self.BookID,
            'PageNumber': self.PageNumber,
            'OnlineURL': self.OnlineURL,
            'CookTime': self.CookTime,
            'Difficulty': self.Difficulty,
            'Type': self.Type,
            'ImageURL': self.ImageURL,
            'Servings': self.Servings,
            'Cuisine': self.Cuisine,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class RecipeStep(db.Model):
    __tablename__ = 'RecipeSteps'
    StepID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    StepNumber = db.Column(db.Integer, nullable=False)
    Description = db.Column(db.String, nullable=False)

    def to_dict(self):
        return {
            'StepID': self.StepID,
            'RecipeID': self.RecipeID,
            'StepNumber': self.StepNumber,
            'Description': self.Description
        }

class RecipeTag(db.Model):
    __tablename__ = 'RecipeTags'
    RecipeTagID = db.Column(db.Integer, primary_key=True)
    RecipeID = db.Column(db.Integer, db.ForeignKey('Recipes.RecipeID', ondelete='CASCADE'), nullable=False)
    TagID = db.Column(db.Integer, db.ForeignKey('Tags.TagID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'RecipeTagID': self.RecipeTagID,
            'RecipeID': self.RecipeID,
            'TagID': self.TagID
        }

class ShoppingListIngredient(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingListIngredients'
    ShoppingListIngredientID = db.Column(db.Integer, primary_key=True)
    ShoppingListID = db.Column(db.Integer, db.ForeignKey('ShoppingLists.ShoppingListID', ondelete='CASCADE'), nullable=False)
    MealPlanRecipeID = db.Column(db.Integer, db.ForeignKey('MealPlanRecipes.MealPlanRecipeID', ondelete='CASCADE'))
    IngredientID = db.Column(db.Integer, db.ForeignKey('Ingredients.IngredientID', ondelete='CASCADE'), nullable=False)
    Quantity = db.Column(db.Float)
    UnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='SET NULL'))
    IsManual = db.Column(db.Boolean)
    AlreadyHave = db.Column(db.Boolean)
    Purchased = db.Column(db.Boolean)

    def to_dict(self):
        return {
            'ShoppingListIngredientID': self.ShoppingListIngredientID,
            'ShoppingListID': self.ShoppingListID,
            'MealPlanRecipeID': self.MealPlanRecipeID,
            'IngredientID': self.IngredientID,
            'Quantity': self.Quantity,
            'UnitID': self.UnitID,
            'IsManual': self.IsManual,
            'AlreadyHave': self.AlreadyHave,
            'Purchased': self.Purchased,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class ShoppingList(db.Model, TimestampMixin):
    __tablename__ = 'ShoppingLists'
    ShoppingListID = db.Column(db.Integer, primary_key=True)
    UserID = db.Column(db.Integer, db.ForeignKey('Users.UserID', ondelete='CASCADE'), nullable=False)

    def to_dict(self):
        return {
            'ShoppingListID': self.ShoppingListID,
            'UserID': self.UserID,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }

class Tag(db.Model):
    __tablename__ = 'Tags'
    TagID = db.Column(db.Integer, primary_key=True)
    TagName = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'TagID': self.TagID,
            'TagName': self.TagName
        }

class UnitConversion(db.Model):
    __tablename__ = 'UnitConversions'
    FromUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ToUnitID = db.Column(db.Integer, db.ForeignKey('Units.UnitID', ondelete='CASCADE'), primary_key=True)
    ConversionFactor = db.Column(db.Float, nullable=False)

    def to_dict(self):
        return {
            'FromUnitID': self.FromUnitID,
            'ToUnitID': self.ToUnitID,
            'ConversionFactor': self.ConversionFactor
        }

class Unit(db.Model):
    __tablename__ = 'Units'
    UnitID = db.Column(db.Integer, primary_key=True)
    UnitName = db.Column(db.String, nullable=False, unique=True)
    Abbreviation = db.Column(db.String, nullable=False, unique=True)

    def to_dict(self):
        return {
            'UnitID': self.UnitID,
            'UnitName': self.UnitName,
            'Abbreviation': self.Abbreviation
        }

class User(db.Model, TimestampMixin):
    __tablename__ = 'Users'
    UserID = db.Column(db.Integer, primary_key=True)
    Username = db.Column(db.String, nullable=False, unique=True)
    PasswordHash = db.Column(db.String, nullable=False)
    Email = db.Column(db.String, nullable=False, unique=True)

    def set_password(self, password):
        self.PasswordHash = generate_password_hash(password)

    def check_password(self, password):
        return check_password_hash(self.PasswordHash, password)

    def to_dict(self):
        return {
            'UserID': self.UserID,
            'Username': self.Username,
            'Email': self.Email,
            'CreatedAt': self.CreatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.CreatedAt else None,
            'UpdatedAt': self.UpdatedAt.strftime('%Y-%m-%d %H:%M:%S') if self.UpdatedAt else None
        }


==================== C:\Code\recipe-app\backend\app\utils.py ====================

from flask import request, jsonify
from sqlalchemy.exc import SQLAlchemyError, IntegrityError
from .extensions import db
from .models import User
from datetime import datetime

def get_all(model):
    try:
        records = model.query.all()
        return jsonify([record.to_dict() for record in records]), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def get_by_id(model, id):
    try:
        record = model.query.get_or_404(id)
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        return jsonify({'error': str(e)}), 500

def create_record(model):
    try:
        data = request.get_json()
        if issubclass(model, TimestampMixin):
            if 'CreatedAt' not in data:
                data['CreatedAt'] = datetime.utcnow()
            if 'UpdatedAt' not in data:
                data['UpdatedAt'] = datetime.utcnow()

        if model == User:
            password = data.pop('Password')
            user = model(**data)
            user.set_password(password)
            db.session.add(user)
            db.session.commit()
            return jsonify(user.to_dict()), 201
        else:
            record = model(**data)
            db.session.add(record)
            db.session.commit()
            return jsonify(record.to_dict()), 201
    except IntegrityError as e:
        db.session.rollback()
        return jsonify({'error': 'A record with that unique value already exists.'}), 400
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def update_record(model, id):
    try:
        data = request.get_json()
        record = model.query.get_or_404(id)
        for key, value in data.items():
            setattr(record, key, value)
        if issubclass(model, TimestampMixin):
            record.UpdatedAt = datetime.utcnow()
        db.session.commit()
        return jsonify(record.to_dict()), 200
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500

def delete_record(model, id):
    try:
        record = model.query.get_or_404(id)
        db.session.delete(record)
        db.session.commit()
        return '', 204
    except SQLAlchemyError as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500


==================== C:\Code\recipe-app\backend\app\__init__.py ====================

from flask import Flask
from .extensions import db
from .models import IngredientCategory, Ingredient, IngredientSubCategory, MealPlanRecipe, MealPlan, RecipeAuthor, RecipeBook, RecipeIngredient, RecipeIngredientSection, RecipeReview, Recipe, RecipeStep, RecipeTag, ShoppingListIngredient, ShoppingList, Tag, UnitConversion, Unit, User
from .generic_crud import create_crud_blueprint
from sqlalchemy import inspect

def create_app():
    app = Flask(__name__)
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///../../mydatabase2.db'
    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

    db.init_app(app)
    
    with app.app_context():
        # Print all tables in the database
        inspector = inspect(db.engine)
        print(inspector.get_table_names())

    # Register blueprints
    app.register_blueprint(create_crud_blueprint(IngredientCategory, '/ingredient_categories'))
    app.register_blueprint(create_crud_blueprint(Ingredient, '/ingredients'))
    app.register_blueprint(create_crud_blueprint(IngredientSubCategory, '/ingredient_subcategories'))
    app.register_blueprint(create_crud_blueprint(MealPlanRecipe, '/meal_plan_recipes'))
    app.register_blueprint(create_crud_blueprint(MealPlan, '/meal_plans'))
    app.register_blueprint(create_crud_blueprint(RecipeAuthor, '/recipe_authors'))
    app.register_blueprint(create_crud_blueprint(RecipeBook, '/recipe_books'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredient, '/recipe_ingredients'))
    app.register_blueprint(create_crud_blueprint(RecipeIngredientSection, '/recipe_ingredient_sections'))
    app.register_blueprint(create_crud_blueprint(RecipeReview, '/recipe_reviews'))
    app.register_blueprint(create_crud_blueprint(Recipe, '/recipes'))
    app.register_blueprint(create_crud_blueprint(RecipeStep, '/recipe_steps'))
    app.register_blueprint(create_crud_blueprint(RecipeTag, '/recipe_tags'))
    app.register_blueprint(create_crud_blueprint(ShoppingListIngredient, '/shopping_list_ingredients'))
    app.register_blueprint(create_crud_blueprint(ShoppingList, '/shopping_lists'))
    app.register_blueprint(create_crud_blueprint(Tag, '/tags'))
    app.register_blueprint(create_crud_blueprint(UnitConversion, '/unit_conversions'))
    app.register_blueprint(create_crud_blueprint(Unit, '/units'))
    app.register_blueprint(create_crud_blueprint(User, '/users'))

    return app


==================== C:\Code\recipe-app\backend\instance\mydatabase2.db ====================



==================== C:\Code\recipe-app\client\.eslintrc.cjs ====================

module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:react/jsx-runtime',
    'plugin:react-hooks/recommended',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parserOptions: { ecmaVersion: 'latest', sourceType: 'module' },
  settings: { react: { version: '18.2' } },
  plugins: ['react-refresh'],
  rules: {
    'react/jsx-no-target-blank': 'off',
    'react-refresh/only-export-components': [
      'warn',
      { allowConstantExport: true },
    ],
  },
}


==================== C:\Code\recipe-app\client\index.html ====================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================== C:\Code\recipe-app\client\postcss.config.js ====================

export default {
    plugins: {
      tailwindcss: {},
      autoprefixer: {},
    },
  };
  

==================== C:\Code\recipe-app\client\README.md ====================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh


==================== C:\Code\recipe-app\client\tailwind.config.js ====================

/** @type {import('tailwindcss').Config} */
module.exports = {
    content: [
      "./src/**/*.{js,jsx,ts,tsx}",
    ],
    theme: {
      extend: {},
    },
    plugins: [
      require('daisyui'),
    ],
    daisyui: {
      themes: ["light", "dark", "cupcake", "bumblebee", "emerald", "corporate", "synthwave", "retro", "cyberpunk", "valentine", "halloween", "garden", "forest", "aqua", "lofi", "pastel", "fantasy", "wireframe", "black", "luxury", "dracula", "cmyk", "autumn", "business", "acid", "lemonade", "night", "coffee", "winter"],
    },
  }
  

==================== C:\Code\recipe-app\client\vite.config.js ====================

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
});


==================== C:\Code\recipe-app\client\public\vite.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>

==================== C:\Code\recipe-app\client\src\App.css ====================



==================== C:\Code\recipe-app\client\src\App.jsx ====================

import React from 'react';
import AppRoutes from './routes';
import NavBar from './components/NavBar';
import { useAuth } from './context/AuthContext';
import SideBar from './components/SideBar';

function App() {
  const { isAuthenticated } = useAuth();

  return (
    <div className="flex flex-col min-h-screen">
      <NavBar />
      <div className="flex grow">
        {isAuthenticated && <SideBar />}
        <AppRoutes />
      </div>
    </div>
  );
}

export default App;


==================== C:\Code\recipe-app\client\src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;


==================== C:\Code\recipe-app\client\src\main.jsx ====================

import React from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { AuthProvider } from './context/AuthContext';
import { DataProvider } from './context/DataContext';

const rootElement = document.getElementById('root');
const root = createRoot(rootElement);

root.render(
  <BrowserRouter>
    <AuthProvider>
      <DataProvider>
        <App />
      </DataProvider>
    </AuthProvider>
  </BrowserRouter>
);


==================== C:\Code\recipe-app\client\src\routes.jsx ====================

// src/routes.jsx

import React from 'react';
import { Routes, Route } from 'react-router-dom';
import Login from './pages/Login';
import Dashboard from './pages/Dashboard';
import Register from './pages/Register';
import ManageCategories from './pages/ManageCategories';
import ManageSubCategories from './pages/ManageSubCategories';
import ManageIngredients from './pages/ManageIngredients';
import ManageRecipes from './pages/ManageRecipes';
import ManageAuthors from './pages/ManageAuthors';
import ManageRecipeBooks from './pages/ManageRecipeBooks';
import ManageMealPlans from './pages/ManageMealPlans';
import PrivateRoute from './components/PrivateRoute';
import MealPlanDetails from './pages/MealPlanDetails';

import Home from './pages/Home';

function AppRoutes() {
  return (
    <Routes>
      <Route path="login" element={<Login />} />
      <Route path="register" element={<Register />} />
      <Route path="/" element={<PrivateRoute><Home /></PrivateRoute>} />
      <Route path="/meal-plan/:mealPlanId" element={<PrivateRoute><MealPlanDetails /></PrivateRoute>} />
      <Route path="admin">
        <Route index element={<PrivateRoute><Dashboard /></PrivateRoute>} />
        <Route path="manage-categories" element={<PrivateRoute><ManageCategories /></PrivateRoute>} />
        <Route path="manage-sub-categories" element={<PrivateRoute><ManageSubCategories /></PrivateRoute>} />
        <Route path="manage-ingredients" element={<PrivateRoute><ManageIngredients /></PrivateRoute>} />
        <Route path="manage-recipes" element={<PrivateRoute><ManageRecipes /></PrivateRoute>} />
        <Route path="manage-authors" element={<PrivateRoute><ManageAuthors /></PrivateRoute>} />
        <Route path="manage-recipe-books" element={<PrivateRoute><ManageRecipeBooks /></PrivateRoute>} />
        <Route path="manage-meal-plans" element={<PrivateRoute><ManageMealPlans /></PrivateRoute>} />
      </Route>

    </Routes>
  );
}

export default AppRoutes;


==================== C:\Code\recipe-app\client\src\supabaseClient.js ====================

// src/supabaseClient.js

import { createClient } from '@supabase/supabase-js';

const SUPABASE_URL = 'https://fovbbeeexjqmcivjaujs.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZvdmJiZWVleGpxbWNpdmphdWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTk1Nzg2NjksImV4cCI6MjAzNTE1NDY2OX0.F3M2b5cR9gKJo5muAZ45bgs8LKkf8znkMlixf7wN_88';

export const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);


==================== C:\Code\recipe-app\client\src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\client\src\components\AddAuthorModal.jsx ====================

// src/components/AddAuthorModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';

function AddAuthorModal() {
  const [authorName, setAuthorName] = useState('');
  const [authorImageURL, setAuthorImageURL] = useState('');
  const { createAuthor } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createAuthor(authorName, authorImageURL);
      document.getElementById('add_author_modal').close();
    } catch (error) {
      alert('Failed to add author');
    }
  };

  return (
    <Modal id="add_author_modal" title="Add Author">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Author Name"
          value={authorName}
          onChange={(e) => setAuthorName(e.target.value)}
          required
        />
        <TextInput
          label="Author Image URL"
          value={authorImageURL}
          onChange={(e) => setAuthorImageURL(e.target.value)}
        />
        <Button>Add Author</Button>
      </form>
    </Modal>
  );
}

export default AddAuthorModal;


==================== C:\Code\recipe-app\client\src\components\AddCategoryModal.jsx ====================

// src/components/AddCategoryModal.jsx
import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Button from './ui/Button';

function AddCategoryModal() {
  const [categoryName, setCategoryName] = useState('');
  const { createCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createCategory(categoryName);
      document.getElementById('add_category_modal').close();
    } catch (error) {
      alert('Failed to add category');
    }
  };

  return (
    <Modal id="add_category_modal" title="Add Category">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Category Name"
          value={categoryName}
          onChange={(e) => setCategoryName(e.target.value)}
          required
        />
        <Button>Add Category</Button>
      </form>
    </Modal>
  );
}

export default AddCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AddIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import TextInput from './ui/TextInput';
import Modal from './ui/Modal';
import Select from './ui/Select';
import Button from './ui/Button';

function AddIngredientModal({ onIngredientAdded = () => {} }) {
  const [ingredientName, setIngredientName] = useState('');
  const [purchaseWeightVolume, setPurchaseWeightVolume] = useState('');
  const [purchaseUnitId, setPurchaseUnitId] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const [subCategoryId, setSubCategoryId] = useState('');
  const [purchaseWeightUnitId, setPurchaseWeightUnitId] = useState('');

  const { categories, subCategories, units, createIngredient } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const ingredient = {
      IngredientName: ingredientName,
      PurchaseWeightVolume: purchaseWeightVolume,
      PurchaseUnitID: purchaseUnitId,
      SubCategoryID: subCategoryId,
      PurchaseWeightUnitID: purchaseWeightUnitId,
    };

    try {
      const newIngredient = await createIngredient(ingredient);
      onIngredientAdded(newIngredient);
      document.getElementById('add_ingredient_modal').close();
    } catch (error) {
      alert('Failed to add ingredient');
    }
  };

  const filteredSubCategories = subCategories.filter(
    (subCategory) => subCategory.CategoryID === parseInt(categoryId)
  );

  const unitOptions = units.map((unit) => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  const subCategoryOptions = filteredSubCategories.map((subCategory) => ({
    value: subCategory.SubCategoryID,
    label: subCategory.SubCategoryName,
  }));

  return (
    <Modal id="add_ingredient_modal" title="Add Ingredient" className="modal modal-bottom sm:modal-middle">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Ingredient Name"
          value={ingredientName}
          onChange={(e) => setIngredientName(e.target.value)}
          required
        />
        <TextInput
          label="Purchase Weight Volume"
          value={purchaseWeightVolume}
          onChange={(e) => setPurchaseWeightVolume(e.target.value)}
          required
        />
        <Select
          label="Purchase Unit"
          value={purchaseUnitId}
          onChange={(e) => setPurchaseUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Select
          label="Sub-Category"
          value={subCategoryId}
          onChange={(e) => setSubCategoryId(e.target.value)}
          required
          options={subCategoryOptions}
          defaultOption="Select a sub-category"
          disabled={!categoryId} // Disable until a category is selected
        />
        <Select
          label="Purchase Weight Unit"
          value={purchaseWeightUnitId}
          onChange={(e) => setPurchaseWeightUnitId(e.target.value)}
          required
          options={unitOptions}
          defaultOption="Select a unit"
        />
        <Button>Add Ingredient</Button>
      </form>
    </Modal>
  );
}

export default AddIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanModal.jsx ====================

// src/components/AddMealPlanModal.jsx

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';

function AddMealPlanModal() {
  const [planName, setPlanName] = useState('');
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');
  const { createMealPlan } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const mealPlan = {
      PlanName: planName,
      StartDate: startDate,
      EndDate: endDate,
      UserID: 1, // Adjust as needed
    };

    try {
      await createMealPlan(mealPlan);
      document.getElementById('add_meal_plan_modal').close();
    } catch (error) {
      alert('Failed to add meal plan');
    }
  };

  return (
    <Modal id="add_meal_plan_modal" title="Add Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Plan Name"
          value={planName}
          onChange={(e) => setPlanName(e.target.value)}
          required
        />
        <TextInput
          label="Start Date"
          type="date"
          value={startDate}
          onChange={(e) => setStartDate(e.target.value)}
          required
        />
        <TextInput
          label="End Date"
          type="date"
          value={endDate}
          onChange={(e) => setEndDate(e.target.value)}
          required
        />
        <Button>Add Meal Plan</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanModal;


==================== C:\Code\recipe-app\client\src\components\AddMealPlanRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import Select from './ui/Select';
import { format, isValid } from 'date-fns';
import TextInput from './ui/TextInput';

function AddMealPlanRecipeModal({ mealPlanId, defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId }) {

  const [recipeId, setRecipeId] = useState('');
  const [date, setDate] = useState(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
  const [mealType, setMealType] = useState(defaultMealType || '');
  const [currentMealPlanRecipeId, setCurrentMealPlanRecipeId] = useState(mealPlanRecipeId);

  const { recipes, createMealPlanRecipe, updateMealPlanRecipe } = useData();

  useEffect(() => {
    setDate(defaultDate && isValid(new Date(defaultDate)) ? format(new Date(defaultDate), 'yyyy-MM-dd') : '');
    setMealType(defaultMealType || '');
    setRecipeId(defaultRecipeId || '');
    setCurrentMealPlanRecipeId(mealPlanRecipeId || '');
  }, [defaultDate, defaultMealType, defaultRecipeId, mealPlanRecipeId]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!mealPlanId || !recipeId || !mealType || !date) {
      alert('All fields are required.');
      return;
    }

    const mealPlanRecipe = {
      MealPlanID: mealPlanId,
      RecipeID: recipeId,
      MealType: mealType,
      Date: date,
    };

    console.log("Submitting mealPlanRecipeId:", currentMealPlanRecipeId);

    try {
      if (currentMealPlanRecipeId) {
        // Update the existing meal plan recipe
        await updateMealPlanRecipe(currentMealPlanRecipeId, mealPlanRecipe);
      } else {
        // Create a new meal plan recipe
        await createMealPlanRecipe(mealPlanRecipe);
      }
      document.getElementById('add_meal_plan_recipe_modal').close();
      setRecipeId('');
      setMealType('');
      setDate('');
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add/update meal plan recipe');
    }
  };

  const recipeOptions = recipes.map(recipe => ({
    value: recipe.RecipeID,
    label: recipe.RecipeName,
  }));

  return (
    <Modal id="add_meal_plan_recipe_modal" title="Add/Update Meal in Meal Plan">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <Select
          label="Recipe"
          value={recipeId}
          onChange={(e) => setRecipeId(e.target.value)}
          required
          options={recipeOptions}
          defaultOption="Select a recipe"
        />
        <TextInput
          label="Date"
          type="date"
          value={date}
          onChange={(e) => setDate(e.target.value)}
          required
        />
        <Select
          label="Meal Type"
          value={mealType}
          onChange={(e) => setMealType(e.target.value)}
          required
          options={[
            { value: 'Breakfast', label: 'Breakfast' },
            { value: 'Lunch', label: 'Lunch' },
            { value: 'Dinner', label: 'Dinner' }
          ]}
          defaultOption="Select a meal type"
        />
        <Button type="submit">{currentMealPlanRecipeId ? 'Update Meal' : 'Add Meal'}</Button>
      </form>
    </Modal>
  );
}

export default AddMealPlanRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeBookModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeBookModal() {
  const [bookName, setBookName] = useState('');
  const [authorID, setAuthorID] = useState('');
  const [coverArtURL, setCoverArtURL] = useState('');

  const { authors, createRecipeBook } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();

    const recipeBook = {
      AuthorID: authorID,
      BookName: bookName,
      CoverArtURL: coverArtURL
    };

    try {
      await createRecipeBook(recipeBook);
      document.getElementById('add_recipe_book_modal').close();
    } catch (error) {
      alert('Failed to add book');
    }
  };

  const authorOptions = authors.map(author => ({
    value: author.AuthorID,
    label: author.AuthorName,
  }));

  return (
    <Modal id="add_recipe_book_modal" title="Add Recipe Book">
      <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
        <TextInput
          label="Book Name"
          value={bookName}
          onChange={(e) => setBookName(e.target.value)}
          required
        />
        <Select
          label="Author"
          value={authorID}
          onChange={(e) => setAuthorID(e.target.value)}
          required
          options={authorOptions}
          defaultOption="Select an author"
        />
        <TextInput
          label="Cover Art URL"
          value={coverArtURL}
          onChange={(e) => setCoverArtURL(e.target.value)}
        />
        <Button>Add Book</Button>
      </form>
    </Modal>
  );
}

export default AddRecipeBookModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeIngredientModal.jsx ====================

import React, { useState, useEffect } from 'react';
import Fuse from 'fuse.js';
import { useData } from '../context/DataContext';
import AddIngredientModal from './AddIngredientModal';
import Table from './ui/Table';
import Button from './ui/Button';
import Modal from './ui/Modal';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeIngredientModal({ recipeId }) {
  const [selectedIngredientId, setSelectedIngredientId] = useState('');
  const [quantity, setQuantity] = useState('');
  const [selectedUnitId, setSelectedUnitId] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [filteredIngredients, setFilteredIngredients] = useState([]);
  const [defaultUnitId, setDefaultUnitId] = useState('');

  const { ingredients, units, categories, subCategories, createRecipeIngredient } = useData();

  useEffect(() => {
    if (ingredients.length && categories.length && subCategories.length) {
      const updatedIngredients = ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      });
      setFilteredIngredients(updatedIngredients);
    }
  }, [ingredients, categories, subCategories]);

  const handleSearch = (e) => {
    const term = e.target.value;
    setSearchTerm(term);

    if (term === '') {
      setFilteredIngredients(ingredients.map((ingredient) => {
        const subCategory = subCategories.find(
          (sub) => sub.SubCategoryID === ingredient.SubCategoryID
        );
        const category = subCategory
          ? categories.find((cat) => cat.CategoryID === subCategory.CategoryID)
          : null;

        return {
          ...ingredient,
          CategoryName: category ? category.CategoryName : '',
          SubCategoryName: subCategory ? subCategory.SubCategoryName : '',
        };
      }));
    } else {
      const fuse = new Fuse(filteredIngredients, {
        keys: ['IngredientName', 'CategoryName', 'SubCategoryName'],
        threshold: 0.3, // Adjust the threshold as needed
      });

      const result = fuse.search(term);
      setFilteredIngredients(result.map((r) => r.item));
    }
  };

  const handleAddClick = (ingredientId) => {
    const ingredient = ingredients.find((ing) => ing.IngredientID === ingredientId);
    if (ingredient) {
      setSelectedIngredientId(ingredientId);
      setDefaultUnitId(ingredient.PurchaseUnitID || ''); // Handle missing PurchaseUnitID
      setSelectedUnitId(ingredient.PurchaseUnitID || ''); // Set the default unit id
      document.getElementById('quantity_unit_modal').showModal();
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    const data = {
      RecipeID: recipeId,
      IngredientID: selectedIngredientId,
      Quantity: parseFloat(quantity),
      UnitID: selectedUnitId || defaultUnitId,
    };

    try {
      await createRecipeIngredient(data);
      window.location.reload(); // Refresh the page to show the new ingredient
    } catch (error) {
      console.error('Error:', error);
      alert('Failed to add ingredient');
    }
  };

  const handleAddNewIngredient = () => {
    document.getElementById('add_ingredient_modal').showModal();
  };

  const handleNewIngredientAdded = (newIngredient) => {
    if (newIngredient && newIngredient.PurchaseUnitID) {
      setFilteredIngredients((prevIngredients) => [
        ...prevIngredients,
        {
          ...newIngredient,
          CategoryName: '',
          SubCategoryName: '',
        },
      ]);

      // Automatically select the newly added ingredient and open the quantity/unit modal
      setSelectedIngredientId(newIngredient.IngredientID);
      setDefaultUnitId(newIngredient.PurchaseUnitID);
      setSelectedUnitId(newIngredient.PurchaseUnitID);
      setQuantity(''); // Reset the quantity
      document.getElementById('quantity_unit_modal').showModal();
    } else {
      alert('New ingredient does not have a PurchaseUnitID');
    }
  };

  const headers = ['Ingredient', 'Category', 'Sub-Category', 'Action'];
  const data = filteredIngredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientName,
      ingredient.CategoryName,
      ingredient.SubCategoryName,
      <Button
        size="sm"
        variant="primary"
        outline={true}
        onClick={() => handleAddClick(ingredient.IngredientID)}
      >
        Add
      </Button>
    ],
  }));

  const unitOptions = units.map(unit => ({
    value: unit.UnitID,
    label: unit.UnitName,
  }));

  return (
    <div>
      <Modal id="add_recipe_ingredient_modal" title="Add Ingredient to Recipe" wide={true}>
        <div className='flex flex-col gap-4 mb-8'>
          <TextInput
            label="Search Ingredient"
            value={searchTerm}
            onChange={handleSearch}
            placeholder="Type to search ingredients..."
          />

          <Button
            outline={true}
            size='sm'
            onClick={handleAddNewIngredient}
          >Add New Ingredient</Button>
        </div>
        <Table headers={headers} data={data} />
      </Modal>

      <Modal id="quantity_unit_modal" title="Enter Quantity and Unit">
        <form onSubmit={handleSubmit} className="flex gap-4 flex-col mt-4">
          <TextInput
            label="Quantity"
            value={quantity}
            onChange={(e) => setQuantity(e.target.value)}
            required
          />

          <Select
            label="Unit"
            value={selectedUnitId || defaultUnitId}
            onChange={(e) => setSelectedUnitId(e.target.value)}
            required
            options={unitOptions}
            defaultOption="Select a unit"
          />
          <Button>Add Ingredient</Button>
        </form>
      </Modal>

      <AddIngredientModal onIngredientAdded={handleNewIngredientAdded} />
    </div>
  );
}

export default AddRecipeIngredientModal;


==================== C:\Code\recipe-app\client\src\components\AddRecipeModal.jsx ====================

import React, { useState, useEffect } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddRecipeModal() {
    const [recipeName, setRecipeName] = useState('');
    const [authorID, setAuthorID] = useState('');
    const [bookID, setBookID] = useState('');
    const [pageNumber, setPageNumber] = useState('');
    const [onlineURL, setOnlineURL] = useState('');
    const [cookTime, setCookTime] = useState('');
    const [difficulty, setDifficulty] = useState('');
    const [type, setType] = useState('');
    const [imageURL, setImageURL] = useState('');
    const [servings, setServings] = useState('');
    const [cuisine, setCuisine] = useState('');
    const [filteredBooks, setFilteredBooks] = useState([]);

    const { authors, recipeBooks, createRecipe } = useData();

    useEffect(() => {
        if (authorID) {
            setFilteredBooks(recipeBooks.filter(book => book.AuthorID === parseInt(authorID)));
        } else {
            setFilteredBooks([]);
        }
    }, [authorID, recipeBooks]);

    const handleAuthorChange = (e) => {
        setAuthorID(e.target.value);
        setBookID(''); // Reset book selection when author changes
    };

    const handleSubmit = async (e) => {
        e.preventDefault();

        const recipe = {
            RecipeName: recipeName,
            AuthorID: parseInt(authorID) || null,
            BookID: parseInt(bookID) || null,
            PageNumber: parseInt(pageNumber) || null,
            OnlineURL: onlineURL,
            CookTime: parseInt(cookTime) || null,
            Difficulty: difficulty,
            Type: type,
            ImageURL: imageURL,
            Servings: parseInt(servings) || null,
            Cuisine: cuisine,
        };

        try {
            await createRecipe(recipe);
            document.getElementById('add_recipe_modal').close();
        } catch (error) {
            alert('Failed to add recipe');
        }
    };

    const authorOptions = authors.map(author => ({
        value: author.AuthorID,
        label: author.AuthorName
    }));

    const bookOptions = filteredBooks.map(book => ({
        value: book.BookID,
        label: book.BookName
    }));

    return (
        <Modal id="add_recipe_modal" title="Add Recipe">
            <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
                <TextInput
                    label="Recipe Name"
                    value={recipeName}
                    onChange={(e) => setRecipeName(e.target.value)}
                    required
                />
                <Select
                    label="Author"
                    value={authorID}
                    onChange={handleAuthorChange}
                    options={authorOptions}
                    defaultOption="Select an author"
                />
                <Select
                    label="Book"
                    value={bookID}
                    onChange={(e) => setBookID(e.target.value)}
                    options={bookOptions}
                    defaultOption="Select a book"
                    disabled={!authorID}
                />
                <TextInput
                    label="Page Number"
                    type="number"
                    value={pageNumber}
                    onChange={(e) => setPageNumber(e.target.value)}
                    disabled={!bookID}
                />
                <TextInput
                    label="Online URL"
                    type="url"
                    value={onlineURL}
                    onChange={(e) => setOnlineURL(e.target.value)}
                />
                <TextInput
                    label="Cook Time (minutes)"
                    type="number"
                    value={cookTime}
                    onChange={(e) => setCookTime(e.target.value)}
                    required
                />
                <TextInput
                    label="Difficulty"
                    value={difficulty}
                    onChange={(e) => setDifficulty(e.target.value)}
                />
                <TextInput
                    label="Type"
                    value={type}
                    onChange={(e) => setType(e.target.value)}
                />
                <TextInput
                    label="Image URL"
                    type="url"
                    value={imageURL}
                    onChange={(e) => setImageURL(e.target.value)}
                />
                <TextInput
                    label="Servings"
                    type="number"
                    value={servings}
                    onChange={(e) => setServings(e.target.value)}
                    required
                />
                <TextInput
                    label="Cuisine"
                    value={cuisine}
                    onChange={(e) => setCuisine(e.target.value)}
                />
                <Button>Add Recipe</Button>
            </form>
        </Modal>
    );
}

export default AddRecipeModal;


==================== C:\Code\recipe-app\client\src\components\AddSubCategoryModal.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Modal from './ui/Modal';
import Button from './ui/Button';
import TextInput from './ui/TextInput';
import Select from './ui/Select';

function AddSubCategoryModal() {
  const [subCategoryName, setSubCategoryName] = useState('');
  const [categoryId, setCategoryId] = useState('');
  const { categories, createSubCategory } = useData();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const subCategory = {
      SubCategoryName: subCategoryName,
      CategoryID: categoryId,
    };

    try {
      await createSubCategory(subCategory);
      document.getElementById('add_sub_category_modal').close();
    } catch (error) {
      console.error('Error adding sub-category:', error);
      alert('Failed to add sub-category');
    }
  };

  const categoryOptions = categories.map((category) => ({
    value: category.CategoryID,
    label: category.CategoryName,
  }));

  return (
    <Modal id="add_sub_category_modal" title="Add Sub-Category">
      <form onSubmit={handleSubmit} className="flex gap-4 flex-col">
        <TextInput
          label="Sub-Category Name"
          value={subCategoryName}
          onChange={(e) => setSubCategoryName(e.target.value)}
          required
        />        
        <Select
          label="Category"
          value={categoryId}
          onChange={(e) => setCategoryId(e.target.value)}
          required
          options={categoryOptions}
          defaultOption="Select a category"
        />
        <Button>Add Sub-Category</Button>
      </form>
    </Modal>
  );
}

export default AddSubCategoryModal;


==================== C:\Code\recipe-app\client\src\components\AuthorTable.jsx ====================

// src/components/AuthorTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Button from './ui/Button';
import Table from './ui/Table';
import DeleteButton from './ui/DeleteButton';

function AuthorTable() {
  const { authors, deleteAuthor } = useData();

  const handleDelete = async (authorId) => {
    if (window.confirm('Are you sure you want to delete this author?')) {
      await deleteAuthor(authorId);
    }
  };

  const headers = ['#', 'Author Name', 'Actions'];

  const data = authors.map((author, index) => ({
    id: author.AuthorID,
    cells: [
      index + 1,
      author.AuthorName,
      <DeleteButton onClick={() => handleDelete(author.AuthorID)} />      
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default AuthorTable;


==================== C:\Code\recipe-app\client\src\components\Calendar.jsx ====================

// src/components/Calendar.jsx
import React from 'react';
import Button from './ui/Button';
import { format, eachDayOfInterval, parseISO } from 'date-fns';

const Calendar = ({ mealPlan, mealPlanRecipes, recipes, onAddMeal, onModifyMeal }) => {
  const days = eachDayOfInterval({
    start: parseISO(mealPlan.StartDate),
    end: parseISO(mealPlan.EndDate),
  });

  const getMealForDay = (date, mealType) => {
    return mealPlanRecipes.find(
      (mpr) => mpr.Date === format(date, 'yyyy-MM-dd') && mpr.MealType === mealType
    );
  };

  const getRecipeName = (recipeId) => {
    const recipe = recipes.find(r => r.RecipeID === recipeId);
    return recipe ? recipe.RecipeName : 'Unknown Recipe';
  };

  return (
    <div className="grid grid-cols-1 gap-4">
      {days.map((day) => (
        <div key={day} className="border p-2">
          <h3 className="font-bold">{format(day, 'eee, MMM d')}</h3>
          {['Breakfast', 'Lunch', 'Dinner'].map((mealType) => {
            const meal = getMealForDay(day, mealType);
            return (
              <div key={mealType} className="my-2">
                <h4 className="font-semibold">{mealType}</h4>
                {meal ? (
                  <div>
                    <div>{getRecipeName(meal.RecipeID)}</div>
                    <div className="flex gap-2">
                      <Button
                        size="sm"
                        variant="secondary"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID)}
                      >
                        Modify
                      </Button>
                      <Button
                        size="sm"
                        variant="error"
                        outline
                        onClick={() => onModifyMeal(meal.MealPlanRecipeID, true)}
                      >
                        Remove
                      </Button>
                    </div>
                  </div>
                ) : (
                  <Button
                    size="sm"
                    variant="secondary"
                    outline
                    onClick={() => onAddMeal(day, mealType)}
                  >
                    Add {mealType}
                  </Button>
                )}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
};

export default Calendar;


==================== C:\Code\recipe-app\client\src\components\CategoryTable.jsx ====================

// src/components/CategoryTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function CategoryTable() {
  const { categories, subCategories, deleteCategory } = useData();

  const handleDelete = async (categoryId) => {
    if (window.confirm('Are you sure you want to delete this category?')) {
      await deleteCategory(categoryId);
    }
  };

  const headers = ['ID', 'Category Name', 'Sub-Categories', 'Actions'];

  const data = categories.map((category, index) => {
    const categorySubCategories = subCategories.filter(sub => sub.CategoryID === category.CategoryID).map(sub => sub.SubCategoryName).join(', ');

    return {
      id: category.CategoryID,
      cells: [
        category.CategoryID,
        category.CategoryName,
        categorySubCategories || 'None',
        <DeleteButton onClick={() => handleDelete(category.CategoryID)} />
      ],
    };
  });

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default CategoryTable;


==================== C:\Code\recipe-app\client\src\components\IngredientTable.jsx ====================

// src/components/IngredientTable.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function IngredientTable() {
  const { ingredients, categories, subCategories, units, deleteIngredient } = useData();

  const handleDelete = async (ingredientId) => {
    if (window.confirm('Are you sure you want to delete this ingredient?')) {
      try {
        await deleteIngredient(ingredientId);
      } catch (error) {
        alert('Failed to delete ingredient');
      }
    }
  };

  const getSubCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    return subCategory ? subCategory.SubCategoryName : 'Unknown';
  };

  const getCategoryName = (subCategoryId) => {
    const subCategory = subCategories.find(subCategory => subCategory.SubCategoryID === subCategoryId);
    if (subCategory) {
      const category = categories.find(category => category.CategoryID === subCategory.CategoryID);
      return category ? category.CategoryName : 'Unknown';
    }
    return 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const headers = ['ID', 'Ingredient Name', 'Purchase Weight Volume', 'Purchase Unit', 'Category', 'Subcategory', 'Purchase Weight Unit', 'Actions'];

  const data = ingredients.map((ingredient) => ({
    id: ingredient.IngredientID,
    cells: [
      ingredient.IngredientID,
      ingredient.IngredientName,
      ingredient.PurchaseWeightVolume,
      getUnitName(ingredient.PurchaseUnitID),
      getCategoryName(ingredient.SubCategoryID),
      getSubCategoryName(ingredient.SubCategoryID),
      getUnitName(ingredient.PurchaseWeightUnitID),
      <DeleteButton onClick={() => handleDelete(ingredient.IngredientID)} />
    ],
  }));

  return (
    <>
      <Table headers={headers} data={data} />
    </>
  );
}

export default IngredientTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanRecipeTable.jsx ====================

// src/components/MealPlanRecipeTable.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanRecipeTable({ mealPlanId }) {
    const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

    const handleDelete = async (mealPlanRecipeId) => {
        if (window.confirm('Are you sure you want to delete this meal?')) {
            try {
                await deleteMealPlanRecipe(mealPlanRecipeId);
            } catch (error) {
                alert('Failed to delete meal');
            }
        }
    };

    const getRecipeName = (recipeId) => {
        const recipe = recipes.find(recipe => recipe.RecipeID === recipeId);
        return recipe ? recipe.RecipeName : 'Unknown';
    };

    const headers = ['ID', 'Recipe', 'Meal Type', 'Date', 'Actions'];

    const data = mealPlanRecipes
        .filter(mpr => mpr.MealPlanID === mealPlanId)
        .map((mealPlanRecipe) => ({
            id: mealPlanRecipe.MealPlanRecipeID,
            cells: [
                mealPlanRecipe.MealPlanRecipeID,
                getRecipeName(mealPlanRecipe.RecipeID),
                mealPlanRecipe.MealType,
                mealPlanRecipe.Date,
                <DeleteButton onClick={() => handleDelete(mealPlanRecipe.MealPlanRecipeID)} />,
            ],
        }));

    function handleAddClick() {
        document.getElementById('add_meal_plan_recipe_modal').showModal();
    }

    return (
        <div className="overflow-x-auto">
            <Button size='sm' outline={true} variant='secondary' onClick={handleAddClick}>Add meal</Button>
            <Table headers={headers} data={data} />
        </div>
    );
}

export default MealPlanRecipeTable;


==================== C:\Code\recipe-app\client\src\components\MealPlanTable.jsx ====================

import React from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function MealPlanTable({ onManageMeals }) {
  const { mealPlans, deleteMealPlan } = useData();

  const handleDelete = async (mealPlanId) => {
    if (window.confirm('Are you sure you want to delete this meal plan?')) {
      try {
        await deleteMealPlan(mealPlanId);
      } catch (error) {
        alert('Failed to delete meal plan');
      }
    }
  };

  const headers = ['ID', 'Plan Name', 'Start Date', 'End Date', 'Actions'];

  const data = mealPlans.map((mealPlan) => ({
    id: mealPlan.MealPlanID,
    cells: [
      mealPlan.MealPlanID,
      mealPlan.PlanName,
      mealPlan.StartDate,
      mealPlan.EndDate,
      <div className="flex gap-2">
        <Button
          size="sm"
          variant="primary"
          outline={true}
          onClick={() => onManageMeals(mealPlan)}
        >
          Manage Meals
        </Button>
        <DeleteButton onClick={() => handleDelete(mealPlan.MealPlanID)} />
      </div>
    ],
  }));

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default MealPlanTable;


==================== C:\Code\recipe-app\client\src\components\NavBar.jsx ====================

// src/components/NavBar.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import ThemeSwitcher from './ThemeSwitcher';
import { useAuth } from '../context/AuthContext';

const NavBar = () => {
  const { isAuthenticated, logout } = useAuth();

  return (
    <nav className="navbar justify-between bg-base-300">
      <a className="btn btn-ghost text-lg">
        <img alt="Logo" src="../vite.svg" className="w-4" />
        Recipe App
      </a>
      <div className="dropdown dropdown-end sm:hidden">
        <button className="btn btn-ghost">
          <i className="fa-solid fa-bars text-lg"></i>
        </button>

        <ul tabIndex="0" className="dropdown-content menu z-[1] bg-base-200 p-6 rounded-box shadow w-56 gap-2">
          <li><a>About</a></li>
          <li><a>Pricing</a></li>
          <li><a>Blog</a></li>
          <li><a>Contact</a></li>
          <a className="btn btn-sm btn-primary">Log in</a>
        </ul>
      </div>
      <div className="hidden sm:flex gap-2">
        <ThemeSwitcher />       
        {isAuthenticated ? (
          <button
            onClick={logout}
            className="btn btn-primary btn-sm"
          >
            Logout
          </button>
        ) : (
          <>
            <Link to="/register" className="btn btn-ghost btn-sm">Register</Link>
            <Link to="/login" className="btn btn-primary btn-sm">Login</Link>
          </>
        )}
      </div>
    </nav>
  );
};

export default NavBar;


==================== C:\Code\recipe-app\client\src\components\PrivateRoute.jsx ====================

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import SideBar from './SideBar';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated } = useAuth();

  if (!isAuthenticated) {
    return <Navigate to="/login" />;
  }

  return (
    <div className="flex grow">     
      <div className="flex flex-col px-8 py-6 grow">
        {children}
      </div>
    </div>
  );
};

export default PrivateRoute;


==================== C:\Code\recipe-app\client\src\components\RecipeBookTable.jsx ====================

// src/components/RecipeBookTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';

function RecipeBookTable() {
  const { recipeBooks, authors, deleteRecipeBook } = useData();

  const handleDelete = async (bookId) => {
    if (window.confirm('Are you sure you want to delete this book?')) {
      try {
        await deleteRecipeBook(bookId);
      } catch (error) {
        alert('Failed to delete book');
      }
    }
  };

  const getAuthorName = (authorId) => {
    const author = authors.find(author => author.AuthorID === authorId);
    return author ? author.AuthorName : 'Unknown';
  };

  const headers = ['#', 'Book Name', 'Author Name', 'Actions'];

  const data = useMemo(() => 
    recipeBooks.map((book, index) => ({
      id: book.BookID,
      cells: [
        index + 1,
        book.BookName,
        getAuthorName(book.AuthorID),
        <DeleteButton onClick={() => handleDelete(book.BookID)} />,
      ],
    })),
    [recipeBooks, authors]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeBookTable;


==================== C:\Code\recipe-app\client\src\components\RecipeTable.jsx ====================

// src/components/RecipeTable.jsx
import React, { useMemo } from 'react';
import { useData } from '../context/DataContext';
import DeleteButton from './ui/DeleteButton';
import Table from './ui/Table';
import Button from './ui/Button';

function RecipeTable({ onAddIngredients }) {
  const { recipes, ingredients, units, recipeIngredients, deleteRecipe } = useData();

  const handleDelete = async (recipeId) => {
    if (window.confirm('Are you sure you want to delete this recipe?')) {
      try {
        await deleteRecipe(recipeId);
      } catch (error) {
        alert('Failed to delete recipe');
      }
    }
  };

  const getIngredientName = (ingredientId) => {
    const ingredient = ingredients.find(ingredient => ingredient.IngredientID === ingredientId);
    return ingredient ? ingredient.IngredientName : 'Unknown';
  };

  const getUnitName = (unitId) => {
    const unit = units.find(unit => unit.UnitID === unitId);
    return unit ? unit.UnitName : 'Unknown';
  };

  const renderIngredients = (recipeId) => {
    const filteredIngredients = recipeIngredients.filter(ri => ri.RecipeID === recipeId);
    return filteredIngredients.map(ingredient => (
      <li key={ingredient.RecipeIngredientID}>
        {ingredient.Quantity} {getUnitName(ingredient.UnitID)} of {getIngredientName(ingredient.IngredientID)}
      </li>
    ));
  };

  const headers = ['#', 'Recipe Name', 'Author ID', 'Ingredients', 'Actions'];

  const data = useMemo(() =>
    recipes.map((recipe, index) => ({
      id: recipe.RecipeID,
      cells: [
        index + 1,
        recipe.RecipeName,
        recipe.AuthorID,
        <ul className='list-disc ml-4'>
          {renderIngredients(recipe.RecipeID)}
        </ul>,
        <div className='flex gap-2'>
          <Button
            size="sm"
            variant="primary"
            outline={true}
            onClick={() => onAddIngredients(recipe.RecipeID)}
          >
            Add Ingredients
          </Button>
          <DeleteButton onClick={() => handleDelete(recipe.RecipeID)} />
        </div>
      ],
    })),
    [recipes, recipeIngredients, ingredients, units]
  );

  return (
    <div className="overflow-x-auto">
      <Table headers={headers} data={data} />
    </div>
  );
}

export default RecipeTable;


==================== C:\Code\recipe-app\client\src\components\ShoppingList.jsx ====================

// src/components/ShoppingList.jsx

import React from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';

function ShoppingList({ mealPlanId }) {
    const { getShoppingList } = useData();
    const shoppingList = getShoppingList(mealPlanId);

    const headers = ['Ingredient Name', 'Quantity', 'Unit'];

    const data = shoppingList.map((ingredient) => ({
        id: ingredient.IngredientID,
        cells: [
            ingredient.IngredientName,
            ingredient.Quantity,
            ingredient.unit ? ingredient.unit.UnitName : 'Unknown'
        ],
    }));

    return (
        <div className="overflow-x-auto">
            <Table headers={headers} data={data} />
        </div>
    );
}

export default ShoppingList;


==================== C:\Code\recipe-app\client\src\components\ShoppingListModal.jsx ====================

// src/components/ShoppingListModal.jsx

import React from 'react';
import Modal from './ui/Modal';

function ShoppingListModal({ shoppingList }) {
    return (
        <Modal id="shopping_list_modal" title="Generated Shopping List">
            {shoppingList ? (
                <ul className="list-disc ml-4">
                    {shoppingList.map((item, index) => (
                        <li key={index}>{item.Quantity} {item.UnitName} of {item.IngredientName}</li>
                    ))}
                </ul>
            ) : (
                <p>No items in the shopping list.</p>
            )}
        </Modal>
    );
}

export default ShoppingListModal;


==================== C:\Code\recipe-app\client\src\components\SideBar.jsx ====================

// src/components/SideBar.jsx

import React from "react";
import { NavLink } from "react-router-dom";
import { FaTachometerAlt, FaList, FaSitemap, FaLeaf, FaBook, FaUser, FaUtensils, FaCalendarAlt } from "react-icons/fa";

const menuItems = [
  { title: "Ingredients", isTitle: true },
  { title: "Categories", link: "/admin/manage-categories", Icon: FaList },
  { title: "Sub-categories", link: "/admin/manage-sub-categories", Icon: FaSitemap },
  { title: "Ingredients", link: "/admin/manage-ingredients", Icon: FaLeaf },
  { title: "Recipes", isTitle: true },
  { title: "Recipes", link: "/admin/manage-recipes", Icon: FaUtensils },
  { title: "Authors", link: "/admin/manage-authors", Icon: FaUser },
  { title: "Recipe books", link: "/admin/manage-recipe-books", Icon: FaBook },
  { title: "Meal Plans", link: "/admin/manage-meal-plans", Icon: FaCalendarAlt },
];

const MenuItem = ({ item }) => {
  if (item.isTitle) {
    return <li className="menu-title">{item.title}</li>;
  }

  const { Icon } = item;

  return (
    <li>
      <NavLink to={item.link} className={({ isActive }) => (isActive ? "active" : "")}>
        <Icon className="inline mr-2" />
        {item.title}
      </NavLink>
    </li>
  );
};

export default function SideBar() {
  return (
    <aside className="sticky top-0 overflow-y-auto w-60 bg-base-200 p-4 min-w-60">
      <ul className="menu px-0 gap-1">
        {menuItems.map((item, index) => (
          <MenuItem key={index} item={item} />
        ))}
      </ul>
    </aside>
  );
}


==================== C:\Code\recipe-app\client\src\components\SubCategoryTable.jsx ====================

// src/components/SubCategoryTable.jsx
import React, { useState, useMemo } from 'react';
import { useData } from '../context/DataContext';
import Table from './ui/Table';
import Button from './ui/Button';
import DeleteButton from './ui/DeleteButton';

function SubCategoryTable() {
  const [selectedCategories, setSelectedCategories] = useState([]);
  const { categories, subCategories, deleteSubCategory } = useData();

  const handleDelete = async (subCategoryId) => {
    if (window.confirm('Are you sure you want to delete this sub-category?')) {
      try {
        await deleteSubCategory(subCategoryId);
      } catch (error) {
        alert('Failed to delete sub-category');
      }
    }
  };

  const getCategoryName = (categoryId) => {
    const category = categories.find(category => category.CategoryID === categoryId);
    return category ? category.CategoryName : 'Unknown';
  };

  const handleCategoryChange = (e) => {
    const selectedValue = parseInt(e.target.value);
    setSelectedCategories(prevSelected =>
      prevSelected.includes(selectedValue)
        ? prevSelected.filter(id => id !== selectedValue)
        : [...prevSelected, selectedValue]
    );
  };

  const filteredSubCategories = useMemo(() => 
    selectedCategories.length > 0
      ? subCategories.filter(subCategory => selectedCategories.includes(subCategory.CategoryID))
      : subCategories,
    [subCategories, selectedCategories]
  );

  const headers = ['#', 'Sub-Category Name', 'Category Name', 'Actions'];

  const data = useMemo(() =>
    filteredSubCategories.map((subCategory, index) => ({
      id: subCategory.SubCategoryID,
      cells: [
        index + 1,
        subCategory.SubCategoryName,
        getCategoryName(subCategory.CategoryID),
        <DeleteButton key={subCategory.SubCategoryID} onClick={() => handleDelete(subCategory.SubCategoryID)} />
      ],
    })),
    [filteredSubCategories, categories]
  );

  return (
    <div className="overflow-x-auto">
      <div className="flex items-center mb-4">
        <label className="mr-2">Filter by Category:</label>
        <select
          className="select select-bordered"
          value=""
          onChange={handleCategoryChange}
        >
          <option value="" disabled>Select Categories</option>
          {categories.map(category => (
            <option
              key={category.CategoryID}
              value={category.CategoryID}
              disabled={selectedCategories.includes(category.CategoryID)}
            >
              {category.CategoryName}
            </option>
          ))}
        </select>
      </div>
      <div className="mb-4">
        {selectedCategories.map(categoryId => (
          <div key={categoryId} className="badge badge-primary mr-2">
            {getCategoryName(categoryId)}
            <button
              type="button"
              className="ml-1"
              onClick={() => setSelectedCategories(selectedCategories.filter(id => id !== categoryId))}
            >
              
            </button>
          </div>
        ))}
      </div>
      <Table headers={headers} data={data} />
    </div>
  );
}

export default SubCategoryTable;


==================== C:\Code\recipe-app\client\src\components\ThemeSwitcher.jsx ====================

import React, { useEffect, useState } from 'react';

const ThemeSwitcher = () => {
  const [theme, setTheme] = useState('light');

  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      setTheme(savedTheme);
    }
  }, []);

  const handleThemeChange = (event) => {
    const selectedTheme = event.target.value;
    document.documentElement.setAttribute('data-theme', selectedTheme);
    localStorage.setItem('theme', selectedTheme);
    setTheme(selectedTheme);
  };

  return (   
    <div className="dropdown dropdown-end">
      <select className="btn btn-ghost btn-sm" value={theme} onChange={handleThemeChange}>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="cupcake">Cupcake</option>
        <option value="bumblebee">Bumblebee</option>
        <option value="emerald">Emerald</option>
        <option value="corporate">Corporate</option>
        <option value="synthwave">Synthwave</option>
        <option value="retro">Retro</option>
        <option value="cyberpunk">Cyberpunk</option>
        <option value="valentine">Valentine</option>
        <option value="halloween">Halloween</option>
        <option value="garden">Garden</option>
        <option value="forest">Forest</option>
        <option value="aqua">Aqua</option>
        <option value="lofi">Lofi</option>
        <option value="pastel">Pastel</option>
        <option value="fantasy">Fantasy</option>
        <option value="wireframe">Wireframe</option>
        <option value="black">Black</option>
        <option value="luxury">Luxury</option>
        <option value="dracula">Dracula</option>
        <option value="cmyk">CMYK</option>
        <option value="autumn">Autumn</option>
        <option value="business">Business</option>
        <option value="acid">Acid</option>
        <option value="lemonade">Lemonade</option>
        <option value="night">Night</option>
        <option value="coffee">Coffee</option>
        <option value="winter">Winter</option>
      </select>
    </div>
  );
};

export default ThemeSwitcher;


==================== C:\Code\recipe-app\client\src\components\ui\Button.jsx ====================

// src/components/ui/Button.jsx
import React from 'react';

const Button = ({ type, variant = 'primary', size = 'md', outline = false, block = false, circle = false, square = false, className = '', onClick, children }) => {
  const baseClass = 'btn';
  const variantClass = `btn-${variant}`;
  const sizeClass = `btn-${size}`;
  const outlineClass = outline ? 'btn-outline' : '';
  const blockClass = block ? 'btn-block' : '';
  const circleClass = circle ? 'btn-circle' : '';
  const squareClass = square ? 'btn-square' : '';

  const classes = `${baseClass} ${variantClass} ${sizeClass} ${outlineClass} ${blockClass} ${circleClass} ${squareClass} ${className}`;

  return (
    <button type={type} className={classes} onClick={onClick}>
      {children}
    </button>
  );
};

export default Button;


==================== C:\Code\recipe-app\client\src\components\ui\Card.jsx ====================

// src/components/ui/Card.jsx
import React from 'react';
import { Link } from 'react-router-dom';
import Button from './Button';

const Card = ({ title, count, link, children }) => {
    return (
        <div className="card bg-base-100 w-96 shadow-xl">
            <div className="card-body">
                <h2 className="card-title">{title}</h2>
                {count && <p className="text-2xl font-bold">{count}</p>}
                {children}
                <div className="card-actions justify-end">
                    <Link to={link}>
                        <Button
                            variant='secondary'
                            outline={true}
                        >
                            Manage
                        </Button>
                    </Link>
                </div>
            </div>
        </div>
    );
};

export default Card;


==================== C:\Code\recipe-app\client\src\components\ui\DeleteButton.jsx ====================

// src/components/ui/DeleteButton.jsx
import React from 'react';
import Button from './Button';

const DeleteButton = ({ onClick }) => (
  <Button
    size="sm"
    variant="error"
    outline={true}
    onClick={onClick}
  >
    Delete
  </Button>
);

export default DeleteButton;


==================== C:\Code\recipe-app\client\src\components\ui\Modal.jsx ====================

import React from 'react';

const Modal = ({ id, title, children, wide }) => {
    const modalBoxClass = wide ? 'modal-box w-11/12 max-w-5xl' : 'modal-box';
    const modalClass = wide ? 'modal' : 'modal modal-bottom sm:modal-middle';

    return (
        <dialog id={id} className={modalClass}>
            <div className={modalBoxClass}>
                <form method="dialog">
                    <button className="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button>
                </form>
                <h3 className="font-bold text-lg">{title}</h3>
                {children}
            </div>
        </dialog>
    );
};

export default Modal;


==================== C:\Code\recipe-app\client\src\components\ui\Select.jsx ====================

// src/components/ui/Select.jsx
import React from 'react';

const Select = ({ label, value, onChange, required, options, defaultOption, disabled }) => {
  return (
    <label className="form-control">
      <div className="label">
        <span className="label-text">{label}</span>
      </div>
      <select
        className="select select-bordered"
        value={value}
        onChange={onChange}
        required={required}
        disabled={disabled}
      >
        <option value="" disabled>{defaultOption}</option>
        {options.map((option) => (
          <option key={option.value} value={option.value} disabled={option.disabled}>
            {option.label}
          </option>
        ))}
      </select>
    </label>
  );
};

export default Select;


==================== C:\Code\recipe-app\client\src\components\ui\Table.jsx ====================

// src/components/ui/Table.jsx
import React, { useState } from 'react';
import { FaSort, FaSortUp, FaSortDown } from 'react-icons/fa';

const Table = ({ headers, data }) => {
  const [sortConfig, setSortConfig] = useState({ key: '', direction: 'ascending' });

  const sortedData = React.useMemo(() => {
    let sortableData = [...data];
    if (sortConfig.key) {
      sortableData.sort((a, b) => {
        const aKey = a.cells[headers.indexOf(sortConfig.key)];
        const bKey = b.cells[headers.indexOf(sortConfig.key)];

        if (aKey < bKey) {
          return sortConfig.direction === 'ascending' ? -1 : 1;
        }
        if (aKey > bKey) {
          return sortConfig.direction === 'ascending' ? 1 : -1;
        }
        return 0;
      });
    }
    return sortableData;
  }, [data, sortConfig, headers]);

  const requestSort = (key) => {
    let direction = 'ascending';
    if (sortConfig.key === key && sortConfig.direction === 'ascending') {
      direction = 'descending';
    }
    setSortConfig({ key, direction });
  };

  const getSortIcon = (header) => {
    if (sortConfig.key === header) {
      return sortConfig.direction === 'ascending' ? <FaSortUp /> : <FaSortDown />;
    }
    return <FaSort />;
  };

  return (
    <div className="overflow-x-auto">
      <table className="table table-zebra">
        <thead>
          <tr>
            {headers.map((header, index) => (
              <th key={index} onClick={() => requestSort(header)} className="cursor-pointer">
                <div className="flex items-center">
                  {header}
                  <span className="ml-2">{getSortIcon(header)}</span>
                </div>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, rowIndex) => (
            <tr key={row.id || rowIndex}>
              {row.cells.map((cell, cellIndex) => (
                <td key={cellIndex}>{cell}</td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export default Table;


==================== C:\Code\recipe-app\client\src\components\ui\TextInput.jsx ====================

import React from 'react';

const TextInput = ({ label, type = 'text', value, onChange, required = false, placeholder = '', className = 'input input-bordered', min, max }) => {
  return (
    <label className="form-control">
      {label && (
        <div className="label">
          <span className="label-text">{label}</span>
        </div>
      )}
      <input
        type={type}
        className={className}
        value={value}
        onChange={onChange}
        required={required}
        placeholder={placeholder}
        min={min}
        max={max}
      />
    </label>
  );
};

export default TextInput;


==================== C:\Code\recipe-app\client\src\context\AuthContext.jsx ====================

import React, { createContext, useContext, useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';

const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();

  useEffect(() => {
    const storedAuth = localStorage.getItem('isAuthenticated');
    if (storedAuth === 'true') {
      setIsAuthenticated(true);
    }
    setLoading(false); // Indicate that the auth status has been checked
  }, []);

  const login = async (username, password) => {
    const response = await fetch('http://localhost:8000/api/users/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Password: password }),
    });

    if (response.ok) {
      setIsAuthenticated(true);
      localStorage.setItem('isAuthenticated', 'true');
      navigate('/');
    } else {
      alert('Login failed');
    }
  };

  const logout = () => {
    setIsAuthenticated(false);
    localStorage.removeItem('isAuthenticated');
    navigate('/login');
  };

  if (loading) {
    return <div>Loading...</div>; // Display a loading message or spinner while checking auth status
  }

  return (
    <AuthContext.Provider value={{ isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);


==================== C:\Code\recipe-app\client\src\context\DataContext.jsx ====================

import React, { createContext, useContext, useEffect, useState } from 'react';
import * as apiService from '../services/apiService';

const DataContext = createContext();

export const DataProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [subCategories, setSubCategories] = useState([]);
  const [ingredients, setIngredients] = useState([]);
  const [authors, setAuthors] = useState([]);
  const [recipeBooks, setRecipeBooks] = useState([]);
  const [recipes, setRecipes] = useState([]);
  const [units, setUnits] = useState([]);
  const [recipeIngredients, setRecipeIngredients] = useState([]);
  const [mealPlans, setMealPlans] = useState([]);
  const [mealPlanRecipes, setMealPlanRecipes] = useState([]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [
          categoriesData,
          subCategoriesData,
          ingredientsData,
          authorsData,
          recipeBooksData,
          recipesData,
          unitsData,
          recipeIngredientsData,
          mealPlansData,
          mealPlanRecipesData,
        ] = await Promise.all([
          apiService.getCategories(),
          apiService.getSubCategories(),
          apiService.getIngredients(),
          apiService.getAuthors(),
          apiService.getRecipeBooks(),
          apiService.getRecipes(),
          apiService.getUnits(),
          apiService.getRecipeIngredients(),
          apiService.getMealPlans(),
          apiService.getMealPlanRecipes(),
        ]);

        setCategories(categoriesData);
        setSubCategories(subCategoriesData);
        setIngredients(ingredientsData);
        setAuthors(authorsData);
        setRecipeBooks(recipeBooksData);
        setRecipes(recipesData);
        setUnits(unitsData);
        setRecipeIngredients(recipeIngredientsData);
        setMealPlans(mealPlansData);
        setMealPlanRecipes(mealPlanRecipesData);
      } catch (error) {
        console.error(error);
      }
    };

    fetchData();
  }, []);

  // Categories CRUD
  const createCategory = async (categoryName) => {
    try {
      const newCategory = await apiService.addCategory(categoryName);
      setCategories([...categories, newCategory]);
    } catch (error) {
      console.error('Error adding category:', error);
    }
  };

  const updateCategory = async (categoryId, categoryName) => {
    try {
      const updatedCategory = await apiService.updateCategory(categoryId, categoryName);
      setCategories(categories.map(cat => (cat.CategoryID === categoryId ? updatedCategory : cat)));
    } catch (error) {
      console.error('Error updating category:', error);
    }
  };

  const deleteCategory = async (categoryId) => {
    try {
      await apiService.deleteCategory(categoryId);
      setCategories(categories.filter(cat => cat.CategoryID !== categoryId));
    } catch (error) {
      console.error('Error deleting category:', error);
    }
  };

  // SubCategories CRUD
  const createSubCategory = async (subCategory) => {
    try {
      const newSubCategory = await apiService.addSubCategory(subCategory);
      setSubCategories([...subCategories, newSubCategory]);
    } catch (error) {
      console.error('Error adding subcategory:', error);
    }
  };

  const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    try {
      const updatedSubCategory = await apiService.updateSubCategory(subCategoryId, subCategoryName, categoryId);
      setSubCategories(subCategories.map(sub => (sub.SubCategoryID === subCategoryId ? updatedSubCategory : sub)));
    } catch (error) {
      console.error('Error updating subcategory:', error);
    }
  };

  const deleteSubCategory = async (subCategoryId) => {
    try {
      await apiService.deleteSubCategory(subCategoryId);
      setSubCategories(subCategories.filter(sub => sub.SubCategoryID !== subCategoryId));
    } catch (error) {
      console.error('Error deleting subcategory:', error);
    }
  };

  // Ingredients CRUD
  const createIngredient = async (ingredient) => {
    try {
      const newIngredient = await apiService.addIngredient(ingredient);
      setIngredients([...ingredients, newIngredient]);
    } catch (error) {
      console.error('Error adding ingredient:', error);
    }
  };

  const updateIngredient = async (ingredientId, ingredient) => {
    try {
      const updatedIngredient = await apiService.updateIngredient(ingredientId, ingredient);
      setIngredients(ingredients.map(ing => (ing.IngredientID === ingredientId ? updatedIngredient : ing)));
    } catch (error) {
      console.error('Error updating ingredient:', error);
    }
  };

  const deleteIngredient = async (ingredientId) => {
    try {
      await apiService.deleteIngredient(ingredientId);
      setIngredients(ingredients.filter(ing => ing.IngredientID !== ingredientId));
    } catch (error) {
      console.error('Error deleting ingredient:', error);
    }
  };

  // Authors CRUD
  const createAuthor = async (authorName, authorImageURL) => {
    try {
      const newAuthor = await apiService.addAuthor(authorName, authorImageURL);
      setAuthors([...authors, newAuthor]);
    } catch (error) {
      console.error('Error adding author:', error);
    }
  };

  const updateAuthor = async (authorId, author) => {
    try {
      const updatedAuthor = await apiService.updateAuthor(authorId, author);
      setAuthors(authors.map(auth => (auth.AuthorID === authorId ? updatedAuthor : auth)));
    } catch (error) {
      console.error('Error updating author:', error);
    }
  };

  const deleteAuthor = async (authorId) => {
    try {
      await apiService.deleteAuthor(authorId);
      setAuthors(authors.filter(auth => auth.AuthorID !== authorId));
    } catch (error) {
      console.error('Error deleting author:', error);
    }
  };

  // Recipe Books CRUD
  const createRecipeBook = async (recipeBook) => {
    try {
      const newRecipeBook = await apiService.addRecipeBook(recipeBook);
      setRecipeBooks([...recipeBooks, newRecipeBook]);
    } catch (error) {
      console.error('Error adding recipe book:', error);
    }
  };

  const updateRecipeBook = async (recipeBookId, recipeBook) => {
    try {
      const updatedRecipeBook = await apiService.updateRecipeBook(recipeBookId, recipeBook);
      setRecipeBooks(recipeBooks.map(book => (book.BookID === recipeBookId ? updatedRecipeBook : book)));
    } catch (error) {
      console.error('Error updating recipe book:', error);
    }
  };

  const deleteRecipeBook = async (recipeBookId) => {
    try {
      await apiService.deleteRecipeBook(recipeBookId);
      setRecipeBooks(recipeBooks.filter(book => book.BookID !== recipeBookId));
    } catch (error) {
      console.error('Error deleting recipe book:', error);
    }
  };

  // Recipes CRUD
  const createRecipe = async (recipe) => {
    try {
      const newRecipe = await apiService.addRecipe(recipe);
      setRecipes([...recipes, newRecipe]);
    } catch (error) {
      console.error('Error adding recipe:', error);
      throw error; // Ensure to rethrow the error to be caught in the component
    }
  };

  const updateRecipe = async (recipeId, recipe) => {
    try {
      const updatedRecipe = await apiService.updateRecipe(recipeId, recipe);
      setRecipes(recipes.map(rec => (rec.RecipeID === recipeId ? updatedRecipe : rec)));
    } catch (error) {
      console.error('Error updating recipe:', error);
    }
  };

  const deleteRecipe = async (recipeId) => {
    try {
      await apiService.deleteRecipe(recipeId);
      setRecipes(recipes.filter(rec => rec.RecipeID !== recipeId));
    } catch (error) {
      console.error('Error deleting recipe:', error);
    }
  };

  const createRecipeIngredient = async (recipeIngredient) => {
    try {
      const newRecipeIngredient = await apiService.addRecipeIngredient(recipeIngredient);
      setRecipeIngredients([...recipeIngredients, newRecipeIngredient]);
    } catch (error) {
      console.error('Error adding recipe ingredient:', error);
    }
  };

  // Meal Plans CRUD
  const createMealPlan = async (mealPlan) => {
    try {
      const newMealPlan = await apiService.addMealPlan(mealPlan);
      setMealPlans([...mealPlans, newMealPlan]);
    } catch (error) {
      console.error('Error adding meal plan:', error);
    }
  };

  const updateMealPlan = async (mealPlanId, mealPlan) => {
    try {
      const updatedMealPlan = await apiService.updateMealPlan(mealPlanId, mealPlan);
      setMealPlans(mealPlans.map(mp => (mp.MealPlanID === mealPlanId ? updatedMealPlan : mp)));
    } catch (error) {
      console.error('Error updating meal plan:', error);
    }
  };

  const deleteMealPlan = async (mealPlanId) => {
    try {
      await apiService.deleteMealPlan(mealPlanId);
      setMealPlans(mealPlans.filter(mp => mp.MealPlanID !== mealPlanId));
    } catch (error) {
      console.error('Error deleting meal plan:', error);
    }
  };

  // Meal Plan Recipes CRUD
  const createMealPlanRecipe = async (mealPlanRecipe) => {
    try {
      const newMealPlanRecipe = await apiService.addMealPlanRecipe(mealPlanRecipe);
      setMealPlanRecipes([...mealPlanRecipes, newMealPlanRecipe]);
    } catch (error) {
      console.error('Error adding meal plan recipe:', error);
    }
  };

  const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    try {
      const updatedMealPlanRecipe = await apiService.updateMealPlanRecipe(mealPlanRecipeId, mealPlanRecipe);
      setMealPlanRecipes(prev => prev.map(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId ? updatedMealPlanRecipe : mpr));
    } catch (error) {
      console.error('Error updating meal plan recipe:', error);
    }
  };

  const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    try {
      await apiService.deleteMealPlanRecipe(mealPlanRecipeId);
      setMealPlanRecipes(mealPlanRecipes.filter(mpr => mpr.MealPlanRecipeID !== mealPlanRecipeId));
    } catch (error) {
      console.error('Error deleting meal plan recipe:', error);
    }
  };

  const getShoppingList = (mealPlanId) => {
    const filteredMealPlanRecipes = mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlanId);

    const ingredientMap = new Map();

    filteredMealPlanRecipes.forEach(mpr => {
      const recipeId = mpr.RecipeID;
      const recipeIngredientsForRecipe = recipeIngredients.filter(ri => ri.RecipeID === recipeId);

      recipeIngredientsForRecipe.forEach(ri => {
        const ingredient = ingredients.find(ing => ing.IngredientID === ri.IngredientID);
        const unit = units.find(unit => unit.UnitID === ri.UnitID);
        if (ingredient) {
          const existing = ingredientMap.get(ingredient.IngredientID);
          if (existing) {
            existing.Quantity += ri.Quantity;
          } else {
            ingredientMap.set(ingredient.IngredientID, {
              ...ingredient,
              Quantity: ri.Quantity,
              unit: unit || { UnitName: 'Unknown' }
            });
          }
        }
      });
    });

    return Array.from(ingredientMap.values());
  };

  return (
    <DataContext.Provider
      value={{
        categories, createCategory, updateCategory, deleteCategory,
        subCategories, createSubCategory, updateSubCategory, deleteSubCategory,
        ingredients, createIngredient, updateIngredient, deleteIngredient,
        authors, createAuthor, updateAuthor, deleteAuthor,
        recipeBooks, createRecipeBook, updateRecipeBook, deleteRecipeBook,
        recipes, createRecipe, updateRecipe, deleteRecipe,
        units, recipeIngredients, createRecipeIngredient,
        mealPlans, createMealPlan, updateMealPlan, deleteMealPlan,
        mealPlanRecipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe,
        getShoppingList,
      }}
    >
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => useContext(DataContext);


==================== C:\Code\recipe-app\client\src\pages\Dashboard.jsx ====================

// src/pages/Home.jsx
import React from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';

function Dashboard() {
  const { categories, subCategories, ingredients, authors, recipeBooks, recipes } = useData();

  const items = [
    { name: 'Categories', count: categories.length, link: '/manage-categories' },
    { name: 'Subcategories', count: subCategories.length, link: '/manage-sub-categories' },
    { name: 'Ingredients', count: ingredients.length, link: '/manage-ingredients' },
    { name: 'Authors', count: authors.length, link: '/manage-authors' },
    { name: 'Recipe Books', count: recipeBooks.length, link: '/manage-recipe-books' },
    { name: 'Recipes', count: recipes.length, link: '/manage-recipes' },
  ];

  return (
    <div className="flex flex-wrap gap-4 p-6">
      {items.map((item, index) => (
        <Card key={index} title={item.name} count={item.count} link={item.link} />
      ))}
    </div>
  );
}

export default Dashboard;


==================== C:\Code\recipe-app\client\src\pages\Home.jsx ====================

import React, { useState } from 'react';
import { useData } from '../context/DataContext';
import Card from '../components/ui/Card';
import Button from '../components/ui/Button';
import AddMealPlanModal from '../components/AddMealPlanModal';
import { format, isWithinInterval, parseISO, startOfWeek, endOfWeek, isFuture, isPast } from 'date-fns';
import { Link } from 'react-router-dom';

const Home = () => {
  const { mealPlans } = useData();
  const [isModalOpen, setIsModalOpen] = useState(false);

  const categorizeMealPlans = (mealPlans) => {
    const now = new Date();
    const currentWeekStart = startOfWeek(now, { weekStartsOn: 1 });
    const currentWeekEnd = endOfWeek(now, { weekStartsOn: 1 });

    const currentWeekPlans = mealPlans.filter(plan =>
      isWithinInterval(parseISO(plan.StartDate), { start: currentWeekStart, end: currentWeekEnd }) ||
      isWithinInterval(parseISO(plan.EndDate), { start: currentWeekStart, end: currentWeekEnd })
    );

    const upcomingPlans = mealPlans.filter(plan =>
      isFuture(parseISO(plan.StartDate)) && !currentWeekPlans.includes(plan)
    );

    const previousPlans = mealPlans.filter(plan =>
      isPast(parseISO(plan.EndDate)) && !currentWeekPlans.includes(plan)
    );

    return { currentWeekPlans, upcomingPlans, previousPlans };
  };

  const { currentWeekPlans, upcomingPlans, previousPlans } = categorizeMealPlans(mealPlans);

  const renderMealPlanCard = (plan) => (
    <Link to={`/meal-plan/${plan.MealPlanID}`} key={plan.MealPlanID}>
      <Card title={plan.PlanName} count={1}>
        <p>Start: {format(parseISO(plan.StartDate), 'yyyy-MM-dd')}</p>
        <p>End: {format(parseISO(plan.EndDate), 'yyyy-MM-dd')}</p>
      </Card>
    </Link>
  );

  const openModal = () => {
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_modal').showModal();
  };

  return (
    <div className="p-6">
      <h1 className="text-2xl font-bold mb-4">Current Week</h1>
      {currentWeekPlans.length > 0 ? (
        <div className="flex flex-wrap gap-4 mb-8">
          {currentWeekPlans.map(renderMealPlanCard)}
        </div>
      ) : (
        <div className="mb-8">
          <p>No current meal plans for this week.</p>
          <Button onClick={openModal}>Add Meal Plan</Button>
        </div>
      )}

      <h2 className="text-xl font-bold mb-4">Upcoming Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {upcomingPlans.map(renderMealPlanCard)}
      </div>

      <h2 className="text-xl font-bold mb-4">Previous Meal Plans</h2>
      <div className="flex flex-wrap gap-4 mb-8">
        {previousPlans.map(renderMealPlanCard)}
      </div>

      {isModalOpen && <AddMealPlanModal />}
    </div>
  );
};

export default Home;


==================== C:\Code\recipe-app\client\src\pages\Login.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import TextInput from '../components/ui/TextInput';
import Button from '../components/ui/Button';

function Login() {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleSubmit = async (e) => {
        e.preventDefault();
        await login(username, password);
    };

    return (
        <div className="flex items-start p-8 justify-center w-full">
            <div className="flex flex-col w-96 rounded-box bg-base-200 p-6 gap-4">
                <h1 className="text-3xl font-bold self-center">Log in</h1>
                {/* <span className="self-center flex gap-2">
                    Don't have an account?
                    <a className="link link-secondary" onClick={() => navigate('/register')}>Register</a>
                </span>
                <a className="btn btn-neutral">
                    <i className="fa-brands fa-google text-primary"></i>
                    Log in with Google
                </a>
                <div className="divider">OR</div> */}
                <form onSubmit={handleSubmit} className='flex gap-4 flex-col'>
                    <TextInput
                        label="Username"
                        value={username}
                        onChange={(e) => setUsername(e.target.value)}
                        required
                    />
                    <label className="form-control w-full">
                        <div className="label">
                            <span className="label-text">Password</span>
                            <a className="label-text link link-accent">Forgot password?</a>
                        </div>
                        <TextInput
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            required
                        />
                    </label>
                    <div className="form-control">
                        <label className="cursor-pointer label self-start gap-2">
                            <input type="checkbox" className="checkbox" />
                            <span className="label-text">Remember me</span>
                        </label>
                    </div>
                    <Button type="submit">Log in</Button>
                </form>
            </div>
        </div>
    );
}

export default Login;


==================== C:\Code\recipe-app\client\src\pages\ManageAuthors.jsx ====================

// src/pages/ManageAuthors.jsx
import React from 'react';
import AuthorTable from '../components/AuthorTable';
import AddAuthorModal from '../components/AddAuthorModal';

function ManageAuthors() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Authors</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_author_modal').showModal()}>Add Author</button>
      </div>
      <AuthorTable />
      <AddAuthorModal />
    </div>
  );
}

export default ManageAuthors;


==================== C:\Code\recipe-app\client\src\pages\ManageCategories.jsx ====================

// src/pages/ManageCategories.jsx
import React from 'react';
import CategoryTable from '../components/CategoryTable';
import AddCategoryModal from '../components/AddCategoryModal';

function ManageCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_category_modal').showModal()}>Add Category</button>
      </div>
      <CategoryTable />
      <AddCategoryModal />
    </div>
  );
}

export default ManageCategories;


==================== C:\Code\recipe-app\client\src\pages\ManageIngredients.jsx ====================

// src/pages/ManageIngredients.jsx
import React from 'react';
import IngredientTable from '../components/IngredientTable';
import AddIngredientModal from '../components/AddIngredientModal';

function ManageIngredients() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Ingredients</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_ingredient_modal').showModal()}>Add Ingredient</button>
      </div>
      <IngredientTable />
      <AddIngredientModal />
    </div>
  );
}

export default ManageIngredients;


==================== C:\Code\recipe-app\client\src\pages\ManageMealPlans.jsx ====================

// src/pages/ManageMealPlans.jsx

import React, { useState } from 'react';
import MealPlanTable from '../components/MealPlanTable';
import AddMealPlanModal from '../components/AddMealPlanModal';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';
import Calendar from '../components/Calendar';
import ShoppingList from '../components/ShoppingList';
import { useData } from '../context/DataContext';

function ManageMealPlans() {
  const [selectedMealPlan, setSelectedMealPlan] = useState(null);
  const [addingMeal, setAddingMeal] = useState(null);
  const [modifyingMeal, setModifyingMeal] = useState(null);
  const { mealPlanRecipes, recipes, deleteMealPlanRecipe } = useData();

  const handleAddMeals = (mealPlan) => {
    setSelectedMealPlan(mealPlan);
  };

  const handleAddMeal = (date, mealType) => {
    setAddingMeal({ date, mealType });
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = async (mealPlanRecipeId, remove = false) => {
    if (remove) {
      if (window.confirm('Are you sure you want to remove this meal?')) {
        try {
          await deleteMealPlanRecipe(mealPlanRecipeId);
        } catch (error) {
          console.log(error);
          alert('Failed to remove meal');
        }
      }
    } else {
      const mealPlanRecipe = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
      if (mealPlanRecipe) {
        setModifyingMeal(mealPlanRecipe);
        setAddingMeal({
          date: mealPlanRecipe.Date,
          mealType: mealPlanRecipe.MealType,
          recipeId: mealPlanRecipe.RecipeID,
          mealPlanRecipeId: mealPlanRecipeId
        });
        document.getElementById('add_meal_plan_recipe_modal').showModal();
      } else {
        console.error('Meal plan recipe not found:', mealPlanRecipeId);
      }
    }
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Meal Plans</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_meal_plan_modal').showModal()}>Add Meal Plan</button>
      </div>
      <MealPlanTable onManageMeals={handleAddMeals} />
      {selectedMealPlan && (
        <>
          <h2 className="text-2xl font-bold mt-6">Meals for Selected Plan</h2>
          <Calendar
            mealPlan={selectedMealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === selectedMealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
          />
          <h2 className="text-2xl font-bold mt-6">Shopping List</h2>
          <ShoppingList mealPlanId={selectedMealPlan.MealPlanID} />
        </>
      )}
      <AddMealPlanModal />
      {selectedMealPlan && (
        <AddMealPlanRecipeModal
          mealPlanId={selectedMealPlan.MealPlanID}
          startDate={selectedMealPlan.StartDate}
          endDate={selectedMealPlan.EndDate}
          defaultDate={addingMeal?.date}
          defaultMealType={addingMeal?.mealType}
          defaultRecipeId={addingMeal?.recipeId}
          mealPlanRecipeId={addingMeal?.mealPlanRecipeId}
        />
      )}
    </div>
  );
}

export default ManageMealPlans;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipeBooks.jsx ====================

// src/pages/ManageRecipeBooks.jsx
import React from 'react';
import RecipeBookTable from '../components/RecipeBookTable';
import AddRecipeBookModal from '../components/AddRecipeBookModal';

function ManageRecipeBooks() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipe Books</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_recipe_book_modal').showModal()}>Add Recipe Book</button>
      </div>
      <RecipeBookTable />
      <AddRecipeBookModal />
    </div>
  );
}

export default ManageRecipeBooks;


==================== C:\Code\recipe-app\client\src\pages\ManageRecipes.jsx ====================

// src/pages/ManageRecipes.jsx
import React, { useState } from 'react';
import RecipeTable from '../components/RecipeTable';
import AddRecipeModal from '../components/AddRecipeModal';
import AddRecipeIngredientModal from '../components/AddRecipeIngredientModal';
import Button from '../components/ui/Button';

function ManageRecipes() {
  const [selectedRecipeId, setSelectedRecipeId] = useState(null);

  const handleAddIngredients = (recipeId) => {
    setSelectedRecipeId(recipeId);
    document.getElementById('add_recipe_ingredient_modal').showModal();
  };

  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Recipes</h1>
      <div>
        <Button
          size='sm'
          variant='secondary'
          outline={true}
          onClick={() => document.getElementById('add_recipe_modal').showModal()}
        >
          Add Recipe
        </Button>       
      </div>
      <RecipeTable onAddIngredients={handleAddIngredients} />
      <AddRecipeModal />
      <AddRecipeIngredientModal recipeId={selectedRecipeId} />
    </div>
  );
}

export default ManageRecipes;


==================== C:\Code\recipe-app\client\src\pages\ManageSubCategories.jsx ====================

// src/pages/ManageSubCategories.jsx
import React from 'react';
import SubCategoryTable from '../components/SubCategoryTable';
import AddSubCategoryModal from '../components/AddSubCategoryModal';

function ManageSubCategories() {
  return (
    <div className="flex flex-col p-6 gap-4">
      <h1 className="text-3xl font-bold">Manage Sub-Categories</h1>
      <div>
        <button className="btn btn-sm btn-secondary btn-outline" onClick={() => document.getElementById('add_sub_category_modal').showModal()}>Add Sub-Category</button>
      </div>
      <SubCategoryTable />
      <AddSubCategoryModal />
    </div>
  );
}

export default ManageSubCategories;


==================== C:\Code\recipe-app\client\src\pages\MealPlanDetails.jsx ====================

import React, { useState } from 'react';
import { useParams } from 'react-router-dom';
import { useData } from '../context/DataContext';
import Calendar from '../components/Calendar';
import Button from '../components/ui/Button';
import AddMealPlanRecipeModal from '../components/AddMealPlanRecipeModal';

const MealPlanDetails = () => {
  const { mealPlanId } = useParams();
  const { mealPlans, mealPlanRecipes, recipes, createMealPlanRecipe, updateMealPlanRecipe, deleteMealPlanRecipe } = useData();
  const mealPlan = mealPlans.find(mp => mp.MealPlanID === parseInt(mealPlanId));
  const [selectedMeal, setSelectedMeal] = useState(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  const handleAddMeal = (date, mealType) => {
    setSelectedMeal({ date, mealType, mealPlanRecipeId: null });
    setIsModalOpen(true);
    document.getElementById('add_meal_plan_recipe_modal').showModal();
  };

  const handleModifyMeal = (mealPlanRecipeId) => {
    const meal = mealPlanRecipes.find(mpr => mpr.MealPlanRecipeID === mealPlanRecipeId);
    if (meal) {
      setSelectedMeal({
        date: meal.Date,
        mealType: meal.MealType,
        recipeId: meal.RecipeID,
        mealPlanRecipeId: meal.MealPlanRecipeID,
      });
      setIsModalOpen(true);
      document.getElementById('add_meal_plan_recipe_modal').showModal();
    }
  };

  const handleSaveMeal = async (mealPlanRecipe) => {
    if (selectedMeal.mealPlanRecipeId) {
      await updateMealPlanRecipe(selectedMeal.mealPlanRecipeId, mealPlanRecipe);
    } else {
      await createMealPlanRecipe(mealPlanRecipe);
    }
    setIsModalOpen(false);
  };

  const handleRemoveMeal = async (mealPlanRecipeId) => {
    if (window.confirm('Are you sure you want to remove this meal?')) {
      await deleteMealPlanRecipe(mealPlanRecipeId);
    }
  };

  return (
    <div className="p-6">
      {mealPlan ? (
        <>
          <h1 className="text-2xl font-bold mb-4">{mealPlan.PlanName}</h1>
          <Calendar
            mealPlan={mealPlan}
            mealPlanRecipes={mealPlanRecipes.filter(mpr => mpr.MealPlanID === mealPlan.MealPlanID)}
            recipes={recipes}
            onAddMeal={handleAddMeal}
            onModifyMeal={handleModifyMeal}
            onRemoveMeal={handleRemoveMeal}
          />

          <AddMealPlanRecipeModal
            mealPlanId={mealPlan.MealPlanID}
            defaultDate={selectedMeal?.date}
            defaultMealType={selectedMeal?.mealType}
            defaultRecipeId={selectedMeal?.recipeId}
            mealPlanRecipeId={selectedMeal?.mealPlanRecipeId}
            onSave={handleSaveMeal}
          />
        </>
      ) : (
        <p>Meal plan not found.</p>
      )}
    </div>
  );
};

export default MealPlanDetails;


==================== C:\Code\recipe-app\client\src\pages\Register.jsx ====================

import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';

function Register() {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const { login } = useAuth();

  const handleSubmit = async (e) => {
    e.preventDefault();
    const response = await fetch('http://localhost:8000/api/users/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ Username: username, Email: email, Password: password }),
    });

    if (response.ok) {
      await login(username, password);
    } else {
      alert('Registration failed');
    }
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <div className="p-8 bg-white rounded shadow-md w-96">
        <h2 className="mb-4 text-2xl font-bold text-center">Register</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Email</label>
            <input
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <div className="mb-4">
            <label className="block mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 border rounded"
              required
            />
          </div>
          <button type="submit" className="w-full py-2 text-white bg-green-500 rounded hover:bg-green-600">
            Register
          </button>
        </form>
      </div>
    </div>
  );
}

export default Register;


==================== C:\Code\recipe-app\client\src\services\apiService.js ====================

import { supabase } from '../supabaseClient';

// Categories
export const getCategories = async () => {
    const { data, error } = await supabase.from('IngredientCategories').select('*');
    if (error) throw error;
    return data;
};

export const addCategory = async (categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .insert([{ CategoryName: categoryName }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateCategory = async (categoryId, categoryName) => {
    const { data, error } = await supabase
        .from('IngredientCategories')
        .update({ CategoryName: categoryName })
        .eq('CategoryID', categoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteCategory = async (categoryId) => {
    const { data, error } = await supabase.from('IngredientCategories').delete().eq('CategoryID', categoryId).select();
    if (error) throw error;
    return data;
};

// SubCategories
export const getSubCategories = async () => {
    const { data, error } = await supabase.from('IngredientSubCategories').select('*');
    if (error) throw error;
    return data;
};

export const addSubCategory = async (subCategory) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .insert([subCategory])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateSubCategory = async (subCategoryId, subCategoryName, categoryId) => {
    const { data, error } = await supabase
        .from('IngredientSubCategories')
        .update({ SubCategoryName: subCategoryName, CategoryID: categoryId })
        .eq('SubCategoryID', subCategoryId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteSubCategory = async (subCategoryId) => {
    const { data, error } = await supabase.from('IngredientSubCategories').delete().eq('SubCategoryID', subCategoryId).select();
    if (error) throw error;
    return data;
};

// Ingredients
export const getIngredients = async () => {
    const { data, error } = await supabase.from('Ingredients').select('*');
    if (error) throw error;
    return data;
};

export const addIngredient = async (ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .insert([ingredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateIngredient = async (ingredientId, ingredient) => {
    const { data, error } = await supabase
        .from('Ingredients')
        .update(ingredient)
        .eq('IngredientID', ingredientId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteIngredient = async (ingredientId) => {
    const { data, error } = await supabase.from('Ingredients').delete().eq('IngredientID', ingredientId).select();
    if (error) throw error;
    return data;
};

// Authors
export const getAuthors = async () => {
    const { data, error } = await supabase.from('RecipeAuthors').select('*');
    if (error) throw error;
    return data;
};

export const addAuthor = async (authorName, authorImageURL) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .insert([{ AuthorName: authorName, AuthorImageURL: authorImageURL }])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateAuthor = async (authorId, author) => {
    const { data, error } = await supabase
        .from('RecipeAuthors')
        .update(author)
        .eq('AuthorID', authorId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteAuthor = async (authorId) => {
    const { data, error } = await supabase.from('RecipeAuthors').delete().eq('AuthorID', authorId).select();
    if (error) throw error;
    return data;
};

// Recipe Books
export const getRecipeBooks = async () => {
    const { data, error } = await supabase.from('RecipeBooks').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeBook = async (recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .insert([recipeBook])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipeBook = async (recipeBookId, recipeBook) => {
    const { data, error } = await supabase
        .from('RecipeBooks')
        .update(recipeBook)
        .eq('BookID', recipeBookId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipeBook = async (recipeBookId) => {
    const { data, error } = await supabase.from('RecipeBooks').delete().eq('BookID', recipeBookId).select();
    if (error) throw error;
    return data;
};

// Recipes
export const getRecipes = async () => {
    const { data, error } = await supabase.from('Recipes').select('*');
    if (error) throw error;
    return data;
};

export const addRecipe = async (recipe) => {
    console.log('Inserting recipe:', recipe);
    const { data, error } = await supabase
        .from('Recipes')
        .insert([recipe])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateRecipe = async (recipeId, recipe) => {
    const { data, error } = await supabase
        .from('Recipes')
        .update(recipe)
        .eq('RecipeID', recipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteRecipe = async (recipeId) => {
    const { data, error } = await supabase.from('Recipes').delete().eq('RecipeID', recipeId).select();
    if (error) throw error;
    return data;
};

// Units
export const getUnits = async () => {
    const { data, error } = await supabase.from('Units').select('*');
    if (error) throw error;
    return data;
};

// Recipe Ingredients
export const getRecipeIngredients = async () => {
    const { data, error } = await supabase.from('RecipeIngredients').select('*');
    if (error) throw error;
    return data;
};

export const addRecipeIngredient = async (recipeIngredient) => {
    const { data, error } = await supabase
        .from('RecipeIngredients')
        .insert([recipeIngredient])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

// Meal Plans
export const getMealPlans = async () => {
    const { data, error } = await supabase.from('MealPlans').select('*');
    if (error) throw error;
    return data;
};

export const addMealPlan = async (mealPlan) => {
    console.log('Inserting meal plan:', mealPlan);
    const { data, error } = await supabase
        .from('MealPlans')
        .insert([mealPlan])
        .select(); // Ensure to select the inserted rows
    console.log('Supabase insert response:', { data, error });
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlan = async (mealPlanId, mealPlan) => {
    const { data, error } = await supabase
        .from('MealPlans')
        .update(mealPlan)
        .eq('MealPlanID', mealPlanId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlan = async (mealPlanId) => {
    const { data, error } = await supabase.from('MealPlans')
        .delete()
        .eq('MealPlanID', mealPlanId)
        .select();
    if (error) throw error;
    return data;
};

// Meal Plan Recipes
export const getMealPlanRecipes = async () => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .select('*');
    if (error) throw error;
    return data;
};

export const addMealPlanRecipe = async (mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .insert([mealPlanRecipe])
        .select(); // Ensure to select the inserted rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from insert operation');
    }
    return data[0];
};

export const updateMealPlanRecipe = async (mealPlanRecipeId, mealPlanRecipe) => {
    const { data, error } = await supabase
        .from('MealPlanRecipes')
        .update(mealPlanRecipe)
        .eq('MealPlanRecipeID', mealPlanRecipeId)
        .select(); // Ensure to select the updated rows
    if (error) throw error;
    if (!data || data.length === 0) {
        throw new Error('No data returned from update operation');
    }
    return data[0];
};

export const deleteMealPlanRecipe = async (mealPlanRecipeId) => {
    const { data, error } = await supabase.from('MealPlanRecipes').delete().eq('MealPlanRecipeID', mealPlanRecipeId).select();
    if (error) throw error;
    return data;
};


==================== C:\Code\recipe-app\client\src\utils\cache.js ====================

// src/utils/cache.js

class Cache {
    constructor() {
      this.cache = {};
    }
  
    set(key, data) {
      this.cache[key] = {
        data,
        timestamp: new Date().getTime(),
      };
    }
  
    get(key, expiryTime = 180000) { // default expiry time is 180 seconds
      const cachedItem = this.cache[key];
      if (cachedItem && (new Date().getTime() - cachedItem.timestamp < expiryTime)) {
        return cachedItem.data;
      }
      return null;
    }
  
    invalidate(key) {
      delete this.cache[key];
    }
  }
  
  const cache = new Cache();
  export default cache;
  

==================== C:\Code\recipe-app\frontend\.eslintrc.cjs ====================

module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:react/jsx-runtime',
    'plugin:react-hooks/recommended',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parserOptions: { ecmaVersion: 'latest', sourceType: 'module' },
  settings: { react: { version: '18.2' } },
  plugins: ['react-refresh'],
  rules: {
    'react/jsx-no-target-blank': 'off',
    'react-refresh/only-export-components': [
      'warn',
      { allowConstantExport: true },
    ],
  },
}


==================== C:\Code\recipe-app\frontend\index.html ====================

<!doctype html>
<html lang="en" data-theme="cupcake">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================== C:\Code\recipe-app\frontend\postcss.config.js ====================

export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}


==================== C:\Code\recipe-app\frontend\public.zip ====================

PK    [X.  6  
   .eslintrc.cjsQn0N0Eb34(:RZ fXgpf@eUH
NGK0gYpEjboV 8%k:`&yaM|x(d m;k^+bgB0Q\I]bzmy D+p+r] "JI}2sCfl4eKZHGl+BPEu5DSp,]gB1]vx`>djPK    [X      
   .gitignoreeM;0}n[BcT]i!!XO~9*XWheyay>8e$TQl{ s
1""-[/+{GFnT&p1w.]cR^Vuk /PK    hlX*    ~  
   index.htmlER0E
mI;q [4~d5m	=s=62CEN8Ew@70ed%pyC02H:A`Q\l0hfQn['ZeErxY7$
fr/3
Uig'm/3XrV;Sm3"nqbSq5F=M$It]DzW PK    XK        package.json}Rr0k
 leNr^298,:BR)cB@5xBkRD&k*] ?9d@CrjmC:B2	@g<8&h>=k N98)o(4tcf
DR_V(9m&rFt-7/5m/`twnFDc^y$}6iq4=&yxT\b;E&
8e'f-+yC?Wr^,^;
^vxa+vloI}PK    Xu      package-lock.jsonYW6WQx;Iv|:\}[GG_Ddd{WLjLRCtyEAbMA,VuOel+~1
3W0EU=;V=
$Q5S1`Zl4T 44:D8`0'\M3^&S\4+@f)
KeyiL<`0yPAZ4 hB |wlz= WZ(\zf:'bqf
s6ci78hd.5FAd~Ooj\I~K%4UN?
,8p(_
!2{<l*N@v4QqiNtd@'RYhm,++c-eW=p5B:qY9avx~<4@h_v\E6\{ J$A7
8\SMz
p!!t>{JF-}k*Nz8jua
6Z-2RwQ3l
C+lcpZmIl<>e0YF` 6K!;!_Y
q\Wn`CzSE-C~7Quy3^YQX`xsOi2;T]|o|X;]I}loz7wl _ $9A6w"4,wE]vW"'Y!">Vh;cO{[2S\!#_^~<zHro7iM:'A`$3dWY7yt?Ia9a]QsgA&qHY9-?:kY|1R	|5k35,#v^WjW;3f]AXcIvRscZIp/iAziO/26YA^QcM,y8/~}xO70
0\)a_43DqV( KXft,`gfl'6DwS)JT?Y)x2>M_o*klI?mVtyQNNJz.DJtLk`tfdkngQ-:$_Xyv8:Qg'IK	;qp 1U+/8jmfX$
3HahtB]3R

H
7TFrz:$4	[4/
raf*t}f>kg7#'.0=_+[+{J14k\HY}8%%kg':i|R
}-k@;QQ	P5b/GB37q\xut9aR1	:p%Z\*a> [H g7SQeZ]LFJ(:La
	!.>p:\>23Xb	b1?V{{~sa+8[d7aXv	*>eNaE]30.H0f!RzW2Lib5`Xu?hgz\zitQuLo kAF0u_MrQ!<65}f+yt>u|5T.Ko6z~%J7{txdN7[+"HTG
!>}yTx Qm?)*MQ|45.4fBzD1<N[<8lWct=sV iE`"bo :#ZQ|MWJAwd->%bcjUJ[[d=&w
JClDV3eZMh Fz1C=tFf*)+-G;_OaeVY?)q1
5[\Y
dt"Nue"\&w;0%[7CIWzbz@HU=el<5?<unM-.I,Ca[ngY{#iaw+5<}GYoxD]p
0zuUr\=a5/ttYm$a.yJd? ]<'s?.RL0,l9Pf[
HIWpHW9(: ;019E.*rMsDz)ahMw2tR"0u%"= ErArqvVwT;!W,7#w1Od.|@,v!=	
=LXiHbBIQEVZ^3
}~T=>%DnT>>mfqNviNMe8~fbuFbKg	6Z%2T)drT6&l4TAOFhdp
"S8i?v9Jb<j>o{eYA=-.2 Lj"6
n-Za9(h?l6TcW_vR61+e"0,e
gSyf16cI	 $[]
~9;TOP.oF]k75t/NY<Jn@EK]y+|fxdfuOnEOxVz{S~3?HSOq)KNz9fiW`gxW,^Sm'[lxq]n}wX{@3
YL}jJVg_<naVeQR $TPX'wlg&lo,8u="Rm1b5{>q
 jg4dRfns& ,I]_jnu!PL*8o.qL_#6~=J!I, f,k7^ NbJ[mimnc	7Mr[p(cO""cM,Q }02.~;N.JW]C`w*z80beLgl`D~:'y`L\C5_
;h	lW]8t9_=H\qXQD!x$ dH[_Sl*z8%LCMf+|O=<gvJ{8[)YFmbAt=qV [~`+8WdXN6^xz| s>xl6;`b|BE5S yE9t  +,^)JLSKv^hp^LtxVRkiF<dl'92K#U@-ng)}6MfcE:_d5s3=M=$r$i{LFBjtV=vfXTkN;	y.D%;3YF]	a)
qj>O7cO-|5n
rE@!>mkw&{YUPO]*YUKs@Lbe\|b#1Dw<n|3GXItd3
?f.EKE+c+KC@:mP,Z+N?wXIbpW*(E=1=+.E[XBy<
:LNEy-&,4]sa6V!AD{7SAkDnZ $}('a+nk$]-  =z!,4apshTW}cLRaL%	jEuE+/'I4#Fx -v-+Dm^wy$Ca;%2Z~dd+_L{C
0	TyTGqPAYFXA P;&~C%Y"l_y
y0pe$WrYG,0 8:t~I#U 1fxQzP4166|"'Ba8m6F4
PlNJCD31rHjmB)	(;rq0Mfm*2
}I O0.J|RYCMUFdKNJ+4<- :3[&|jO !8L?> N7{'>,HsZEo!x) QB`cv	8xE^tY ZJDM? nOO@*S,P^r(5Aj!KDmPx8
R	:Ck[XNn1	?2lTMl?f|a{7tpiZnH[tV3Y1I8eU5ff1_)zni81uhrGSz@^cZedM@lu:qjKzwIox&L'AC`|&3EKJ-x$~7;<>Szo^RJo,
Dx%K+:5rm*-E "IK4[%oM]6ZG.2k`3TTH\+WZKe@zmA/5S1k&~Fq#Hd[qjH*
)5g#6K8DOYv<'J/YPr*bqNGL"e3+2;5b0gXEv0j3%h)@]/6Ns?dBA~=IG'&qKAE]lQDp/*cZ\+#);EeLPd*^+ BQ
s`d	J 	J=-.-x(&o]4_gnw&BH^"(@}FJ`TAS"q<F@j%
b4\^0Ir:'<L*U
Uzi"~w_m@~Ae60}S=[}6V]5*B7}ve@zSj\]}#[Dg{#8u[M0enxK$|0#%|V4Y@w!*G7$Vp];Ub'CwG9B]G~xo{'2]UK$=r#~IAi@
e"'Npd jn:w vo[1Om#+ $^~
[
(=ensW}H7E1JX~0Ef>s'W[&
,pScv% .	f *O7/^tN4[lfWn}{_}=ORY]zjCtl+rW9X*3&`AMF55j*F.7T$pe0L#LPQ85]<}prO[kc=?gEk'abtH_G!&v`CthL_ `-l	ez CK\R0;P6 fym1?qu9Ode}f}/]|p#RXK
	G
!nR:Q}Lf	0DQ2qB`	U`,62vkGPYYspn{#WaM_>e_u<p=?dW{:RE%:J]i
7t17Mb/n1caka	,h9I
G\)DC]Fw [
gnPgLcQM\aBZ~}?o{hPBsv|m#="fGjAi|E.2X(^y_dBO],]Qj	!An)U}oc?r=%xfk3Yy QH	CTgp`O5f+^(]fF/H7|iOuBTZk g` g)Xu,uQt(.scw]Z)`WgC9=<QHf,@g.1>*<5fKH\(kmD
F
(ul}"f? K5xa?@?pp/#b8UMIAZ~x9z;(7}8}JdXq}PpJJ52&{#A}Jq|3>%07w2>=1/z`
SB5*++$m;K)4g*!HxBs;Fs\*h\T}	W4
wOozS7Kj=j chHwBNofcHv%vpqzDHL:x~p27C>bQ/uLV
?{,zFla!DXHcu`+`ToJ"8m. R-UZI@u|j-YagT_#_Wq<7A?#?:&Sod9<I`midXPciJbIf}oW5EZTyh4sZoF/>
o@$1pTg_l:9j'JTDX~BXKkIEW|B	fS0![:CL
}2Yx&\sBa$zOd%.Aq*wg_'_>xG~x`	MAdYHR&4=HelH	MLTmGSR4,w{KID|@l?COaip<(9Lkhfpb?]@,It6RSbfbdg~+6
Zskf'.^}WN$)p,VX[+}rJt
oj!V0,905`*8*3)k9gCi$C0
/rg,^Ygo6GNIDB=Y7/]8&.%',"&p^.Vz'[BEO@y"Y}1^_y_gzyK:<Z$&`7<!Ouu-,9L` HbE_P<:}zL"u6V?G\ y \jZT1?93Kt|\NP%qd8i!o%=Ts8Cwn'`k{j[X.q1[` cdUIXB0iFxR ()d1
se|+
^n~8E53Wj*Mta>FA)F%65M[._ZY xnvaX2,YYiol}%d($4pWB=mn@m@Jo$E_(6cSch I1eAzVkFB,niNn$#IH`SW
l4t<4SyCzSLO=^!dBhZ[g|4exrP,=z*B]=0~h+O&BYYVM2EXvmP!bY0v20YWit:'Ry3WW
a~( kv.RbA9]>e93vD@\JsD5t7i5=y5H6#LKHKt j$A)rv+cXP$l0nGM5m_ymd*JOyzec\	B"^Z!I
lnhfFW6(Xkhe^xAW6E6,I*J|.
g@m
6Xb1*<
cIATULovbwb3&[m,-TVfVuwRX
qMKXMvR m}kboJ-q<$.Hhba
)186RAT
?a$)OhZ2H|8y7f]ea{mqDRFYmpFS\,Fp,#
a)W?*Rm*r
A&jj^a<5X
y}@[z0x"4'EB9#S NJ}8Ua_S*&aC_dm/O]ir9qa6[+ScDtG[9p)RLMGv(Qk4TUs+Mh@1_^(v~%wBEzoiY:}g@W|LKYOI~Ym Omb5O.kf-JRrP|P\`-FjfvNXaE&eC{k3
?b>kOt,] _V{?-|3
f6Vm(4yd,.Ckm
l2cX`J0ORQ+gR</~Nk_V>_&ued%]<P		M
)Tji]O8P;hL:[WOa	N|{F-"t
t/wc&~6]BEr<i YAXl7T;oBcFffTM5^XmoO;?dSSZixu!J|@fiI
=fWOnVT+Z:RWI8(bu'2?cov
A(A)9RZVY6LV=5AFu SdhR="d7e\l_T@;@JD(6bW8_[DjVCj
-
 hKY01]F8|r?hg:7gfn=JMC$9wyz1"$kF[KFEnMKPgkp|
#-zoEr~2r}[EV<mnP|[1KLy>W4B0(MYBF7Kk6z#RLpz5JXps	7d=>:T^ae[~5J|&[q8.{'52#1%d}$U".N\&,Lyde~ *M
S=O/12.^vL,|y}?>s@0uwDkETNN',NU0bq~Dvz6RaSV1!(I!5
a,^2|Y5R'fVMqHfAV`ok}:%/y:-=^>!pd0w_L&Z$=#u4V*Au^WZ|/
Tuw H^"]<:GYm;vM!=:h%GmAUZ5B,}%?
[2y!3t+q81gvR?g|)5Kf^F`wY|]<W=W}\T'>I>R#NcD"SL`vvf._-.~$W(Q4B\z:]!`zlAubyB{-.Q 8cXfwhfW,U^>FymKt`	.5DnhQidj aRpx %O0K_2 zfu9=/9`Iz]zWrO]BT+=P=
R!~K.l'jK
}BTPbu#T6m"Uel W0z^Y&/+D*ElR1Z S{*6D03Ve3 T6JSF2[,|o&[uK:Z%zNi>Hn ~c<NS=g<vei\sZk+~xy:&y,0Kr7":>`$A$>3N$T b8M?|ZEY!'";W*mdt=Q /bf>?A.kgH*UPdCak9kv^V`
8q	6#V~zP~? cMnkmj5-]3{.<:i'{m`x_so_wk,9{/2?R7xq	x&SvMIePGn	SaA91nB
}QT(nNY^5F(!1OoEA|zumt>J'u#?#=O^f">M9]t<)g~s/NE|~t=~{_u]k^/nx6+'dL7>xtm;w+4s%C0F8Nf
iK`+',gJ289F]sop	~nB}Fp6
Rvj"g5(%sggi2oA@]Z|jme&#9Rk"Wkj?[U{{<[_;\;2ix@&U,^i/2< 7I@AI$ooA3S35%nEU9to61	c+	@T
c{5\Lmomn$[cMGI08G`]lT+/	Jkx8hS!sbY2XZ`A
a+ ix.~4P^L@{xv9p%?N?{?j\/1eM|	j)y{mY#\>.3=^!]WNEe;b ~|z2@I_	4
|w F)"On\R<$pja.LZ8rb$d!c,3v24n&&t
v<^G =?Px}}$ $gQ_>nd+ :\h><e)T_.<5`npm
3EXNj<EQ"HPE?_\>r^pxYguujq)'>q9LCz`_v&Df2'VnaqV'0-Gn<Lbt}DLZ|\x[5UA\-6leh;jR~.[;/jwz#Wd>E;^<~^ZsMs(
#	pu#{`]mE#1+STVVDA=[	5u=tSh^w'gNd/Hu4;= 24)g
rJ:z2f%,&419pR&oqly4nj
PZnW_0p< Jl8h];F5 :A/[n@\Q"/n6uw5(26v=rRE?v{s&\h 4&gbXW]RYe6EApOH^2=|U:o-GpgVedsz"Gy;|c~gls4$WL!nA#Fy`ND"(-b\|#^=T|^q|v$Ke5|"fp/Ku0sm`46?:Yan'b`0!G4g%k=nCqIfQ<7(jwFz1Az Z"+kg#\K] :Hu_gS=
&
Z, N(F`SPeI&'sxM6:XmtaSYd/._cf0]QOqgi|onwS?zP~z\s0'}jCbs82,pt9KcF #XJ
KB (
%++^
b!37xX:uR_xreN]eoZoL?0a	 jaFHw#fB//xfG=};L74yB~e0sM9]0I79H<jl0X%_VF=@
]f9[|V#o Q
8;1
s KA3}d6]}p$(ObtFz8C?$n/Y(Vr5Vqdi7`|86Nm< k?h#a\|!pe|<N
]]#Y $@Z+$5cRqiZ}1@>L!7:~Drgj:MsvJ?I$}mXjJ:u/V,xsV4`+{BY2pb<Lr 6rve&(HBJ3-"@5"6(vTJ(Zkv#MglO:
H
v)WNL*2`91U`xOC{ Y9jv9~z (`5!7kv\w9I-QA08.3hKuO<ltXq:bZD%TYv$g'Rin>ZkPzY`]u/ `-Ug]9H3+WPE*Q$Pe@1LmQ1=i
	iJ:81126wZ#|/mEn8.0dg@Sf)KItJTxMQ
7pOK\=fv_6|;ty@pT$jy"DF&X,h^K~7/9`i1H|`HY;z|r7s
nGybEhaEbaf8dC|Kdk,DvVgnaICb=vm2 bY"ts%Q]762K)+5>:xd?6%OGZ4{8YXBQPqb)0&-|{fM9GIoCyf4NE5}q/=mr]7hN#F?QKN=ETj2^_p4gh QLxLUB
,hq-8MLu/al2SsGma[h;/& h'(21Q]&14)p=H'UMsZ]
M&"+p_G>zOEX{0;<>jAre+De~*S
 Vq
[x3)xKd<\;}%r3!AiWc96[BB0s)ha1p#DG0q'uVJ@up#Zp ]/TO,u.syCS2LpG`
^-Fl.rjrb6]Ik~,lT:N&cT]~
'5|}sK[Iw|aREJ
/mwUW^jx..?dtO8v9u3;Pb:$$#AC\_ `Xf 7%O~y;NbJf)wpIAa:" Y=l| \5epz
I6R&'"(ZSq C"|API/nz X/>[UcOayOe6	#
@`y'#jz	A?jU/yWbsr~%q5ashhDD+!Q=CIM4+Q&b;&]P<$01-:9P<s|#
n[_e[oo%Q?_}H94t9&6
g.
D*dg*g6nKO b>6]$Fef^Uf}vxBW1/zC@ XrOd8ap%|b>VR@jq
) 3u(BJ:y4jaPCRllWv50L-le8]9up?b9y[dCs_WFJ8{ixe?N}1EkY:l
9-j2;/uOR6("D &;>o=qo}i'y&Hc:GS,hA#2!VsWxw?4`/6ZF{	
lQ#UMfL$v63:W=:!'^JoH.#A!
$Et?P\bc?,vjX`-w:>:E~i>91I-V QH&uKgkSy1S7)j9;W5 UULD;P&,LF4DE[=aeV>\C.0
qyANu1;eC$T+QM=6w-r?#P|V#m/[t@9>8`k
#:PCg&t`8Z1#\n7$<M(( 6ff`-	QgP@@8,((tK&`pL-uI~N\+;=!N!&itTG|8MOtJSYcu&0{:>l]AoUM}3gwot+}U#@\Uw7|2}?n/*rr.ubfiYa6[q	cJ@H?M|i|(vOO*M{5Ig=b 30DogmpZOeFOx'3A" a$.u*fTPU!OM19OS1PrfC,pv  \/ (Rd/a"TC/ppO1WlmtS8r(0	V
OA-+*
C_b. i!8V@*@/]T\b+b)QC."l.-x:u 6pl8#e3C;WkR3t&a+O${mZ~oyXY3uyXCug
dw{k! 5B#84AwxcTrwx7Ki(k80C.V
A&7ltGmmhg:V$/x\Ed$mX@A57i\w}6)XpE;yw9V,}JdC
x MYkLn^BuJM
n*g63[sqIW6>|XeOp>cRfZQ#m0o@$3`vgZ]bo-riaS}~u.22vEz5BmPEU!_g~Ao.pE~pz0CTFliv(mQ7E6 uo,QJj8x>	lwF;uS4cvuaRieC8
=!VSm	}`17UsV)i_;zvz!+uC
IzUK.Aj}9=:qH8SJlFwgu:_`z9fGPc9BCc-X
dAksK$n8n,tj]"DK=hS%RR!;u9%lZK83N$!>dma%ZS{;l5VM1p51*Lj"Vd~MXZ7zzgN
X ;3 CzeEwi8I4|j" w][HcjzpvmdN$jPIQ`&iM;+}3-5Xu}SG50u1qer
RanO4tpL [>!CZ4?TV:+Cx/(} [v3%jrTv?}v'0RanU6.^VKVbw( fe@;[I\w~R8o;(Y7Ns;TVV`J\td7cy)
NhICSR%)|Y%vZHx%=^3,c9Ot}7H={@v&Fj*^tGIl!CVlE'd\aRXLnCE%f^{R,xQ{rk	Qh"~$~QAIl;}dA\UnCG=;/vrU0i'$(s}TqvC in&$Ff{t6	q{e<?#y2rC,ICD%\)Sq{l7c5
twQ0z%UOEhv'^RJ{{;zBZ6-_;VwyVx f6@R;xzNN,:l.xt4u(OE>%f$!>WjSd5>M+S4>a3-,NV[Y8w&gI~cKP5KMi;'n**uQiRWFn[X3[W`
FM.Y_HtIVI"-`q{nN)M#VSGa[,)y8+N#J9o{)U8?B;eQf:V]bV}orG.(xeOtWiQXG7?qn8ye_z\7WBWX*<mAz?tjGX< zA2t ^FF|=zJ^jCKmOGWnYU,?Qf **dE]Ui!:}`v?oEKNy
m93G'^hTdB
\3WnUsb)jHHT,}xoYulE\'kSj`B]R %b5*Wl&uMD)u3'_uSX6S2X|J(NFgt?Ih!* "tc*y\.18	]ewFZ8i(\G25
wU>)m6QC5_=6}Tx<%Yg!4,ga
@>4J[ ;QCv~w;O6L[u+#8|^GyxS=qqTa"O[A=nn{D	5)DAw`QgG|	0?2-H^j4<o<?h
V*^+<";)mY-$_Winu}c.yR-`q!A;p#m^U){AfnO% V?GPNdz`yd`
/`Z^hyGwqhbXDFD.8DO.)Qs8| .~mMG!4`n}q[N];moC|:+<3E=@|w:#;fG#<*kw-cgt@ /oX[Ug=D(W1MvW+mxJ 3oMvs$<;<c}
m{!KY_x/k'=Z^z,O6'5t,_<(`nvkYDl2,-l =_6:=F8	za7f89i!|mxm/;#?puL4JPkZq=rs@?[>.8FDFDCwvk2@Bi~6H?03xu#KeB%K5McY55l`"L"piQh>)az
Cm@#D0u*i\M;`|{:YA6R:]?u?:!LE&jxe@{zLD'
,
/3`N 9Zo@1@ @9t+2Q'(K|Q:^!t\k3,)/+kRU[e}lLGtG "`GQY_jYE9~,@~r{ XN
l	1(| @)oFR4(6t90a2DCh<H{<h|=1xC!xy'rJ;q}P/G#r)6Ht5 4
];RilLx0AB\T58,xE|yo&N/6Tz	p+uAbJUjZ"i.cdMh@0cV^'_cnqh9N.D";`	"FI>=yilN)!n:b3 R|
KBcuO=%6\T?s;z ko00CaLbrTv%XU%yv
5zIV8hM5z(~+nuoAtN=?vF7y3d?$/zySBO/zFf<t^};g A8DH-0-"c
K+V 61(elCcb]tjNxtBPkBo_nWf1h8d]k&Z4KQf}LXhf9C	M!A>>^s>{{ AhTW<$8]f[#00o8\7*MskJp	73a6n1*^f[8p${{'RhsGV	aRy#
V$cM3]4V.G%93f2kp J5bq}	H30\Fo~i4-.kWL+g* J[Np|d,g)dK^=?.}V;Hcxbx|mp}pBHj#w29n6&DWSR,-
R=)KFg<o"qum<cqzC1|0Q	]`6#V
t1m:qaj3oZLr)E k|Wh<_"J6*l3
7~\:?^H4+?ds;tD h&*2Lf <kJ"3H3e+f
:k":I[HYB
W>r0N_p;s=r}nysW5^i^<^w=o2QBIs%1y"0]hiBSgkniD"nMyM7T>S.ogJLOH}BT\+{x[6@	.r@w[|1>!16Q)U%{RW,ruU#i-yrTTo~yAg6!CZ!A8.MZ8LIMJl)Dmk5@YOARUlSZ7U9|t#:okO,
,qth|Z'A9:HXQ= YlVi]1G!#v8/=hg\7R#	>SYU`'Z-BZGS#w<"(=\s{o)	aZ`pe.847,k8\rJS4^	G%xS~~	)N~KK1o`%i3 O<k_-R)`^*(BAUEM65R"1
4dVwQy#y~T[gOlr^C(|aFS+_}SJ
eL=W7Wf rKi3Yb	<nUST1T>2x&zSPyJ $w+=:/@|IG5Q j
qT!vkP#l0
e%j l5Ejm*
LdHZ	[m{g|FX{GIz0|E{xz\Vo6;R3ZT+3
#nY#1N%kC=TIj\HR'qmf-{Hn\.O9[Z/hWr&YDZf IMnf{u]6I]
4Ijdv+&Zx+xh?ev$+g~eGjr0bT+,)"&xft2FSN*gbDe:p!`D>aox,\E:7eK'g<&)WG\$o9k;@7@T.Y#S:rGlMn 
%
a.Ru0$:vVjJDZV@lhv?~_Uy I ^Z~/CH3a'hRjV	VQ,x\\jU(8l$(Tg9+YTEGt<M%{:38n?.ZH0a8%?.?zMu],_{YnF&fJ[='}$=$qSgFSsdJ 8:6NHu
lLw~ x
Nh0?[o{Stu~v6:wJXt0L+fJjtB;NUod$Hv 2mRYfv#,f'3OBVS%
^Q|z6W>{d8Ma0<'%sp@5~VS[Wg_=?9<~cJl2>z*wh1*%~
c
f!UPmk^#x2F_z)	snRu2Gw
%9iH=T3d}KFd6tBX]7n1v98_y|;x:(K2'34CKSB0H%m[Y!K;=FYn	,l
{FM%'T_.r~k>>9PCy#`d+cU#}zv
{WI
jv+ ,OXn[O}AfV@;"su+R)[/	R)8r%;{$	=8~R_Uf#kp )Y:O&9Cs-vg> . 5L#i:]cGv\^bAu`PZcN'a`nK$].ycei'qa6MTxaFp1.;PuG/F;}W	J&q}`zjn]E=\Hs]#}3ZnMXI_i3=sbcth}	_`o8I{8g@u4B}0LZ+u [9pqDPS(`DE{>J]$1$f{i#M?}>y)Hs:v e7rKfi9sA|vMAq#%6Fic}=LSq.XxniK_	exa/Wi#
4qjp=NakA
+|5@f8Q@eSOu2T?^G<d$u[pE4|=L,yW*_sQ2,p<>AUCeiY{$P`!MUQD]gk$lcbLJ'p<wq)U
VNt,p#7S
	zW<, zKl =>nj0WgvAa;;b&=4syIM0!E<_au'_Ozl>XQ2')0.g0<KF'IL|TF7'U[Y5/YT
Nar34i?MM{pst]3?/D< w`\<VCZ4UgkY[*/]
dGDdWrBVMMf]W>Vw6?3mals 3E1iSf	[YHDPSd"t43c!#s<bUpE:KB wN
WK}Oq{+.um_Pisc4[9 5puuuzCY97:]MXtDL%qL,<yk4/C0~	s'r_Fd~U'.\u<}]d bZ'$|z7F2=rUrmh%al)goBk\1+>~byE2UJ a`lQl%IUd6[P%mbFqt yQ|${h<!Vxgv3k.<Rw3MUHZ1r xtE~y-OyS_?1-I;~:9J>{U(a}v>Ra)wLKqe6bljk2
E<'cF
OzLot/9ztq
deXq:F5(9$$/.=^1mX%*JBxn;UC`6'_G,>~B6\$jJ%n gHK}m]9z#^-m
->4K6R=:	xzOP*Pv{FwCQ 0>HY-yKI,d-j+*{Tq+]0ni_CuFU721je 5[l&Z.?A6nmR;$09CDPqw?A&'
NCsm|q!@;	eVMq&#,(fTvW!tdq6e6C/nFk3)`L^?lzo\;:c7K)9NBQbeQvPS[Mz[2$c)dX*m}5FSq+[2I*wp9Mo<w7^{c.jT`p4tA8Yk(Cg\bU
UgK~{Ar ,+~}cl.</6
!V?"e4$
,&,9bL(+} E^ew*t92tnZ5Qh1n=Qk(`p]8T?qH9<oO-7}]}hHY'TF#5kc@1cQ5&	LK1e$wcA&RXVC#`}h c#-5Z+_}/@})(8igHLu{CX#4	<;Bys[9Vb1Y;lm_x1W:S}~g%.SZ^~[TMHX/  8",x\zy
?w;6RLU
.{4NzD3lR[d


eTimb]K\ e?2O1WP|H_0q6z	;qE&Rf6XK`L`no+
oR'_Ip@kPKfr fZuf/Oxa*g4KveN7db$M[WsF).&F$V'.|+;gXJTm,I*f2rcXFjU/v(2<c{ /|:tv9	v=k6>$$Qh/>f5Z@"%D	#d-Y+w;MXL/E4jJTW~k^P8kEBJA6 W%T!5i^kU)!{>!{%1Fkh3z!kJ\8m;mdG8(C+V:;S?W;u<_,BEfpmeou*`M3lD2q/!TNN@sR\sp=Kao,=|!?/cA]GhSR	eMl9%A	)OyXgZl MTLP
Q=2o
Pn4\8-7eNvuGZh%uiot"/
Y"Aa#".+7_K+oP}at}/DRg:b$sM)WnJ"Cl#Y)ERPO}DL}{$BMm^m[w2%,{SadFiQSPdPZZUnO$1lH	rj}xm(>=r Q-hbGuaAH^dCH;~pq-f3Mo&D+XQ^oJ"bOQ<$n8TKL&SW
YyD_Z#e4P/-(,2
mr#AQ1zZb>!I:__b)9FPH2RRm?Ccv)D#b/	G<^R/xJ7h/\[CAE7bmsl^y;haJGsaS=w.o*<JWzW%Hu >/$n:~}@UCWc\zMVZ3C4
qwc) )pI)+L["?%m+lRITO>n1$Q  CY6NU B4z]JDOl#-z4u.Gc^,Oc<8pz>Mj*$3hm!@bD.Q:+b]	@.t
6dD
zgeY'xwHZq
p0n)>4nV @T,
[H4m{
XM:]	cS?IUmI	7>2((cG@Py!h~EAR|+3vQx=6+/0G?}'{utY} xHRz V&EhlK|5TZFxuq2dTv.HQ],,!R$NOG'GySLm[K/H-9jCB0S	]V&Whdcb!W_o]Q
5h	PPy+w{tB%}A
ESo\h+Z-pCl.Fmwj/`a#V"tc1me/Z5* dMAuBOnu/4?HuFnU:YzqcH&_jc=ppFj)r6PSN<"^K9Q)Mu6^>siyG]MqyXiok51^?Tj;_yVC%)/o\
n}W9$/mEbO,~F
9 hI]x%t4.Y"~g,(J*7S0LYd5{hZcz)Hl1Lk`ksKH\`81\(4U#ef.)4GNoV5rPf~[N'8,
[9Umx:jF?KD	dbo0:+ba6 ali"%
PUw_,a
VY$7OmtFtqw
d1};c	Y(et2t"?;o08j}U4*p dG{m1h:(S1]T1}S@p%
f[9 ^u&PZifGw(35/ny6N"qql|4~*&OE]D|$@D_zT-{x0
p|s,`ut JyUOzCCrDO2w<vPp{ tiV]>]yGqe>\JV1g%S"+d :4{LVDE.	-~|~~C2](G}aieUZ.n(e &("aq'm
riA[ov=k'd+Q
_z>%8HT/j9`D@.cvi-01D2I2m-|>x2K|~O~Y7x:B>\TB)ufPSd O>?6e$s(nP6<?un1^L>Wg<~ L fZY!w:e#9d~4k;QDrt:t^=-)I6>|\BV>86y$#KUron>V~BA#8a7^jCBy_Tq+]?xP"_C?\ox3IT/z9X,GwjD[X1mD K0KQA
_Bym&(BXR}Ltc|Q]-hEF)w\Gor#w[43/Gc($`^6;y24yFK$U>tm t#MF;o2x@KDC{
~#y%" wO_	,1K:X[EI{ +2$<kU<ur}zDHS{Jn7Y]1c.!3V>?wV4W|Mf.Aj~8unJ%mC.Mw4cYn'&+3Ce&@S|sV)zI{rV5;zB:|at?j)]Tg_
7q`5v?
/w>/+7.D6?\_YSaSnJ7
-j>3z[) BZNvCEy|9u=5Sl&dyMLEqlUaM>oka0*8p'F=}:j%&;'/DA.$;[91B%&#	tf"sqLEB
m"np
2j})}Gx8PFog#;rSr.[D`V)><`#rll~~esK7:24> !&us4CNJ,^&)%5t*;Jrr@`e*,?v(	u||F^.k%=)WlKvkt4xU`pj8K
gb&-QVWx#:EflhfxG
Ku'=?:+--)lYL}vbQxUq+&]"YbMGw*R:>H
+UGS~uiPlrTMUbm'b:bULike.f#T6-x@SdE^<P-7>
<tI_B^g
Z5z::W 6XCT	hNF6bq ?tV+s<	w;)>sF-l_qNa?
u`6zAw&b/N1a!t[TqiJT:'W<	b3~7\.7>'^+[n7z9q\B'Y~HUThvZ!&oD(_)7#Sh9?aq=
U~^;xB$M@=1t4p*M\TjFo@K5/p,suuqKLNAkV[@!^E
567^T61se>P~6Pc'\42['%MRHE54RM0H#<=
n7HK|g?rFkAv^(u|{eh{oOjC]	z{@z	6kk8HAs=
3XmgkDM:?.4NgAD?kc]l `g~HkmS8LZ:L vy'F3Y9<b$1[;"AjanJ~LQd0_\!A?#.BOkEk\B(8[{xl Jd5g1?a$AZ g
*do{9>=>(n^r/4rtIex[kErD7LRkQu0	9sM|vtf>QM*)Wdw.T'+{cQ+ki zKPl}7[u& 
pxjJ;|91<2duIa=7oIU-Y_q_ioAA#N2bYT V.2Wke
uNo:_!N|)l!%U[v"g}WH9sq2YBu@K%d~
)dLc.E|
io(7h]e0Z& #p4mL+M
b m#1k	qf^v^(l4WtFjg5:L
mQW(~<gw`bX8G[(#V5},kx[>4J-WwJ1v=ybH%"I\'M%)>&Iv|RtHT+4%0ALz[yeG 3C{
P~~`XE)j&L0f%@:A[|f&!G&{ R23?w	s#1~M6=>aKF@A$TfWq7@UR7
wa&A>R|;Y)}j6ZD:,/^3<s:2A8epLE$X?Nvzht]^E]*%w7\ot%{=UuL%&TxNG_2om~jJF7@>k_`qwpoTz]
1
J9l,Pm0K85As)(zt(r%-~]_ox{N4!oR=CK|2T ~jvkZE,p]HX3%<I<>Xrcc[&e
|;\*%;
^asXC0apQsYz-
n*].dzfxUQV4~I!$)-@imrJ)*<7jj?#X
22i kqw(AK?EeJh606Wms]9|eaTKaTq\0iC J{>*%b(Cx,m^vvENE$[%q{ROmPR/aNX?|zYwU
2=Rc0jYzP*'.@#7y
%$?bkvY:Kua#_Ds&I:0XP=}I9}/j*UL,Ls$/
,H*dxG#<Ss_uW]}A~=^Ys/G|ULDw?RNg+suuO23UcmIMI=\|E_E}5td&71yHG0McW+z66a!pw#O1G`N_?M?ot:yW6qH/qmy#Qeo`s&\^b~e4VXRdp<x?hQCZzX,H,	@Q;fY[QY8=	#yl>J\w%vg_u[J\d|!z'{s"haH$"!w<)p}8}B2g(b#%hDj0:AqQpLEc"=uXX*OW5\~O|S6j{53pI~$/CJ>mEu!*n=fMx.(&^rq3-RVCFNF=PEL_]w4^y#xZO+-uh\Nn
_oiIZo:e'dTuW7Yj&@2Qfn44;]yC	NY<6L3l m>/+%C~&}d4[I|&F9m`ahf/WZ:wLtif2mdk8NkE*3<~y#FnE+1$.t'iPVAJDPZG+JEUU&3s|k5uugyP 95=36d-x;JJw)`o+v^AC 2s,"D"hyqX	E
n +$,u~QTL9Morsw'oR*
Lz-ZhK'*-04W+dykv
=[!y dHrJinf=eYg*' Y5)z

sPcm48L9vB-qEY:KkB+28 I;shHr4@SOs
7KV9:Hj
[oDOyl[.L6#rW(YeQ%@mp&j)#&r:T5x+pRb5!;I4=tiO~Q&-T1gKXa 2>H40u+4sUoI)`D[Dp	A_$2
>G~'r_O;}Ef8&8W6<~[j?f?4lVOL\D6c]T19\B w
P"2vaRf9
@Ux6!
C8=(WJ1Z? ;@C$Z	iK$)%Q[o
~d$6.%dPa}!1QnGpXFJHM\['x.gA_G8Y?'~3mo4
}Bk]+V%oG*;l[qpYkk'$0=enY2[-lH+o ^!xt#6VG3@4USxoPH_YG-"4wxl{Ih9Kvp_Q*[Kh7!z>TaH'r}Kc!%:a9tiYC`?2p}uRZIfz6%	k63l3FuW98j0;<T@n@gF0sQYTycip7Co)@|67 ?676%10K5	*gr>Ng8pU1ynVg-1bo=45.=w-@)YK
zM}55Ht;l&a/8eLLxdD1uXJ/\sm;T-/K`NC9L	2UVT~4ZOBRR1p>0$r;9
?m!6ei.a/htA3Z
;C^`0X
MG{	`5\]KWv94u#_:agGV#*=}s278ze=r;3QzEe	zQ}r{+G{:P&$%  0:sa>Y<`y~B]umJUo'HGl;b}NX%Qh"a	7Q.u$*`'0r"=(_9GB5e}jB][h!h5 EYMGw%]cz"NmHcc3yxaCD0>6Iwu%]])`
I
3#PU^+#pJFU	BW']g/ZS
LtA
p0Aj@#3M#9^4=M:^9GzwRG'*F9)1L*; t 7 Rfe"OW,:mHmM:|+Ox]+	#~Vps.S^X^$3%jqEdqGUP9-9]r0FBtQqiJ9p3Vp:H77)j(R,Q}uo
$x79
|Ckkj*m]~uB;
\7_e2F;pSFdHD!([iq]<3x91Km37C:]PE7
]TUpG1jO#0skQHw]Vr!&GUy{"-0ss^<"+~|AG""+VdwOx{8L}!K3YeWFF_Z{Mw.a-C']fu4ChW	Cjacw5nnE:|y4pq_RUo'w<H1]g:x~{.h_IGVw
2eB_Y9[=E] {?Ps$J]wZvWM#c?}FaWL.0L%* |>Tn`T7\2t4r;
fRV|Ek sb!+>lP2=,e
|Ng!;+>px|eoI-4k =7cx6M`4$k'L*Z/T=Ak%36
r@r5]~M7LWrp$KVz6q~8klGS0hDCi0kKZc6=oaDvhlEP~w}
(N=8y	wn/4<[W<:[Yv5K1GOmg>4X}t#4	C0A}"t
pd
 38Cz[}\DX@}D1!oY#U'YarZ+-85Zl0Kxj%yLtJSXm3utT)H^QQ
lJ}LNoFgnwrp5 "01uEi'WCH(/h9?sXzgXDN
WESpH$0ZcDt8T4Y'R^%2mj^2^+9]'5]ZW3'95;{
m`&j-8_"Io	
UH,b3[ih`k0Qd~[-r!7QW`N	L=9 BB5
F;!FsP#1.:S~ZQaw8:w6!2DX
zjxp|UJ=I8-KD\>[AjYct*wf5)cf+6}AgB6HY8q5pi_S]fRr3; z>ZBuYN)R:=7m"2wb]c6;tMwak
UCkxvy0^nQp)GNU{niwk%gO["zC2pf+L$Qmk&PwX1g6*lmTD-`V\a^`['EP\=eaP:
l
s&G|8~$a)Wv~cDbQ3B""FGB,`9d{MPngF"M
M[3,K7@Z}2=r{/0WuUh/Au@uKf]KgtmywtYn[{NIH`C`97H2iX*l#Rha9$;WJ[Vm_uK-kcb5MYAGpcdE
sxpea+E7BW	}t-?7d)[s=*1-_%?]6\mqB\{B&;!QC)6)uIx*&G67YtC4g@UQ2|$WAW%.w_9vYcpO9l}9[A\LM@gu0q>)Mds]Owco`Qd'
,=w^F'7p,VT:$=Q:vWXg|vh.Gr8Y7pk +FEzh	xf#sDF]7,A>!
k6i34b!YI="
vP<r9
|{/*PYwIIDy `b"USI=DO{1o4t16
mu.~@D_Az=T!B8#d$js6C5p.q
4Ks3Agt#8t*s(kqu~k=?1~3p/:Y&MV !LFzkR4h  hr.4Wg^3D&$vV_\>pD5WAS>gg\EsD,3) S
z3>`#10}k|c;V9xpytx.a=RJtF.J@[i>R?Ar7vRL\m2P<%yh?=]0t\
B)W+.c"&95Ghf79<KvyEvQkY-Q]u>+{
xUj'D}^Y<
Gwhmy Q;:N2ytA{3UFO
$]*[`:ppT&+c[
B%`gBkJUcsCI
oZ0@m=k_Y'epMBbhIqL&s_s5d!AAPg Og7q`|9a	4mVYag:W7-`eC]v>/)=&=msh-\y"{O;ZW	eN\Wc19y}*[/|O{^tmJ"F+-YtEI/9DK -\X*@etiF\W8P.wdtJ2NOWTKavT41\DnDl.!b^C"Bf=SY\c9,6OHV'y-3V("D?!:;LgmhA\G
]sU[_<6NF,/=;PvU,F,VXHw#Q54l9t /59{E`+M16S'exb>+\"PZ]{'GGh4'vFl2}[@n&Tj.8^XR49:*fi twx<p-_v\(G1YVt=y3~OT]!0dSjWYB^FKE?{
8.y'W7a!/DNW& -r-P]g;l=#$?NGmuw]{=tse"l9}7fOg]O:| aw/;[MRoe-+|3jDTavu:5wK-
Y!	]YH~_ehX/c1|F
((*uHP*p#/##3##7{{Yqe?wv")B_B]sa3x4cznwYeEtbTi"069F)?|l<qoSG@Upd'G6*j	'MkG5{p*Xd2B4a$}{1~}XiXNv0'>=|f"(q~1@I5|Iz2kx`p`08-i6$6b
n<Xyf7V=}%=wwTsCGM{hI~/Qo
ksZ`T@ipVD;CKvk.cbuQu	h}5x8J%Z>AD:\w$x8Q1t
9<nqX_9]lc9
vw3eu**8Z&,RsexK[YM5C"U,?q.~N D=I!qgA)
mNk): s$GqNoL0.<e|U:.})G0{@bqeuW+K]>>!U9qVj;d%	rGI_@F^85nu?Jg8i7FS39|~-vR(	 A{Pj3]3(u9<Bb@:zETliP-C7r:8cuS=MAcTy~
:[<},iCL 
7"]i@)tXv*"A hO  -ngZ~Y>]/7\
!_LE>=u5%z'36d0b!,iCk*@:BcJe4*EaW#"H;k?	Y#o{+[t^=yVub`4DA)r'm,K&v-ajI~;,Xs?9{C~/2,]9`v0Ow=A>F{	HXx%TdqAer<Tid,GU&9,m5fwPK[WVBy+	^VI'^?n3/[;Vw "`+7~3j5qOU3V8^}>o~Q`i)/83w#U^/$qPQy<13-KnEc4Fn}kfh`l\6z=kd!lHZ$m+&`C~]Op3qz{c2 ]qS!5"%]""`/x#<;}@t1 U\2[$h Ej*RS};EnyR(<u<=yZBQ31jkyJOeh[#NhL@Oiz4zL{Q[)sL>K+DGA.ORCVEK=>n8Q}(S!W=XG}vJ%ie7g5Q=5O^A7!_5S^LGfK}wo'9=/oFu=Uaa=Plxpb<U3]i%kQdsP34\5q~bjF<{Gg
~^IW\13"C21q]f\3tF9&ionTm4P?oTajp2vO'.lk%bx$?p^__fL|S:#7o
,$TVK^XQ :t'Uuq"M8/b 0Ik0bZbo8zt!j&
H//A&eijeA!V9UmfV>muU~Tt6
Wk?gFGZ?Gjzq	pc[]uP\|g8>;!iQ_HY+:v&8^>,`v?]VR_opODc=x
-1B
zMq`hbJ|9(6}Ni xF^Aq_<V%j]@'PsMk$Adm"hJ,\8DUz?|/".yZfPLz.R]>
kR
fITw6e]inRBtEZ4Axt Nt?b~4BC\+1w\Oy)~l@ya~G;Zq4}rU(Eqxa	y4J0_Gut30jUHF1J$~ti$Ap)|'!v31}-m\8>3@[}G16AGc%R+qaH7
Wr1.-4YA -j}2\# 4XU<0!_(Dsp[`x/-.?g2Q4(44dzB( q %qhfK4|_9D SXn)=B<}Qk~
<!/]._!2_N6U(4X%S @
e[RPjp+./]yI/_mgxsWS))Uiy/BY?+~iaCJXl5kk;'2& pRq<d]b^X4q#b){4lP~R;{*U1|e Dz:7<,3"$f!F%&f 
9
Dm],EJ7b(pcTqD[DDcbmnF{o18[>=XE:yBfc5<;l-$m.aZd1	-60|8(P.;*+"K@[3MWQxxiH|1VR&NTG CBXp *nr	01`Tx@A1bRj?R<;

Y/iX_efvoxKmw;	KnN0@X%2&Q$mEF)j`}{=Y14!ZRi=7nK_PK    [X	B   P      postcss.config.jsK(/*QHIMK,)QRP()M+sJ3s3RAB:`"( PK    [X}       public/vite.svgTM6+ 4Cr`6*kZ"MM)fzzFf:NvW9B_ oa?:[j5a^V4#r
c~:ju6L6gvp[:_eaG=NOv)W~{Bu};2/j4%
ebRijFG^>}ud^#qjn=v0M47U[Z[o^rX_}9S`I9L[Ib7M-3UXosQaui]vj;c?OX|"+[8`n-:m
dfg+\B2AA"dJ#1&C'Id#70	utB(H9IW?|Vr ^JiQ.H0Mp(^(@^b/]=JP'rC*p9F,'R tl	X" x)ZvH!3El1btZ5)yA<G1|GSwFChj:*\%N .*:9!T
d$ft:_o PK    [X#     	   README.md?O@|
K,T	(AtI8F|{(*H0tz
J
^X)I;PrE%c8pM=; C%=z[`#k '
q$Y}-	lL7)y'Kv4CUnO)m(Cj-3E~{3W/`dOr~$`(4b*cuV]`:y}/PK     [X               src/App.cssPK    %\XV#         src/App.jsx%;
0D=6&mH*EnH+,XKFZCOa>~c|6.	UX?yL
`T7@L$%WD9?DJh0}GX>Pub(a3taPK     [X               src/assets/PK    [XE       src/assets/react.svgmOo
JarRU.V${eom,CR,v ="'O77Bi;qq3z^\Nr{>qx~u}|Oey|zr?.Oo|M'zyz|{z/^/xv{
.TK~q}|=-_=\3S>}n7",$_F[}e~>l1ZsfK5d}S.X}mu:|}]y+ei-dGRO%8|IuFfs{Xn'2F"}!VSfKo)je<IfJGi.pTGq]:Gvz$>7u4rg'?nt	Wlx29Te9Bn7[WkNTf2F	R@PFt,ZWbj9aW,9ulnx`d}F&,]97-dR8!8,!v#`
=/>C
n D_PBjf/A5)m%(iNB]{T
|r{kH*T}qX&Si$Yh"n`5[Zi!?X`4^o*A+6h#`h:0d>Jt u<Jh~7.I\B =LO@I)AEja"715/pKw		H=kPWJ rDxm?%!~0o73pB8c*RN9N:~u0PL`@WbjnR+[Cr{GUqyR!y+
82K6.HobnM%#t@5=M)75T=WVtZJ'}H%tdZDQ_
t -fDuS+$tzraI`W+4G(>}"v!k D)2#h%6Ny(nLgAK5<&``XkPHsKr>V4fi*Rd$Ya7 Pg]R
] 0gK4y9@K[Rt'MQKK}n`E=4h+"B0iJsLi=Xu/$i1q
^]DU%/s@lmp.MHu+Hn<)S"
4K)|6{GDRRw0TPF=M4M&4dmZ|OK=!P,sU+CZFFh`J8;.]R6a@%}SC9m	g05k<6&FfKH*o1g4JVDJ] a~|= DID
i.1S$mxdtUy1d}@KC9ip=L3`	,+u=HIlbm1p)
/Ua"{EsY)v
5
#&Tm!vy+FeWv1X{TIvoQfY_L:&t\%x,A"jn1AI9v?#VO%oIO- $r5n~M&
gpL0V[Fa.iS#O,Eim&Q
=k
iovZi!B#-i_dr]J+FZj*\>	X/uo<=_~x~|7g/PK     
jX               src/components/PK    eX%PD       src/components/Card.jsxu1o0H,*uRkDrld;{Ig/dgiRFO^
MKm^"
4nqy]n	l?/lkOT?Ecv)+n6FE1M8!T`4iCx
ZRCjUR+Xs#&
R
j391h0wXawAWo$+\p`\c~;%m}{OC-p_;54'?\OdPK    X       src/components/Footer.jsxUmk0^Rfc:P>Aj-#md'-e0&H{{ci.H#
)]f9}cT(I,R~)rb*Hd*H7^8>OFu1)Kbc(7	
t`T5J2f=#h\j H$80F31TT|SDaxi,^~]a!n4iw4KV$ d4'EhG[<Y,,,
M/6AF`GVH{7Ou!3OubZjQ/xJSLF]]3NiWpZeWFNu.r&nEvRUyBm?cI4S`VuO^!h >
j8%[ezRMz->km?[v;)&zT})'9Y0vv E4g2M@-3"auJ_3W#Kr!c3fiXn(yoaFt{3p5-k
hdPK    X ~       src/components/Header.jsxTQO0~p<P0/iCm%l!%M%wO6n	3LG_#{oB=K{]92"xGj|9-RZWBN#fUFz,5IE
S4,EKlr|v\/\hf!i&]wsEgQ%NhocBVd' e|s;"p_Y'OGIsC%6d~` SBqlQI8D|RG?K#@t -G8p=LWZQ/O
6F"E0u[_|
J+Sf	I|DfzGN%t'
Yni<l-+88
T#C\.l2==|8\\L/9Rzt_Cu~%w'hw{g[
\ImE4+/&<B'sCN{)H

qaGR9A}Uh~C oKp~rm-e+(++x=_y_PK    WyXUf	  N     src/components/Input.jsxmRn 5YKM e 
Z&y06wzG &KY.*Yun
^4[Dq5!4@.Z/aFy`k3N+g;g)a/3^)-p`;qi b-H[Cy!siyhAw#>2m	TXSdur
%PK    mXD  K     src/components/MealCard.jsxU_k0/;dT2:7}2 -neH6kgG'$'];H|g~weUK!W@9>x|TvgG	kg
|_gLaN[xpkK)Q`
T\3.3KeiTjE
#l (*2Y}*a
b1j``E{ C:Qr-Us G3055+t I"yHt
cXTA6Mx" 
Y;C<vS]i9dr%J	dgmc()~$r0!=&ZrJh#h@RU$Rd2Fd,#?Id!{,4:e5HeaX6.$J"j)vmb-;)Hn83|=q
{"]M+teeiv;iaRGoqZ5S)k!J Q}`0[v?~)V=9[E)Ps*`qp^KLJ,:7MjbE7gT8j
6VN[KV8bQ}nMKnPK    2yX.&D  6     src/components/Select.jsxuSKn0GF^D p=Cb0MB{	
tx>=[| +J@xV9Sk
S>Q`aQD 9#f@J/1xN5h@!oRQRPhI`68Kg;X9H2pL#S|8mpK^uwp-u:eP{; ?thnF2Ib;yXfm 4{dcwf*6	bPK    \Xl   k     src/error-page.jsxUOKN0G$b]7A,{B-5h<FEik74AZ]YI`#?n`) C>`MA'g; %z Opv_eM;jR<>
4't7bz!sSv% Zbxr&!
YU~(o_ZPK    [X*   :   
   src/index.csss(I)KQHJ,NrsRJEKK2s2K2SPK    hXz       src/main.jsxSM0+&`#z0k@Yi1m7hiyiy^

bLO)rpY;_CDNho 
R|W(cqU(WG)83}$&mhbN@x'Uh[W I)1`GCz%T+_DO}9NizF3c\	MRQT
jc`V}5JCp[0	!nMv]%gLb[A5/Uw0ox#[G:>Qlf4;`c/QlL$GewWS\P5ou@U"[|(:8Aou'[PK     hX               src/routes/PK    `_XV6       src/routes/contact.jsxVn0G;V-R=n Q4jO=%,V #3l%gIj]va3d\ *5	P(xd@i|~|t|Dn@CR"])S3GH9oF~V2!	g
" 
9kwy/sgHs)n#q}R'~d@ 
*
'("EwA,q[[X6K_65Nv.V~9.V)yUr] skfqDZ<{*Lte
3o;zDy&ZrHu)WUn+mjYaGeL{l7
&'{p;K.R*O[u	;SY/E	|Y)&:Q!z~x7,6b(sk$}xH(D\R2[6Onh
/VB[N&N^:\wDr. "!"CsiWN2sf&TWv-nu>+}q$n5m&2k8^(C!qAI8XA65",i<#_&|C-5'_F9TLi5dw/G5TYtPK    gXv"c       src/routes/home.jsxXmoH)a'G
!NzVJ^EgE_d60Tm'BjJ!"KD3-\+
zKe|E[TSi".h~$*Ed+zg	g6>
H5Lp b9qxG)DJ @@B2M!6$Jf)jet`%dRnHp"uD*=PHcq/D*Hy;q
[3"gK^Zs2oB9R)`o(
NYkrT.|jv7L
*df|c"KH
}#P
U0 YB*TD$>@_dRP'K2x)
	(Xd1:|m|YDXl
^DLb60&}edfc
$"\Nxxgd>TiY[ _2#+Z,6uVufiATAepY/Xk:
j?p?.r\j<,P$KHD23J'?>W&_\>prCukhL}&({vc&Q>wB{DU}:|T*J`aSC2oY\1\3m+&]=n4fX(61Afp<S~Em0./_Z]3m.13$Z^.'1l_gv7/-rJdY+Bu<TP5Cwlg'iR]Iq:Isw#h~s?'b3O\[ILV_\+C2S{ju$tPZ6y`c	u~[fVaBS-j/q5%^VYzB-sUcjgY=X`tw:N)
ruK{7PK    5^X  +     src/routes/meal-plan.jsxXmo6  D~IuHlKfCt9K@Ru\}Gd[r0Il{xdxHe
R=J)+.BYtT@D0	A 6 =|7[I.is"2IC*SlT#3A3Nx06'z[4<T	@_5O0)=\z	N"9[a*/,Q*B/fd"3t{$Vf"`ceJrm?
fVKGpTl&wIp,#uu6p>#*>3]"@HJHj1~GP_\sRgUb)JM&Zo]b#dEO9+8D6\5zbJF^O1aG2_5U%)M+aE%*/JTq
J~6+KAs!7&K$0I3*R_*TovXbMyP3E^3vwLrWtXxR-l(}Q%b:@@c"8mR{w
/)&=ChH:K7
Q@(t#U(ai;
OCM_
!_8fUZN>u/z
MSy+Jv<	9iiZ[{S^GTpW`0N@^<TC"@/6\vuH;(; @r>jA`[7cHa|K^1st1jm?a9Sv4o}f.%5	P2[V\KC#3s6J-bdrqj+R\Q;E!l]x: RGI*`QcF?bugf* i7g]zQx
L*-HT&0%S%]AYe%pS
jsLfh~#,=|.<o-+	jg	5Z(-Y`du]u
VtyFzhgY"7o6fb)yVg{>&tuJ|AL
nV8FI$U[=A@W'eVgr`
uGrhc
mVG;Sp';w3K@ PK    fXi(W  !     src/routes/recipe.jsxVQo0~p)B ium6^f$D}g	fR5w}|EH|U"#c|GEdmzyA>8Bee	a{yXhQ|/S0"RYV\E$JHkjmbk h = +O4=rY"\t^[SjD8X&MI]HaH)vjBLt(1$zHlp
hm9T-s{[<+"b=!T
A(kSR4c+p93B6Q&)++mYLqYSeYMgCh\Xx\)"=`ERLQP"1WupvUJ)%l}R1NWSs96X=ZwV8yf[|NsnFpN)rs@"ixh+LHinH^{X*Khk~D^SB5L8+/oW;m&1E;H2h7G!C+TnELcsbu~E	Ja%X9&so=gZ}nJOO
N(M 2=&](G,}yYBT;s8g8knSrp 5WUJyg+"SJNV3;55f 	>[+}?$+F
f	PK    <|Xlxy  I     src/routes/recipe-editor.jsxXIo8`48KYL.S-6QD)uiJ1A:ND-|{`u2!K+Y1	"E()!{zR:DG\<'A).8ABs6'?%,Q7yi0TGC5<`
i<XAxrMi
$KuX*-_u*3.~&8|uA(z(e<bMlt 663"s*)Hs#fCa+bd Fb1nELDC,Kqxn k@xY0$}w=ow/JI3.QV(]/@*TU[,^0n X!9] JwxZwpKF9l4T#QXfE`59,+;k7QpwC%hsG(w+hC^`k/{2J#Ym]# |V,O	NBd#-",a7w`@d=i1p[3	b _K(&|RK 9P:7yWE?j%jE8/|of%v6(Q7F[z3E%oWejWWPJ9U
Ts5y$edjdmYVw%#VC
CL[ME\e]b]Xfn+-
ch(G3#?[pJWhH,_7ayNJS%FZfN2o9Y~#?J*#,;rOX3W\%$"3M#x.4}FrBF[x}9|itNjJ58+jiXAVq7z+HRYlhG/T ^]rp*x}WMnchqu3X
V.q@OCb]9<NwPK    `XT+        src/routes/root.jsxuj0=)euS{cYn>[}5mG,p(`Z(Y/yL	u<s]i(r-w"FgtVG'`7lp3H(=lnq:nXX=2KZJT{:C^_qr_n@WdtN=CWs?Lkmq.mgPK    0gXqajf       tailwind.config.jsURN0Q/j{g n<Vd+Kqg3]Yg4L('g?^M=r# `I0yU!.IbhkO>
?x1oLy4*~mkwF{#q:2[QApJDqxM2[=\j
.'% |FL{irBf`xgO8D V
RH)-AuqUt(R/\/]9Syk	G$-0s(O~E#<h89kPK    [X v         vite.config.jsU10 w[@jRQu@+H $&]t'sQq8~xgem3U
Hq"G "UCjpy.G	x]&=K,5~]PK     [X.  6  
                .eslintrc.cjsPK     [X      
            Y  .gitignorePK     hlX*    ~  
              index.htmlPK     XK                 8  package.jsonPK     Xu                 package-lock.jsonPK     [X	B   P                 postcss.config.jsPK     [X}                .  public/vite.svgPK     [X#     	            L  README.mdPK      [X                         r  src/App.cssPK     %\XV#                    src/App.jsxPK      [X                        U  src/assets/PK     [XE                ~  src/assets/react.svgPK      
jX                          src/components/PK     eX%PD                "  src/components/Card.jsxPK     X                  src/components/Footer.jsxPK     X ~                v  src/components/Header.jsxPK     WyXUf	  N              +  src/components/Input.jsxPK     mXD  K              j  src/components/MealCard.jsxPK     2yX.&D  6              F  src/components/Select.jsxPK     \Xl   k                src/error-page.jsxPK     [X*   :   
              src/index.cssPK     hXz                $  src/main.jsxPK      hX                          src/routes/PK     `_XV6                  src/routes/contact.jsxPK     gXv"c                0  src/routes/home.jsxPK     5^X  +                src/routes/meal-plan.jsxPK     fXi(W  !                src/routes/recipe.jsxPK     <|Xlxy  I                src/routes/recipe-editor.jsxPK     `XT+                   src/routes/root.jsxPK     0gXqajf                  tailwind.config.jsPK     [X v                    vite.config.jsPK        G    

==================== C:\Code\recipe-app\frontend\README.md ====================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react/README.md) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh


==================== C:\Code\recipe-app\frontend\tailwind.config.js ====================

/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  daisyui: {
    themes: [
      "light",
      "dark",
      "cupcake",
      "bumblebee",
      "emerald",
      "corporate",
      "synthwave",
      "retro",
      "cyberpunk",
      "valentine",
      "halloween",
      "garden",
      "forest",
      "aqua",
      "lofi",
      "pastel",
      "fantasy",
      "wireframe",
      "black",
      "luxury",
      "dracula",
      "cmyk",
      "autumn",
      "business",
      "acid",
      "lemonade",
      "night",
      "coffee",
      "winter",
      "dim",
      "nord",
      "sunset",
    ],
  },
  plugins: [require("@tailwindcss/typography"), require("daisyui")],
}

==================== C:\Code\recipe-app\frontend\vite.config.js ====================

import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})


==================== C:\Code\recipe-app\frontend\public\vite.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>

==================== C:\Code\recipe-app\frontend\src\App.css ====================



==================== C:\Code\recipe-app\frontend\src\App.jsx ====================

import React from 'react'
import './App.css'

function App() {

  return (
    <h1 className="text-3xl font-bold underline">
      Hello world!
    </h1>
  )
}

export default App


==================== C:\Code\recipe-app\frontend\src\dummy-data.js ====================

export const authors = [
    { id: 1, label: "Jamie Oliver" },
    { id: 2, label: "Pinch of Nom" },
    { id: 3, label: "Bored of Lunch" },
    { id: 4, label: "Good Food" },
    { id: 5, label: "Gino D'Acampo" },
];

export const books = [
    { id: 1, label: "5 Ingredients", authorId: 1 },
    { id: 2, label: "Ministry of Food", authorId: 1 },
    { id: 3, label: "Quick & Easy", authorId: 2 },
    { id: 4, label: "Everyday Light", authorId: 2 },
    { id: 5, label: "The Healthy Air Fryer Book", authorId: 3 },
    { id: 6, label: "Healthy Slow Cooker: Even Easier", authorId: 3 },
    { id: 7, label: "Ultimate Slow Cooker Recipes", authorId: 4 },
    { id: 8, label: "Gino's Italian Escape", authorId: 5 },
    { id: 9, label: "Gino's Italy", authorId: 5 },
];

export const recipes = [
    {
        id: 1,
        recipeName: "Penne carbonara",
        selectedType: "main",
        servings: 4,
        selectedAuthor: 1,
        selectedBook: 1,
        pageNumber: 234,
        recipeUrl: "",
        cookingTime: 23,
        selectedCountry: "IT"
    },
    {
        id: 2,
        recipeName: "Chicken Curry",
        selectedType: "main",
        servings: 4,
        selectedAuthor: 2,
        selectedBook: 3,
        pageNumber: 78,
        recipeUrl: "",
        cookingTime: 30,
        selectedCountry: "IN"
    },
    {
        id: 3,
        recipeName: "Vegetable Stir Fry",
        selectedType: "main",
        servings: 3,
        selectedAuthor: 3,
        selectedBook: 5,
        pageNumber: 112,
        recipeUrl: "",
        cookingTime: 20,
        selectedCountry: "CN"
    },
    {
        id: 4,
        recipeName: "Beef Stew",
        selectedType: "main",
        servings: 5,
        selectedAuthor: 4,
        selectedBook: 7,
        pageNumber: 90,
        recipeUrl: "",
        cookingTime: 120,
        selectedCountry: "GB"
    },
    {
        id: 5,
        recipeName: "Tiramisu",
        selectedType: "dessert",
        servings: 6,
        selectedAuthor: 5,
        selectedBook: 9,
        pageNumber: 45,
        recipeUrl: "",
        cookingTime: 45,
        selectedCountry: "IT"
    },
    {
        id: 6,
        recipeName: "Fish Tacos",
        selectedType: "main",
        servings: 4,
        selectedAuthor: 1,
        selectedBook: 2,
        pageNumber: 180,
        recipeUrl: "",
        cookingTime: 25,
        selectedCountry: "MX"
    }
];

==================== C:\Code\recipe-app\frontend\src\error-page.jsx ====================

import { useRouteError } from "react-router-dom";

export default function ErrorPage() {
  const error = useRouteError();
  console.error(error);

  return (
    <div id="error-page">
      <h1>Oops!</h1>
      <p>Sorry, an unexpected error has occurred.</p>
      <p>
        <i>{error.statusText || error.message}</i>
      </p>
    </div>
  );
}

==================== C:\Code\recipe-app\frontend\src\index.css ====================

@tailwind base;
@tailwind components;
@tailwind utilities;

==================== C:\Code\recipe-app\frontend\src\main.jsx ====================

import * as React from "react";
import * as ReactDOM from "react-dom/client";
import {
  createBrowserRouter,
  RouterProvider,
} from "react-router-dom";
import "./index.css";

import Root from "./routes/root";
import ErrorPage from "./error-page";
import MealPlan from "./routes/meal-plan";
import Home from "./routes/home";
import Recipe from "./routes/recipe";
import RecipeEditor from "./routes/recipe-editor";
import ToDo from "./routes/to-do";

const router = createBrowserRouter([
  {
    path: "/",
    element: <Root />,
    errorElement: <ErrorPage />,
    children: [
      {
        path: "",
        element: <Home />,
      },
      {
        path: "meal-plan/:mealPlanId",
        element: <MealPlan />,
      },
      {
        path: "recipe/:recipeId",
        element: <Recipe />,
      },
      {
        path: "/editor",
        element: <RecipeEditor />
      },
      {
        path: "/editor/:recipeId",
        element: <RecipeEditor />
      },
      {
        path: "/to-do",
        element: <ToDo />
      },
    ],
  },  
]);

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <RouterProvider router={router} />
  </React.StrictMode>
);

==================== C:\Code\recipe-app\frontend\src\assets\react.svg ====================

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>

==================== C:\Code\recipe-app\frontend\src\components\Card.jsx ====================

import React from "react";
import classNames from 'classnames';

const colorClasses = {
    base: {
        bg: 'bg-base-100',
        text: 'text-base-content'
    },
    primary: {
        bg: 'bg-primary',
        text: 'text-primary-content'
    },
    secondary: {
        bg: 'bg-secondary',
        text: 'text-secondary-content'
    }
    // Add more colors as needed
};

export default function Card({ children, color = 'base', className }) {
    const colors = colorClasses[color] || colorClasses.base;

    return (
        <div className={classNames("card w-full shadow-xl", colors.bg, colors.text, className)}>
            <div className="card-body p-3">
                {children}
            </div>
        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\components\FlagRadio.jsx ====================

import React from "react";
import { FlagIcon } from "react-flag-kit";

function FlagRadio({ country, code, selectedCountry, handleCountryChange }) {
    const id = code.toLowerCase();

    return (
        <li>
            <input
                type="radio"
                id={`country-${id}`}
                name="country"
                value={code}
                className="hidden peer"
                checked={selectedCountry === code}
                onChange={handleCountryChange}
            />
            <label htmlFor={`country-${id}`} className="btn btn-sm inline-flex peer-checked:btn-accent w-full">
                <FlagIcon code={code} size={16} />
                <span className="text-[10px]">{country}</span>
            </label>
        </li>
    );
}

export default FlagRadio;


==================== C:\Code\recipe-app\frontend\src\components\Header.jsx ====================

import React from "react";
import { Link, NavLink } from "react-router-dom";

export default function Header() {

    const navItems = [
        { to: "/", label: "Home" },
        { to: "/meal-plan/1", label: "Meal plan" },
        { to: "/editor", label: "Recipe editor" },
        { to: "/recipe/0", label: "Recipe details"},
        { to: "/to-do", label: "To-do list"},
    ];

    return (
        <>
            <div className="navbar bg-base-100 shadow z-10 px-6">
                <div className="flex-1">
                    <Link to="/">
                        <a className="text flex gap-2 items-center">                       
                            <span className="font-medium flex gap-1">The<span className="font-bold">Coffey</span>Kitchen</span>
                            <div className="flex justify-center gap-1 absolute mt-7 ml-[35px]">
                                <span className="w-1 h-1 bg-accent rounded-full"></span>
                                <span className="w-1 h-1 bg-secondary rounded-full"></span>
                                <span className="w-1 h-1 bg-primary rounded-full"></span>
                                <span className="w-1 h-1 bg-accent rounded-full"></span>
                                <span className="w-1 h-1 bg-secondary rounded-full"></span>
                                <span className="w-1 h-1 bg-primary rounded-full"></span>
                            </div>
                        </a>
                    </Link>
                </div>
                <div className="flex-none">
                    <div className="dropdown dropdown-end">
                        <div tabIndex={0} role="button" className="btn btn-ghost btn-circle avatar">
                            <div className="w-10 rounded-full">
                                <img
                                    alt="Tailwind CSS Navbar component"
                                    src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
                            </div>
                        </div>
                        <ul
                            tabIndex={0}
                            className="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow">
                            <li>
                                {navItems.map((item, index) => (
                                    <NavLink key={index} to={item.to}>
                                        {item.label}
                                    </NavLink>
                                ))}                               
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </>
    )
}

==================== C:\Code\recipe-app\frontend\src\components\Input.jsx ====================

import React from "react";

export default function Input({ label, disabled, type = "text", value, onChange, required }) {
    return (
        <label className="form-control w-full">
            {label && (
                <div className="label">
                    <span className="label-text text-sm font-medium">{label}</span>
                </div>
            )}
            <input
                type={type}
                placeholder="Type here"
                className="input input-bordered w-full "
                disabled={disabled}
                value={value}
                onChange={onChange}
                required={required}
                {...(type === "number" && {
                    min: "0",
                    inputMode: "numeric",
                    pattern: "[0-9]*",
                    title: "Non-negative integral number"
                })}
            />
        </label>
    );
}


==================== C:\Code\recipe-app\frontend\src\components\MealCard.jsx ====================

import React from "react";
import Card from "./Card";
import { FaPlus, FaPen } from "react-icons/fa";

export default function MealCard({ mealType, meal, side, color, source, icon }) {
    const randomImageNumber = Math.floor(Math.random() * 1000);

    return (
        <div className="flex flex-col gap-2">
            {mealType && (
                <p className="font-bold flex flex-col text-sm">
                    {mealType} <span className={`h-[2px] w-8 bg-${color} mt-[2px]`}></span>
                </p>
            )}
            <Card>
                <div className="flex gap-3 min-h-20 items-center">                   
                    <div className="mask mask-squircle w-16">
                        {meal ?
                            <img src={`https://picsum.photos/500/500?random=${randomImageNumber}`} />
                            :
                            <div className={`bg-${color} w-20 h-20`}></div>
                        }
                    </div>
                    <div className="flex flex-col justify-center items-start flex-1">
                        {source && <span className="text-[8px] uppercase text-black/60 mb-1"><span className="font-bold">{source.author}</span>  {source.book}</span>}
                        {!meal && <span className="text-[8px] uppercase text-black/60 mb-1"><span className="font-bold">Nothing planned yet</span></span>}
                        <span className="font-bold">{meal || "Add a meal"}</span>
                        {side && <span className="text-black/60 text-xs">with {side}</span>}
                        {!meal && <span className="text-black/60 text-xs">Choose something delicious</span>}
                    </div>
                    <button className="btn flex items-center">
                        {icon ? icon : meal ? <FaPen /> : <FaPlus />}
                    </button>
                </div>
            </Card>
        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\components\Modal.jsx ====================

import React from "react";
import { FaWindowClose } from "react-icons/fa";
import { RxCross2 } from "react-icons/rx";

export default function Modal({ title = "Title", children, onClose }) {
    return (
        <div className="bg-black/30 absolute bottom-0 left-0 z-10 w-screen h-dvh flex items-end justify-center p-3 backdrop-blur-sm">
            <div className="bg-base-100 p-6 w-full rounded-xl shadow-lg">
                <div className="border-b flex items-center justify-between pb-2 mb-2">
                    <p className="text-lg font-bold">{title}</p>
                    {onClose && <RxCross2 className="text-4xl cursor-pointer bg-base-200 rounded-full p-2" onClick={onClose} />}
                </div>
                {children}
            </div>
        </div>
    )
}


==================== C:\Code\recipe-app\frontend\src\components\Select.jsx ====================

import React from "react";

export default function Select({ label, options, disabled, value, onChange }) {
    return (
        <label className="form-control w-full">
            {label && (
                <div className="label">
                    <span className="label-text text-sm font-medium">{label}</span>
                </div>
            )}
            <select
                className="select select-bordered w-full truncate"
                value={value}
                disabled={disabled}
                onChange={onChange}
            >
                <option value="">Pick one</option>
                {options.map((option) => (
                    <option key={option.id} value={option.id} className="truncate">{option.label}</option>
                ))}
            </select>
        </label>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\contact.jsx ====================

import { Form } from "react-router-dom";

export default function Contact() {
    const contact = {
        first: "Your",
        last: "Name",
        avatar: "https://robohash.org/you.png?size=200x200",
        twitter: "your_handle",
        notes: "Some notes",
        favorite: true,
    };

    return (
        <>
            <div id="contact">
                <div>
                    <img
                        key={contact.avatar}
                        src={
                            contact.avatar ||
                            `https://robohash.org/${contact.id}.png?size=200x200`
                        }
                    />
                </div>

                <div>
                    <h1>
                        {contact.first || contact.last ? (
                            <>
                                {contact.first} {contact.last}
                            </>
                        ) : (
                            <i>No Name</i>
                        )}{" "}
                        <Favorite contact={contact} />
                    </h1>

                    {contact.twitter && (
                        <p>
                            <a
                                target="_blank"
                                href={`https://twitter.com/${contact.twitter}`}
                            >
                                {contact.twitter}
                            </a>
                        </p>
                    )}

                    {contact.notes && <p>{contact.notes}</p>}

                    <div>
                        <Form action="edit">
                            <button type="submit">Edit</button>
                        </Form>
                        <Form
                            method="post"
                            action="destroy"
                            onSubmit={(event) => {
                                if (
                                    !confirm(
                                        "Please confirm you want to delete this record."
                                    )
                                ) {
                                    event.preventDefault();
                                }
                            }}
                        >
                            <button type="submit">Delete</button>
                        </Form>
                    </div>
                </div>
            </div>
        </>
    );
}

function Favorite({ contact }) {
    const favorite = contact.favorite;
    return (
        <Form method="post">
            <button
                name="favorite"
                value={favorite ? "false" : "true"}
                aria-label={
                    favorite
                        ? "Remove from favorites"
                        : "Add to favorites"
                }
            >
                {favorite ? "" : ""}
            </button>
        </Form>
    );
}

==================== C:\Code\recipe-app\frontend\src\routes\home.jsx ====================

import React from "react";
import Card from "../components/Card";
import { Link } from "react-router-dom";
import MealCard from "../components/MealCard";
import { FaChevronRight } from "react-icons/fa";
import { recipes, authors, books } from "../dummy-data";

export default function Home() {
    const favoriteMeals = recipes.map(recipe => {
        const author = authors.find(author => author.id === recipe.selectedAuthor)?.label || "Unknown Author";
        const book = books.find(book => book.id === recipe.selectedBook)?.label || "Unknown Book";
        return {
            title: recipe.recipeName,
            source: { author, book },
            badge: recipe.selectedCountry,
        };
    });

    const getColor = (index) => {
        const colors = ["accent", "secondary", "primary"];
        return colors[index % colors.length];
    };

    return (
        <>
            <div className="flex flex-col gap-4">
                <h3 className="font-medium">Meal plans</h3>
                <div className="grid grid-cols-9 gap-4">
                    <div className="col-span-5 flex flex-col">
                        <Link to="meal-plan/1" className="w-full h-full">
                            <Card className="text h-full">
                                <div className="flex gap-2 flex-col h-full">
                                    <div className="flex flex-col grow">
                                        <span className="text-lg font-bold">This week</span>
                                        <span className="text-xs">Mon 1 Jul - Sun 7 Jul</span>
                                    </div>
                                    <div className="flex flex-col gap-1">
                                        <div className="grid grid-cols-2 items-center">
                                            <span className="text-xs">Breakfast</span>
                                            <div className="flex h-[16px]">
                                                <div className="bg-accent w-[52%] h-full rounded-l flex items-center justify-end px-1">
                                                    <span className="text-[10px] font-bold">
                                                        4
                                                    </span>
                                                </div>
                                                <div className="bg-neutral h-full flex-grow rounded-r"></div>
                                            </div>
                                        </div>
                                        <div className="grid grid-cols-2 items-center">
                                            <span className="text-xs">Lunch</span>
                                            <div className="flex h-[16px]">
                                                <div className="bg-secondary w-[33%] h-full rounded-l flex items-center justify-end px-1">
                                                    <span className="text-[10px] font-bold">
                                                        2
                                                    </span>
                                                </div>
                                                <div className="bg-neutral h-full flex-grow rounded-r"></div>
                                            </div>
                                        </div>
                                        <div className="grid grid-cols-2 items-center">
                                            <span className="text-xs">Dinner</span>
                                            <div className="flex h-[16px]">
                                                <div className="bg-primary w-[90%] h-full rounded-l flex items-center justify-end px-1">
                                                    <span className="text-[10px] font-bold">
                                                        6
                                                    </span>
                                                </div>
                                                <div className="bg-neutral h-full flex-grow rounded-r"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </Card>
                        </Link>
                    </div>
                    <div className="flex flex-col gap-4 col-span-4">
                        <Card className="flex-grow">
                            <p className="text-lg font-bold">1</p>
                            <p className="text-xs font-medium text-base-content/60">Upcoming</p>
                        </Card>
                        <Card className="flex-grow">
                            <p className="text-lg font-bold">12</p>
                            <p className="text-xs font-medium text-base-content/60">Previous</p>
                        </Card>
                    </div>
                </div>
                <h3 className="font-medium">Favourite meals</h3>
                {favoriteMeals.map((meal, index) => (
                    <Link to={`/recipe/${index + 1}`} key={index} className="w-full">
                        <MealCard
                            key={index}
                            meal={meal.title}
                            color={getColor(index)}
                            source={meal.source}
                            icon={<FaChevronRight />}
                        />
                    </Link>
                ))}
            </div>
        </>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\meal-plan.jsx ====================

import React, { useState } from "react";
import MealCard from "../components/MealCard";

const days = [
    {
        date: "2024-07-01",
        breakfast: null,
        breakfastSide: null,
        breakfastSource: null,
        lunch: "Ham sandwich",
        lunchSide: "Chips",
        lunchSource: { author: "John Doe", book: "Healthy Lunches" },
        dinner: "Spaghetti bolognese",
        dinnerSide: "Garlic bread",
        dinnerSource: { author: "Jane Smith", book: "Classic Italian Dishes" }
    },
    {
        date: "2024-07-02",
        breakfast: "Pancakes",
        breakfastSide: "Syrup",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: null,
        lunchSide: null,
        lunchSource: null,
        dinner: null,
        dinnerSide: null,
        dinnerSource: null
    },
    {
        date: "2024-07-03",
        breakfast: "Omelette",
        breakfastSide: "Toast",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: null,
        lunchSide: null,
        lunchSource: null,
        dinner: "Beef tacos",
        dinnerSide: "Salsa",
        dinnerSource: { author: "Carlos Gomez", book: "Mexican Cuisine" }
    },
    {
        date: "2024-07-04",
        breakfast: "Smoothie",
        breakfastSide: "Fruit salad",
        breakfastSource: { author: "Sarah Lee", book: "Healthy Breakfasts" },
        lunch: "Vegetable stir-fry",
        lunchSide: "Spring rolls",
        lunchSource: { author: "Emily Wang", book: "Asian Cuisine" },
        dinner: null,
        dinnerSide: null,
        dinnerSource: null
    },
    {
        date: "2024-07-05",
        breakfast: "Yogurt and granola",
        breakfastSide: "Berries",
        breakfastSource: { author: "Sarah Lee", book: "Healthy Breakfasts" },
        lunch: "Turkey wrap",
        lunchSide: "Salad",
        lunchSource: { author: "John Doe", book: "Healthy Lunches" },
        dinner: "Pizza",
        dinnerSide: "Garlic bread",
        dinnerSource: { author: "Luigi Rossi", book: "Italian Classics" }
    },
    {
        date: "2024-07-06",
        breakfast: "French toast",
        breakfastSide: "Maple syrup",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: "Caesar salad",
        lunchSide: "Breadsticks",
        lunchSource: { author: "Mary Brown", book: "Salad Recipes" },
        dinner: "Lasagna",
        dinnerSide: "Caesar salad",
        dinnerSource: { author: "Luigi Rossi", book: "Italian Classics" }
    },
    {
        date: "2024-07-07",
        breakfast: "Bagel with cream cheese",
        breakfastSide: "Orange juice",
        breakfastSource: { author: "Anna Johnson", book: "Breakfast Favorites" },
        lunch: "Quinoa salad",
        lunchSide: "Fruit",
        lunchSource: { author: "Mary Brown", book: "Salad Recipes" },
        dinner: "Steak and potatoes",
        dinnerSide: "Green beans",
        dinnerSource: { author: "Gordon Ramsey", book: "Ultimate Cooking" }
    }
];
const getDayOfWeek = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-GB', { weekday: 'short' }).slice(0, 3);
};

const MealPlan = () => {
    const [selectedDate, setSelectedDate] = useState(days[0].date);
    const selectedDay = days.find(day => day.date === selectedDate);  

    return (
        <>
            <h1 className="font-bold">Meal plan details</h1>
            <div className="w-full flex gap-3 my-4 justify-between">
                {days.map((day, index) => (
                    <div
                        key={index}
                        className="flex flex-col items-center "
                        onClick={() => setSelectedDate(day.date)}
                    >
                        <div className="text-[10px] uppercase font-medium text-black/70">{getDayOfWeek(day.date)}</div>
                        <div className={`flex items-center justify-center text-sm font-medium cursor-pointer w-8 h-8 rounded border ${day.date === selectedDate ? 'bg-neutral text-neutral-content' : 'bg-base-100'}`}>
                            <div>{day.date.slice(-2)}</div>
                        </div>
                        <div className="flex justify-center gap-1 mt-1">
                            {day.breakfast && <span className="w-1 h-1 bg-accent rounded-full"></span>}
                            {day.lunch && <span className="w-1 h-1 bg-secondary rounded-full"></span>}
                            {day.dinner && <span className="w-1 h-1 bg-primary rounded-full"></span>}
                        </div>
                    </div>
                ))}
            </div>
            <div className="flex flex-col gap-4">
                <MealCard mealType="Breakfast" meal={selectedDay.breakfast} side={selectedDay.breakfastSide} source={selectedDay.breakfastSource} color="accent" />
                <MealCard mealType="Lunch" meal={selectedDay.lunch} side={selectedDay.lunchSide} source={selectedDay.lunchSource} color="secondary" />
                <MealCard mealType="Dinner" meal={selectedDay.dinner} side={selectedDay.dinnerSide} source={selectedDay.dinnerSource} color="primary" />
            </div>
        </>
    );
}

export default MealPlan;


==================== C:\Code\recipe-app\frontend\src\routes\recipe-editor.jsx ====================

import React, { useState, useEffect } from "react";
import Input from "../components/Input";
import Select from "../components/Select";
import Card from "../components/Card";
import { FaChevronRight, FaPlus } from "react-icons/fa";
import Modal from "../components/Modal";
import FlagRadio from "../components/FlagRadio";
import { NavLink, useParams } from "react-router-dom";
import {authors, books, recipes } from "../dummy-data"

export default function RecipeEditor() {
    const { recipeId } = useParams();
    const [step, setStep] = useState(1);
    const [recipeName, setRecipeName] = useState("");
    const [selectedAuthor, setSelectedAuthor] = useState("");
    const [selectedBook, setSelectedBook] = useState("");
    const [pageNumber, setPageNumber] = useState("");
    const [recipeUrl, setRecipeUrl] = useState("");
    const [selectedType, setSelectedType] = useState("main");
    const [selectedCountry, setSelectedCountry] = useState("");
    const [sourceType, setSourceType] = useState("none");
    const [servings, setServings] = useState(4);
    const [cookingTime, setCookingTime] = useState("");
    const [isAddAuthorModalOpen, setIsAddAuthorModalOpen] = useState(false);
    const [isAddRecipeBookModalOpen, setIsAddRecipeBookModalOpen] = useState(false);
    const [isSuccessModalOpen, setIsSuccessModalOpen] = useState(false);

    useEffect(() => {
        if (recipeId) {
            const recipe = recipes.find(r => r.id === parseInt(recipeId));
            if (recipe) {
                setRecipeName(recipe.recipeName);
                setSelectedAuthor(recipe.selectedAuthor);
                setSelectedBook(recipe.selectedBook);
                setPageNumber(recipe.pageNumber);
                setRecipeUrl(recipe.recipeUrl);
                setSelectedType(recipe.selectedType);
                setSelectedCountry(recipe.selectedCountry);
                setServings(recipe.servings);
                setCookingTime(recipe.cookingTime);
                setSourceType(recipe.recipeUrl ? "online" : "book");
            }
        }
    }, [recipeId]);

    // const authorOptions = [
    //     { id: 1, label: "Jamie Oliver" },
    //     { id: 2, label: "Pinch of Nom" },
    //     { id: 3, label: "Bored of Lunch" },
    //     { id: 4, label: "Good Food" },
    //     { id: 5, label: "Gino D'Acampo" },
    // ];

    // const bookOptions = [
    //     { id: 1, label: "5 Ingredients", authorId: 1 },
    //     { id: 2, label: "Ministry of Food", authorId: 1 },
    //     { id: 3, label: "Quick & Easy", authorId: 2 },
    //     { id: 4, label: "Everyday Light", authorId: 2 },
    //     { id: 5, label: "The Healthy Air Fryer Book", authorId: 3 },
    //     { id: 6, label: "Healthy Slow Cooker: Even Easier", authorId: 3 },
    //     { id: 7, label: "Ultimate Slow Cooker Recipes", authorId: 4 },
    //     { id: 8, label: "Gino's Italian Escape", authorId: 5 },
    //     { id: 9, label: "Gino's Italy", authorId: 5 },
    // ];

    const sourceTypeOptions = [
        { id: "none", label: "None" },
        { id: "book", label: "Recipe book" },
        { id: "online", label: "Online" }
    ];

    const logState = () => {
        console.log({
            recipeName,
            selectedType,
            servings,
            selectedAuthor,
            selectedBook,
            pageNumber,
            recipeUrl,
            cookingTime,
            selectedCountry,
        });
    };

    const handleRecipeNameChange = (event) => {
        setRecipeName(event.target.value);
    };

    const handleAuthorChange = (event) => {
        setSelectedAuthor(event.target.value);
        setSelectedBook("");
        setSourceType("");
        setSelectedBook("");
        setRecipeUrl("");
    };

    const handleBookChange = (event) => {
        setSelectedBook(event.target.value);
    };

    const handlePageNumberChange = (event) => {
        setPageNumber(event.target.value);
    };

    const handleRecipeUrlChange = (event) => {
        setRecipeUrl(event.target.value);
    };

    const handleTypeChange = (event) => {
        setSelectedType(event.target.value);
    };

    const handleCountryChange = (event) => {
        setSelectedCountry(event.target.value);
    };

    const handleSourceTypeChange = (event) => {
        setSourceType(event.target.value);

        setSelectedBook("");
        setRecipeUrl("");
    };

    const handleServingsChange = (event) => {
        setServings(parseInt(event.target.value));
    };

    const handleCookingTimeChange = (event) => {
        setCookingTime(parseInt(event.target.value));
    };

    const handleNextStep = () => {
        setStep((prevStep) => Math.min(prevStep + 1, 3));
    };

    const handleBackStep = () => {
        setStep((prevStep) => Math.max(prevStep - 1, 1));
    };

    const handleRecipeSubmit = () => {
        logState();
        openSuccessModal();
    }

    const isNextButtonDisabled = () => {
        if (step === 1) {
            return !recipeName || !selectedType;
        }
        if (step === 2) {
            return !selectedAuthor;
        }

        if (step === 3) {
            return !selectedCountry;
        }

        return false;
    };

    const filteredBookOptions = books.filter(book => book.authorId === parseInt(selectedAuthor));

    const openAddAuthorModal = () => {
        setIsAddAuthorModalOpen(true);
    };

    const closeAddAuthorModal = () => {
        setIsAddAuthorModalOpen(false);
    };

    const openAddRecipeBookModal = () => {
        setIsAddRecipeBookModalOpen(true);
    };

    const closeAddRecipeBookModal = () => {
        setIsAddRecipeBookModalOpen(false);
    };

    const openSuccessModal = () => {
        setIsSuccessModalOpen(true);
    };

    const closeSuccessModal = () => {
        setIsSuccessModalOpen(false);
    };

    return (
        <div className="flex flex-col gap-4 h-full">
            <div className="flex gap-3 items-center">
                <div className="flex gap-1 items-center">
                    <span className={`block ${step === 1 ? 'bg-accent' : 'bg-gray-200'} text-accent-content w-5 h-5 text-xs rounded flex items-center justify-center font-bold`}>1</span>
                    {step === 1 && <span className="text-xs font-medium">Details</span>}
                </div>
                <span className="text-[8px] text-black/90"><FaChevronRight /></span>
                <div className="flex gap-1 items-center">
                    <span className={`block ${step === 2 ? 'bg-secondary' : 'bg-gray-200'} text-secondary-content w-5 h-5 text-xs rounded flex items-center justify-center font-bold`}>2</span>
                    {step === 2 && <span className="text-xs font-medium">Author</span>}
                </div>
                <span className="text-[8px] text-black/90"><FaChevronRight /></span>
                <div className="flex gap-1 items-center">
                    <span className={`block ${step === 3 ? 'bg-primary' : 'bg-gray-200'} text-primary-content w-5 h-5 text-xs rounded flex items-center justify-center font-bold`}>3</span>
                    {step === 3 && <span className="text-xs font-medium">Other details</span>}
                </div>
            </div>
            <Card className="grow h-full p-2">
                <div className="flex flex-col justify-between h-full">
                    {step === 1 && (
                        <div className="flex flex-col gap-6">
                            <Input
                                label="Recipe name"
                                onChange={handleRecipeNameChange}
                                required
                                value={recipeName}
                            />

                            <div>
                                <div className="label">
                                    <span className="label-text text-sm font-medium">Type</span>
                                </div>
                                <div className="flex gap-2">
                                    <input
                                        type="radio"
                                        name="meal-type"
                                        className="btn btn-sm"
                                        aria-label="Main"
                                        value="main"
                                        onChange={handleTypeChange}
                                        checked={selectedType === "main"}
                                    />
                                    <input
                                        type="radio"
                                        name="meal-type"
                                        className="btn btn-sm"
                                        aria-label="Side"
                                        value="side"
                                        onChange={handleTypeChange}
                                        checked={selectedType === "side"}
                                    />
                                </div>
                            </div>

                            <div>
                                <div className="label">
                                    <span className="label-text text-sm font-medium">Servings</span>
                                </div>
                                <input
                                    type="range"
                                    min={1}
                                    max={5}
                                    value={servings}
                                    className="range"
                                    step={1}
                                    onChange={handleServingsChange}
                                />
                                <div className="flex w-full justify-between px-2 text-xs">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>5</span>
                                </div>
                            </div>

                        </div>
                    )}

                    {step === 2 && (
                        <div className="flex flex-col gap-6">
                            <div className="flex gap-2 items-end">
                                <Select
                                    label="Author"
                                    options={authors}
                                    value={selectedAuthor}
                                    onChange={handleAuthorChange}
                                />
                                <button className="btn" onClick={openAddAuthorModal}><FaPlus /></button>
                            </div>
                            <Select
                                label="Recipe type"
                                options={sourceTypeOptions}
                                disabled={!selectedAuthor}
                                value={sourceType}
                                onChange={handleSourceTypeChange}
                            />
                            <div className="flex gap-2 items-end">
                                <div className="w-full max-w-xs flex-shrink-1">
                                    <Select
                                        label="Recipe book"
                                        options={filteredBookOptions}
                                        disabled={sourceType !== "book"}
                                        value={selectedBook}
                                        onChange={handleBookChange}
                                    />
                                </div>
                                <button
                                    className="btn"
                                    onClick={openAddRecipeBookModal}
                                    disabled={sourceType !== "book"}
                                >
                                    <FaPlus />
                                </button>
                            </div>

                            {sourceType === "book" ? (<Input
                                label="Page number"
                                type="number"
                                disabled={!selectedBook}
                                onChange={handlePageNumberChange}
                                value={pageNumber}
                            />) : <Input
                                label="Recipe URL"
                                onChange={handleRecipeUrlChange}
                                disabled={sourceType !== "online"}
                                value={recipeUrl}
                            />
                            }
                        </div>
                    )}

                    {step === 3 && (
                        <div className="flex flex-col gap-6">
                            <Input
                                label="Cooking time (minutes)"
                                type="number"
                                onChange={handleCookingTimeChange}
                                required
                                value={cookingTime}
                            />

                            <div>
                                <div className="label">
                                    <span className="label-text text-sm font-medium">Cuisine</span>
                                </div>
                                <ul className="grid grid-cols-2 gap-2 w-full flex-wrap">
                                    <FlagRadio code="MX" country="Mexican" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="US" country="American" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="CN" country="Chinese" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="GB" country="British" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="IT" country="Italian" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="ES" country="Spanish" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="FR" country="French" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="IN" country="Indian" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="GR" country="Greek" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="JP" country="Japanese" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="KR" country="Korean" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                    <FlagRadio code="TH" country="Thai" selectedCountry={selectedCountry} handleCountryChange={handleCountryChange} />
                                </ul>
                            </div>
                        </div>
                    )}

                    <div className="flex justify-between gap-4">
                        <div>
                            {step > 1 && <button className="btn btn-ghost" onClick={handleBackStep}>Back</button>}
                        </div>
                        <div className="flex gap-4">
                            <button className="btn px-6">Cancel</button>
                            {step < 3 && (
                                <button className={`btn btn-accent px-6`} onClick={handleNextStep} disabled={isNextButtonDisabled()}>
                                    Next
                                </button>
                            )}
                            {step === 3 && (
                                <button className={`btn btn-secondary px-6`} onClick={handleRecipeSubmit} disabled={isNextButtonDisabled()}>
                                    Finish
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            </Card>

            {isAddAuthorModalOpen && (
                <Modal title="Add Author" onClose={closeAddAuthorModal}>
                    <div className="flex flex-col gap-6">

                        <Input label="Author name" className="w-full" />
                        <button className="btn btn-primary">Add author</button>
                    </div>
                </Modal>
            )}

            {isAddRecipeBookModalOpen && (
                <Modal title="Add recipe book" onClose={closeAddRecipeBookModal}>
                    <div className="flex flex-col gap-6">
                        <Input label="Title" className="w-full" />

                        <Select
                            label="Author"
                            options={authorOptions}
                            value={selectedAuthor}
                            onChange={handleAuthorChange}
                            disabled={true}
                        />
                        <button className="btn btn-primary">Add recipe book</button>
                    </div>
                </Modal>
            )}

            {isSuccessModalOpen && (
                <Modal title="Recipe Added!">
                    <div className="flex flex-col gap-6">
                        <p>Fantastic!  <span className="font-bold">{recipeName}</span>, is now part of the app!</p>
                        <p>But wait, it looks like your recipe still needs some ingredients! Shall we add them now?</p>
                        <button className="btn btn-primary">Let's add ingredients!</button>
                        <NavLink to="/" className="btn">Back to home screen</NavLink>
                    </div>
                </Modal>
            )}


        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\recipe.jsx ====================

import React, { useState, useEffect } from "react";
import { FaHeart } from "react-icons/fa";
import { useParams, Link } from "react-router-dom"; // Import useParams and Link
import { recipes, authors, books } from "../dummy-data"; // Import recipes, authors, and books
import Card from "../components/Card";

export default function Recipe() {
    const { recipeId } = useParams(); // Get recipeId from the URL
    const [recipe, setRecipe] = useState(null);

    useEffect(() => {
        const foundRecipe = recipes.find(r => r.id === parseInt(recipeId));
        if (foundRecipe) {
            const author = authors.find(author => author.id === foundRecipe.selectedAuthor)?.label || "Unknown Author";
            const book = books.find(book => book.id === foundRecipe.selectedBook)?.label || "Unknown Book";

            setRecipe({
                ...foundRecipe,
                author,
                book,
                image: "https://picsum.photos/500/300",
                details: {
                    calories: 345,
                    weight: 250,
                    rating: 4.7,
                    time: foundRecipe.cookingTime,
                },
                tags: ["Breakfast", "Fast", "Easy"],
                ingredients: [
                    { name: "Eggs", quantity: "3 pc" },
                    { name: "Toast bread", quantity: "2 pc" },
                    { name: "Avocado", quantity: "1 pc" },
                    { name: "Tomato", quantity: "1/2 pc" },
                    { name: "Cheese", quantity: "70 g" },
                ],
            });
        }
    }, [recipeId]);

    if (!recipe) {
        return <div>Loading...</div>;
    }

    return (
        <Card>
            <div className="p-2">
                <div className="relative">
                    <img src={recipe.image} alt={recipe.recipeName} className="w-full h-64 object-cover rounded" />
                    <div className="absolute top-2 left-2 bg-white rounded-full p-1">
                        <FaHeart className="text-gray-500" />
                    </div>
                </div>
                <h1 className="text-2xl font-bold mt-4">{recipe.recipeName}</h1>
                <p className="text-sm text-gray-500 mt-2">by {recipe.author}</p>
                <p className="text-sm text-gray-500">from the book {recipe.book}</p>
                <Link to={`/editor/${recipeId}`} className="btn btn-sm btn-accent mt-4">
                    Edit Recipe
                </Link>
                <div className="flex gap-2 mt-4">
                    {recipe.tags.map((tag, index) => (
                        <span key={index} className="bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded">
                            {tag}
                        </span>
                    ))}
                </div>
                <h2 className="text-xl font-semibold mt-4">Ingredients</h2>
                <ul className="list-disc list-inside mt-2">
                    {recipe.ingredients.map((ingredient, index) => (
                        <li key={index}>
                            {ingredient.name} - {ingredient.quantity}
                        </li>
                    ))}
                </ul>
                <div className="mt-4">

                </div>
            </div>
        </Card>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\root.jsx ====================

import { Outlet } from "react-router-dom";
import Header from "../components/Header";

export default function Root() {
    return (
        <div className="flex flex-col h-dvh max-h-dvh bg-base-200 text-base-content items-center">
            <Header />
            <div className="grow overflow-auto p-6 w-full max-w-sm">
                <Outlet />
            </div>
        </div>
    );
}


==================== C:\Code\recipe-app\frontend\src\routes\to-do.jsx ====================

import React from "react";
import Card from "../components/Card";

export default function ToDo() {
    return (
        <Card>
            <div className="prose">
                <h3>To do list</h3>
                <ul>
                    <li><s>Recipe editor</s></li>
                    <li>Add step and image upload to recipe editor</li>
                    <li>Ingredient editor inc. add ingredient modal</li>
                    <li>Meal plan list</li>
                    <li>Shopping list</li>
                    <li>Add meal plan modal for home screen inc. calendar</li>
                    <li>Add/edit meal modal on meal plan</li>
                    <li><s>Edit recipe using recipe editor, pre-filled details</s></li>
                    <li>Icons on upcoming and previous cards</li>
                </ul>
            </div>
        </Card>
    );
}

==================== C:\Code\recipe-app\server\database.py ====================

from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

DATABASE_URL = "sqlite:///../mydatabase2.db"
engine = create_engine(DATABASE_URL, echo=True)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

# Dependency
def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

==================== C:\Code\recipe-app\server\main.py ====================

from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from models import Base
from database import engine
from api.routes import (
    ingredients_router,
    recipes_router,
    users_router,
    ingredient_categories_router,
    ingredient_sub_categories_router,
    recipe_authors_router,
    recipe_books_router,
    recipe_ingredients_router,
    units_router,
    meal_plans_router,
    meal_plan_recipes_router,
    shopping_lists_router,
    shopping_list_ingredients_router,  # Add these lines
)

# Create the tables
Base.metadata.create_all(bind=engine)

# FastAPI instance
app = FastAPI()

# Configure CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:5173"],  # Allows all origins
    allow_credentials=True,
    allow_methods=["*"],  # Allows all methods
    allow_headers=["*"],  # Allows all headers
)

# Include API routes
app.include_router(ingredients_router)
app.include_router(recipes_router)
app.include_router(users_router)
app.include_router(ingredient_categories_router)
app.include_router(ingredient_sub_categories_router)
app.include_router(recipe_authors_router)
app.include_router(recipe_books_router)
app.include_router(recipe_ingredients_router)
app.include_router(units_router)
app.include_router(meal_plans_router)
app.include_router(meal_plan_recipes_router)
app.include_router(shopping_lists_router)  # Add this line
app.include_router(shopping_list_ingredients_router)  # Add this line

@app.get("/")
def read_root():
    return {"Hello": "World"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="127.0.0.1", port=8000, reload=True)


==================== C:\Code\recipe-app\server\api\__init__.py ====================



==================== C:\Code\recipe-app\server\api\routes\ingredients.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import Ingredient as IngredientModel
from schemas.ingredient import Ingredient as IngredientSchema, IngredientCreate, IngredientUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/ingredients")

@router.get("/", response_model=List[IngredientSchema])
def read_ingredients(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    ingredients = db.query(IngredientModel).offset(skip).limit(limit).all()
    return ingredients

@router.post("/", response_model=IngredientSchema, status_code=status.HTTP_201_CREATED)
def create_ingredient(ingredient: IngredientCreate, db: Session = Depends(get_db)):
    db_ingredient = IngredientModel(
        IngredientName=ingredient.IngredientName,
        PurchaseWeightVolume=ingredient.PurchaseWeightVolume,
        PurchaseUnitID=ingredient.PurchaseUnitID,
        SubCategoryID=ingredient.SubCategoryID,
        PurchaseWeightUnitID=ingredient.PurchaseWeightUnitID,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_ingredient)
    db.commit()
    db.refresh(db_ingredient)
    return db_ingredient

@router.put("/{ingredient_id}", response_model=IngredientSchema)
def update_ingredient(ingredient_id: int, ingredient: IngredientUpdate, db: Session = Depends(get_db)):
    db_ingredient = db.query(IngredientModel).filter(IngredientModel.IngredientID == ingredient_id).first()
    if db_ingredient is None:
        raise HTTPException(status_code=404, detail="Ingredient not found")
    for key, value in ingredient.dict().items():
        setattr(db_ingredient, key, value)
    db_ingredient.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_ingredient)
    return db_ingredient

@router.delete("/{ingredient_id}", response_model=IngredientSchema)
def delete_ingredient(ingredient_id: int, db: Session = Depends(get_db)):
    db_ingredient = db.query(IngredientModel).filter(IngredientModel.IngredientID == ingredient_id).first()
    if db_ingredient is None:
        raise HTTPException(status_code=404, detail="Ingredient not found")
    db.delete(db_ingredient)
    db.commit()
    return db_ingredient


==================== C:\Code\recipe-app\server\api\routes\ingredient_categories.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import IngredientCategory as IngredientCategoryModel
from schemas.ingredient_category import IngredientCategory, IngredientCategoryCreate, IngredientCategoryUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/ingredient-categories")

@router.get("/", response_model=List[IngredientCategory])
def read_ingredient_categories(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    ingredient_categories = db.query(IngredientCategoryModel).offset(skip).limit(limit).all()
    return ingredient_categories

@router.post("/", response_model=IngredientCategory, status_code=status.HTTP_201_CREATED)
def create_ingredient_category(ingredient_category: IngredientCategoryCreate, db: Session = Depends(get_db)):
    db_ingredient_category = IngredientCategoryModel(
        CategoryName=ingredient_category.CategoryName,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    try:
        db.add(db_ingredient_category)
        db.commit()
        db.refresh(db_ingredient_category)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Category name already exists.")
    return db_ingredient_category

@router.put("/{category_id}", response_model=IngredientCategory)
def update_ingredient_category(category_id: int, ingredient_category: IngredientCategoryUpdate, db: Session = Depends(get_db)):
    db_ingredient_category = db.query(IngredientCategoryModel).filter(IngredientCategoryModel.CategoryID == category_id).first()
    if db_ingredient_category is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient category not found")
    for key, value in ingredient_category.dict().items():
        setattr(db_ingredient_category, key, value)
    db_ingredient_category.UpdatedAt = datetime.utcnow()
    try:
        db.commit()
        db.refresh(db_ingredient_category)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Category name already exists.")
    return db_ingredient_category

@router.delete("/{category_id}", response_model=IngredientCategory)
def delete_ingredient_category(category_id: int, db: Session = Depends(get_db)):
    db_ingredient_category = db.query(IngredientCategoryModel).filter(IngredientCategoryModel.CategoryID == category_id).first()
    if db_ingredient_category is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient category not found")
    db.delete(db_ingredient_category)
    db.commit()
    return db_ingredient_category


==================== C:\Code\recipe-app\server\api\routes\ingredient_sub_categories.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from typing import List
from database import get_db
from models import IngredientSubCategory as IngredientSubCategoryModel
from schemas.ingredient_sub_category import (
    IngredientSubCategory,
    IngredientSubCategoryCreate,
    IngredientSubCategoryUpdate
)
from datetime import datetime

router = APIRouter(prefix="/api/ingredient-sub-categories")

@router.get("/", response_model=List[IngredientSubCategory])
def read_ingredient_sub_categories(skip: int = 0, limit: int = 1000, db: Session = Depends(get_db)):
    ingredient_sub_categories = db.query(IngredientSubCategoryModel).offset(skip).limit(limit).all()
    return ingredient_sub_categories

@router.get("/{sub_category_id}", response_model=IngredientSubCategory)
def read_ingredient_sub_category(sub_category_id: int, db: Session = Depends(get_db)):
    db_ingredient_sub_category = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.SubCategoryID == sub_category_id).first()
    if not db_ingredient_sub_category:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient sub-category not found")
    return db_ingredient_sub_category

@router.get("/category/{category_id}", response_model=List[IngredientSubCategory])
def read_ingredient_sub_categories_by_category(category_id: int, skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    ingredient_sub_categories = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.CategoryID == category_id).offset(skip).limit(limit).all()
    return ingredient_sub_categories

@router.post("/", response_model=IngredientSubCategory, status_code=status.HTTP_201_CREATED)
def create_ingredient_sub_category(ingredient_sub_category: IngredientSubCategoryCreate, db: Session = Depends(get_db)):
    db_ingredient_sub_category = IngredientSubCategoryModel(
        SubCategoryName=ingredient_sub_category.SubCategoryName,
        CategoryID=ingredient_sub_category.CategoryID,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_ingredient_sub_category)
    db.commit()
    db.refresh(db_ingredient_sub_category)
    return db_ingredient_sub_category

@router.put("/{sub_category_id}", response_model=IngredientSubCategory)
def update_ingredient_sub_category(sub_category_id: int, ingredient_sub_category: IngredientSubCategoryUpdate, db: Session = Depends(get_db)):
    db_ingredient_sub_category = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.SubCategoryID == sub_category_id).first()
    if not db_ingredient_sub_category:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient sub-category not found")
    
    for key, value in ingredient_sub_category.dict().items():
        setattr(db_ingredient_sub_category, key, value)
    db_ingredient_sub_category.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_ingredient_sub_category)
    return db_ingredient_sub_category

@router.delete("/{sub_category_id}", response_model=IngredientSubCategory)
def delete_ingredient_sub_category(sub_category_id: int, db: Session = Depends(get_db)):
    db_ingredient_sub_category = db.query(IngredientSubCategoryModel).filter(IngredientSubCategoryModel.SubCategoryID == sub_category_id).first()
    if not db_ingredient_sub_category:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Ingredient sub-category not found")
    
    db.delete(db_ingredient_sub_category)
    db.commit()
    return db_ingredient_sub_category


==================== C:\Code\recipe-app\server\api\routes\meal_plans.py ====================

# api/routes/meal_plans.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import MealPlan as MealPlanModel
from schemas.meal_plan import MealPlan as MealPlanSchema, MealPlanCreate, MealPlanUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/meal-plans")

@router.get("/", response_model=List[MealPlanSchema])
def read_meal_plans(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    meal_plans = db.query(MealPlanModel).offset(skip).limit(limit).all()
    return meal_plans

@router.post("/", response_model=MealPlanSchema, status_code=status.HTTP_201_CREATED)
def create_meal_plan(meal_plan: MealPlanCreate, db: Session = Depends(get_db)):
    db_meal_plan = MealPlanModel(
        UserID=meal_plan.UserID,
        PlanName=meal_plan.PlanName,
        StartDate=meal_plan.StartDate,
        EndDate=meal_plan.EndDate,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_meal_plan)
    db.commit()
    db.refresh(db_meal_plan)
    return db_meal_plan

@router.get("/{meal_plan_id}", response_model=MealPlanSchema)
def read_meal_plan(meal_plan_id: int, db: Session = Depends(get_db)):
    meal_plan = db.query(MealPlanModel).filter(MealPlanModel.MealPlanID == meal_plan_id).first()
    if meal_plan is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan not found")
    return meal_plan

@router.put("/{meal_plan_id}", response_model=MealPlanSchema)
def update_meal_plan(meal_plan_id: int, meal_plan: MealPlanUpdate, db: Session = Depends(get_db)):
    db_meal_plan = db.query(MealPlanModel).filter(MealPlanModel.MealPlanID == meal_plan_id).first()
    if db_meal_plan is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan not found")
    for key, value in meal_plan.dict().items():
        setattr(db_meal_plan, key, value)
    db_meal_plan.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_meal_plan)
    return db_meal_plan

@router.delete("/{meal_plan_id}", response_model=MealPlanSchema)
def delete_meal_plan(meal_plan_id: int, db: Session = Depends(get_db)):
    db_meal_plan = db.query(MealPlanModel).filter(MealPlanModel.MealPlanID == meal_plan_id).first()
    if db_meal_plan is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan not found")
    db.delete(db_meal_plan)
    db.commit()
    return db_meal_plan


==================== C:\Code\recipe-app\server\api\routes\meal_plan_recipes.py ====================

# api/routes/meal_plan_recipes.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import MealPlanRecipe as MealPlanRecipeModel
from schemas.meal_plan_recipe import MealPlanRecipe as MealPlanRecipeSchema, MealPlanRecipeCreate, MealPlanRecipeUpdate
from typing import List

router = APIRouter(prefix="/api/meal-plan-recipes")

@router.get("/", response_model=List[MealPlanRecipeSchema])
def read_meal_plan_recipes(skip: int = 0, limit: int = 10000, db: Session = Depends(get_db)):
    meal_plan_recipes = db.query(MealPlanRecipeModel).offset(skip).limit(limit).all()
    return meal_plan_recipes

@router.post("/", response_model=MealPlanRecipeSchema, status_code=status.HTTP_201_CREATED)
def create_meal_plan_recipe(meal_plan_recipe: MealPlanRecipeCreate, db: Session = Depends(get_db)):
    db_meal_plan_recipe = MealPlanRecipeModel(
        MealPlanID=meal_plan_recipe.MealPlanID,
        RecipeID=meal_plan_recipe.RecipeID,
        MealType=meal_plan_recipe.MealType,
        Date=meal_plan_recipe.Date,
    )
    db.add(db_meal_plan_recipe)
    db.commit()
    db.refresh(db_meal_plan_recipe)
    return db_meal_plan_recipe

@router.get("/{meal_plan_recipe_id}", response_model=MealPlanRecipeSchema)
def read_meal_plan_recipe(meal_plan_recipe_id: int, db: Session = Depends(get_db)):
    meal_plan_recipe = db.query(MealPlanRecipeModel).filter(MealPlanRecipeModel.MealPlanRecipeID == meal_plan_recipe_id).first()
    if meal_plan_recipe is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan recipe not found")
    return meal_plan_recipe

@router.put("/{meal_plan_recipe_id}", response_model=MealPlanRecipeSchema)
def update_meal_plan_recipe(meal_plan_recipe_id: int, meal_plan_recipe: MealPlanRecipeUpdate, db: Session = Depends(get_db)):
    db_meal_plan_recipe = db.query(MealPlanRecipeModel).filter(MealPlanRecipeModel.MealPlanRecipeID == meal_plan_recipe_id).first()
    if db_meal_plan_recipe is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan recipe not found")
    for key, value in meal_plan_recipe.dict().items():
        setattr(db_meal_plan_recipe, key, value)
    db.commit()
    db.refresh(db_meal_plan_recipe)
    return db_meal_plan_recipe

@router.delete("/{meal_plan_recipe_id}", response_model=MealPlanRecipeSchema)
def delete_meal_plan_recipe(meal_plan_recipe_id: int, db: Session = Depends(get_db)):
    db_meal_plan_recipe = db.query(MealPlanRecipeModel).filter(MealPlanRecipeModel.MealPlanRecipeID == meal_plan_recipe_id).first()
    if db_meal_plan_recipe is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Meal plan recipe not found")
    db.delete(db_meal_plan_recipe)
    db.commit()
    return db_meal_plan_recipe


==================== C:\Code\recipe-app\server\api\routes\recipes.py ====================

from fastapi import APIRouter, Depends, HTTPException
from sqlalchemy.orm import Session
from database import get_db
from models import Recipe as RecipeModel
from schemas.recipe import Recipe as RecipeSchema, RecipeCreate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/recipes")

@router.get("/", response_model=List[RecipeSchema])
def read_recipes(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    recipes = db.query(RecipeModel).offset(skip).limit(limit).all()
    return recipes

@router.post("/", response_model=RecipeSchema, status_code=201)
def create_recipe(recipe: RecipeCreate, db: Session = Depends(get_db)):
    db_recipe = RecipeModel(
        RecipeName=recipe.RecipeName,
        AuthorID=recipe.AuthorID,
        BookID=recipe.BookID,
        PageNumber=recipe.PageNumber,
        OnlineURL=recipe.OnlineURL,
        CookTime=recipe.CookTime,
        Difficulty=recipe.Difficulty,
        Type=recipe.Type,
        ImageURL=recipe.ImageURL,
        Servings=recipe.Servings,
        Cuisine=recipe.Cuisine,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_recipe)
    db.commit()
    db.refresh(db_recipe)
    return db_recipe

@router.get("/{recipe_id}", response_model=RecipeSchema)
def read_recipe(recipe_id: int, db: Session = Depends(get_db)):
    recipe = db.query(RecipeModel).filter(RecipeModel.RecipeID == recipe_id).first()
    if recipe is None:
        raise HTTPException(status_code=404, detail="Recipe not found")
    return recipe

@router.put("/{recipe_id}", response_model=RecipeSchema)
def update_recipe(recipe_id: int, recipe: RecipeCreate, db: Session = Depends(get_db)):
    db_recipe = db.query(RecipeModel).filter(RecipeModel.RecipeID == recipe_id).first()
    if db_recipe is None:
        raise HTTPException(status_code=404, detail="Recipe not found")
    for key, value in recipe.dict().items():
        setattr(db_recipe, key, value)
    db_recipe.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_recipe)
    return db_recipe

@router.delete("/{recipe_id}", response_model=RecipeSchema)
def delete_recipe(recipe_id: int, db: Session = Depends(get_db)):
    db_recipe = db.query(RecipeModel).filter(RecipeModel.RecipeID == recipe_id).first()
    if db_recipe is None:
        raise HTTPException(status_code=404, detail="Recipe not found")
    db.delete(db_recipe)
    db.commit()
    return db_recipe


==================== C:\Code\recipe-app\server\api\routes\recipe_authors.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import RecipeAuthor as RecipeAuthorModel
from schemas.recipe_author import RecipeAuthor as RecipeAuthorSchema, RecipeAuthorCreate, RecipeAuthorUpdate
from typing import List

router = APIRouter(prefix="/api/recipe-authors")

@router.get("/", response_model=List[RecipeAuthorSchema])
def read_recipe_authors(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    recipe_authors = db.query(RecipeAuthorModel).offset(skip).limit(limit).all()
    return recipe_authors

@router.post("/", response_model=RecipeAuthorSchema, status_code=status.HTTP_201_CREATED)
def create_recipe_author(recipe_author: RecipeAuthorCreate, db: Session = Depends(get_db)):
    db_recipe_author = RecipeAuthorModel(
        AuthorName=recipe_author.AuthorName,
        AuthorImageURL=recipe_author.AuthorImageURL,
    )
    db.add(db_recipe_author)
    db.commit()
    db.refresh(db_recipe_author)
    return db_recipe_author

@router.get("/{author_id}", response_model=RecipeAuthorSchema)
def read_recipe_author(author_id: int, db: Session = Depends(get_db)):
    recipe_author = db.query(RecipeAuthorModel).filter(RecipeAuthorModel.AuthorID == author_id).first()
    if recipe_author is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe author not found")
    return recipe_author

@router.put("/{author_id}", response_model=RecipeAuthorSchema)
def update_recipe_author(author_id: int, recipe_author: RecipeAuthorUpdate, db: Session = Depends(get_db)):
    db_recipe_author = db.query(RecipeAuthorModel).filter(RecipeAuthorModel.AuthorID == author_id).first()
    if db_recipe_author is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe author not found")
    for key, value in recipe_author.dict().items():
        setattr(db_recipe_author, key, value)
    db.commit()
    db.refresh(db_recipe_author)
    return db_recipe_author

@router.delete("/{author_id}", response_model=RecipeAuthorSchema)
def delete_recipe_author(author_id: int, db: Session = Depends(get_db)):
    db_recipe_author = db.query(RecipeAuthorModel).filter(RecipeAuthorModel.AuthorID == author_id).first()
    if db_recipe_author is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe author not found")
    db.delete(db_recipe_author)
    db.commit()
    return db_recipe_author


==================== C:\Code\recipe-app\server\api\routes\recipe_books.py ====================

# api/routes/recipe_books.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import RecipeBook as RecipeBookModel
from schemas.recipe_book import RecipeBook as RecipeBookSchema, RecipeBookCreate, RecipeBookUpdate
from typing import List

router = APIRouter(prefix="/api/recipe-books")

@router.get("/", response_model=List[RecipeBookSchema])
def read_recipe_books(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    recipe_books = db.query(RecipeBookModel).offset(skip).limit(limit).all()
    return recipe_books

@router.post("/", response_model=RecipeBookSchema, status_code=status.HTTP_201_CREATED)
def create_recipe_book(recipe_book: RecipeBookCreate, db: Session = Depends(get_db)):
    db_recipe_book = RecipeBookModel(
        AuthorID=recipe_book.AuthorID,
        BookName=recipe_book.BookName,
        CoverArtURL=recipe_book.CoverArtURL,
    )
    db.add(db_recipe_book)
    db.commit()
    db.refresh(db_recipe_book)
    return db_recipe_book

@router.get("/{book_id}", response_model=RecipeBookSchema)
def read_recipe_book(book_id: int, db: Session = Depends(get_db)):
    recipe_book = db.query(RecipeBookModel).filter(RecipeBookModel.BookID == book_id).first()
    if recipe_book is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe book not found")
    return recipe_book

@router.put("/{book_id}", response_model=RecipeBookSchema)
def update_recipe_book(book_id: int, recipe_book: RecipeBookUpdate, db: Session = Depends(get_db)):
    db_recipe_book = db.query(RecipeBookModel).filter(RecipeBookModel.BookID == book_id).first()
    if db_recipe_book is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe book not found")
    for key, value in recipe_book.dict().items():
        setattr(db_recipe_book, key, value)
    db.commit()
    db.refresh(db_recipe_book)
    return db_recipe_book

@router.delete("/{book_id}", response_model=RecipeBookSchema)
def delete_recipe_book(book_id: int, db: Session = Depends(get_db)):
    db_recipe_book = db.query(RecipeBookModel).filter(RecipeBookModel.BookID == book_id).first()
    if db_recipe_book is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Recipe book not found")
    db.delete(db_recipe_book)
    db.commit()
    return db_recipe_book


==================== C:\Code\recipe-app\server\api\routes\recipe_ingredients.py ====================

# api/routes/recipe_ingredients.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from typing import List
from database import get_db
from models import RecipeIngredient as RecipeIngredientModel
from schemas.recipe_ingredient import (
    RecipeIngredient as RecipeIngredientSchema,
    RecipeIngredientCreate,
    RecipeIngredientUpdate
)
from datetime import datetime

router = APIRouter(prefix="/api/recipe-ingredients")

@router.get("/", response_model=List[RecipeIngredientSchema])
def read_recipe_ingredients(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    recipe_ingredients = db.query(RecipeIngredientModel).offset(skip).limit(limit).all()
    return recipe_ingredients

@router.post("/", response_model=RecipeIngredientSchema, status_code=status.HTTP_201_CREATED)
def create_recipe_ingredient(recipe_ingredient: RecipeIngredientCreate, db: Session = Depends(get_db)):
    db_recipe_ingredient = RecipeIngredientModel(
        RecipeID=recipe_ingredient.RecipeID,
        IngredientID=recipe_ingredient.IngredientID,
        SectionID=recipe_ingredient.SectionID,
        Quantity=recipe_ingredient.Quantity,
        UnitID=recipe_ingredient.UnitID
    )
    db.add(db_recipe_ingredient)
    db.commit()
    db.refresh(db_recipe_ingredient)
    return db_recipe_ingredient

@router.put("/{recipe_ingredient_id}", response_model=RecipeIngredientSchema)
def update_recipe_ingredient(recipe_ingredient_id: int, recipe_ingredient: RecipeIngredientUpdate, db: Session = Depends(get_db)):
    db_recipe_ingredient = db.query(RecipeIngredientModel).filter(RecipeIngredientModel.RecipeIngredientID == recipe_ingredient_id).first()
    if db_recipe_ingredient is None:
        raise HTTPException(status_code=404, detail="Recipe ingredient not found")
    for key, value in recipe_ingredient.dict().items():
        setattr(db_recipe_ingredient, key, value)
    db_recipe_ingredient.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_recipe_ingredient)
    return db_recipe_ingredient

@router.delete("/{recipe_ingredient_id}", response_model=RecipeIngredientSchema)
def delete_recipe_ingredient(recipe_ingredient_id: int, db: Session = Depends(get_db)):
    db_recipe_ingredient = db.query(RecipeIngredientModel).filter(RecipeIngredientModel.RecipeIngredientID == recipe_ingredient_id).first()
    if db_recipe_ingredient is None:
        raise HTTPException(status_code=404, detail="Recipe ingredient not found")
    db.delete(db_recipe_ingredient)
    db.commit()
    return db_recipe_ingredient


==================== C:\Code\recipe-app\server\api\routes\shopping_lists.py ====================

# api/routes/shopping_lists.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import ShoppingList as ShoppingListModel
from schemas.shopping_list import ShoppingList as ShoppingListSchema, ShoppingListCreate, ShoppingListUpdate
from typing import List
from datetime import datetime

router = APIRouter(prefix="/api/shopping-lists")

@router.get("/", response_model=List[ShoppingListSchema])
def read_shopping_lists(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    shopping_lists = db.query(ShoppingListModel).offset(skip).limit(limit).all()
    return shopping_lists

@router.post("/", response_model=ShoppingListSchema, status_code=status.HTTP_201_CREATED)
def create_shopping_list(shopping_list: ShoppingListCreate, db: Session = Depends(get_db)):
    db_shopping_list = ShoppingListModel(
        UserID=shopping_list.UserID,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    db.add(db_shopping_list)
    db.commit()
    db.refresh(db_shopping_list)
    return db_shopping_list

@router.get("/{shopping_list_id}", response_model=ShoppingListSchema)
def read_shopping_list(shopping_list_id: int, db: Session = Depends(get_db)):
    shopping_list = db.query(ShoppingListModel).filter(ShoppingListModel.ShoppingListID == shopping_list_id).first()
    if shopping_list is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list not found")
    return shopping_list

@router.put("/{shopping_list_id}", response_model=ShoppingListSchema)
def update_shopping_list(shopping_list_id: int, shopping_list: ShoppingListUpdate, db: Session = Depends(get_db)):
    db_shopping_list = db.query(ShoppingListModel).filter(ShoppingListModel.ShoppingListID == shopping_list_id).first()
    if db_shopping_list is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list not found")
    for key, value in shopping_list.dict().items():
        setattr(db_shopping_list, key, value)
    db_shopping_list.UpdatedAt = datetime.utcnow()
    db.commit()
    db.refresh(db_shopping_list)
    return db_shopping_list

@router.delete("/{shopping_list_id}", response_model=ShoppingListSchema)
def delete_shopping_list(shopping_list_id: int, db: Session = Depends(get_db)):
    db_shopping_list = db.query(ShoppingListModel).filter(ShoppingListModel.ShoppingListID == shopping_list_id).first()
    if db_shopping_list is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list not found")
    db.delete(db_shopping_list)
    db.commit()
    return db_shopping_list


==================== C:\Code\recipe-app\server\api\routes\shopping_list_ingredients.py ====================

# api/routes/shopping_list_ingredients.py
from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from database import get_db
from models import ShoppingListIngredient as ShoppingListIngredientModel
from schemas.shopping_list_ingredient import ShoppingListIngredient as ShoppingListIngredientSchema, ShoppingListIngredientCreate, ShoppingListIngredientUpdate
from typing import List

router = APIRouter(prefix="/api/shopping-list-ingredients")

@router.get("/", response_model=List[ShoppingListIngredientSchema])
def read_shopping_list_ingredients(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    shopping_list_ingredients = db.query(ShoppingListIngredientModel).offset(skip).limit(limit).all()
    return shopping_list_ingredients

@router.post("/", response_model=ShoppingListIngredientSchema, status_code=status.HTTP_201_CREATED)
def create_shopping_list_ingredient(shopping_list_ingredient: ShoppingListIngredientCreate, db: Session = Depends(get_db)):
    db_shopping_list_ingredient = ShoppingListIngredientModel(
        ShoppingListID=shopping_list_ingredient.ShoppingListID,
        MealPlanRecipeID=shopping_list_ingredient.MealPlanRecipeID,
        IngredientID=shopping_list_ingredient.IngredientID,
        Quantity=shopping_list_ingredient.Quantity,
        UnitID=shopping_list_ingredient.UnitID,
        IsManual=shopping_list_ingredient.IsManual,
        AlreadyHave=shopping_list_ingredient.AlreadyHave,
        Purchased=shopping_list_ingredient.Purchased,
    )
    db.add(db_shopping_list_ingredient)
    db.commit()
    db.refresh(db_shopping_list_ingredient)
    return db_shopping_list_ingredient

@router.get("/{shopping_list_ingredient_id}", response_model=ShoppingListIngredientSchema)
def read_shopping_list_ingredient(shopping_list_ingredient_id: int, db: Session = Depends(get_db)):
    shopping_list_ingredient = db.query(ShoppingListIngredientModel).filter(ShoppingListIngredientModel.ShoppingListIngredientID == shopping_list_ingredient_id).first()
    if shopping_list_ingredient is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list ingredient not found")
    return shopping_list_ingredient

@router.put("/{shopping_list_ingredient_id}", response_model=ShoppingListIngredientSchema)
def update_shopping_list_ingredient(shopping_list_ingredient_id: int, shopping_list_ingredient: ShoppingListIngredientUpdate, db: Session = Depends(get_db)):
    db_shopping_list_ingredient = db.query(ShoppingListIngredientModel).filter(ShoppingListIngredientModel.ShoppingListIngredientID == shopping_list_ingredient_id).first()
    if db_shopping_list_ingredient is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list ingredient not found")
    for key, value in shopping_list_ingredient.dict().items():
        setattr(db_shopping_list_ingredient, key, value)
    db.commit()
    db.refresh(db_shopping_list_ingredient)
    return db_shopping_list_ingredient

@router.delete("/{shopping_list_ingredient_id}", response_model=ShoppingListIngredientSchema)
def delete_shopping_list_ingredient(shopping_list_ingredient_id: int, db: Session = Depends(get_db)):
    db_shopping_list_ingredient = db.query(ShoppingListIngredientModel).filter(ShoppingListIngredientModel.ShoppingListIngredientID == shopping_list_ingredient_id).first()
    if db_shopping_list_ingredient is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Shopping list ingredient not found")
    db.delete(db_shopping_list_ingredient)
    db.commit()
    return db_shopping_list_ingredient


==================== C:\Code\recipe-app\server\api\routes\units.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from typing import List
from database import get_db
from models import Unit as UnitModel
from schemas.unit import Unit as UnitSchema, UnitCreate, UnitUpdate

router = APIRouter(prefix="/api/units")

@router.get("/", response_model=List[UnitSchema])
def read_units(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    units = db.query(UnitModel).offset(skip).limit(limit).all()
    return units

@router.post("/", response_model=UnitSchema, status_code=status.HTTP_201_CREATED)
def create_unit(unit: UnitCreate, db: Session = Depends(get_db)):
    db_unit = UnitModel(
        UnitName=unit.UnitName,
        Abbreviation=unit.Abbreviation,
    )
    db.add(db_unit)
    db.commit()
    db.refresh(db_unit)
    return db_unit

@router.put("/{unit_id}", response_model=UnitSchema)
def update_unit(unit_id: int, unit: UnitUpdate, db: Session = Depends(get_db)):
    db_unit = db.query(UnitModel).filter(UnitModel.UnitID == unit_id).first()
    if db_unit is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Unit not found")
    for key, value in unit.dict().items():
        setattr(db_unit, key, value)
    db.commit()
    db.refresh(db_unit)
    return db_unit

@router.delete("/{unit_id}", response_model=UnitSchema)
def delete_unit(unit_id: int, db: Session = Depends(get_db)):
    db_unit = db.query(UnitModel).filter(UnitModel.UnitID == unit_id).first()
    if db_unit is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Unit not found")
    db.delete(db_unit)
    db.commit()
    return db_unit


==================== C:\Code\recipe-app\server\api\routes\users.py ====================

from fastapi import APIRouter, Depends, HTTPException, status
from sqlalchemy.orm import Session
from sqlalchemy.exc import IntegrityError
from database import get_db
from models import User as UserModel
from schemas.user import UserRead, UserCreate, UserLogin
from typing import List
from datetime import datetime
import bcrypt

router = APIRouter(prefix="/api/users")

@router.get("/", response_model=List[UserRead])
def read_users(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    users = db.query(UserModel).offset(skip).limit(limit).all()
    return users

@router.post("/", response_model=UserRead, status_code=status.HTTP_201_CREATED)
def create_user(user: UserCreate, db: Session = Depends(get_db)):
    hashed_password = bcrypt.hashpw(user.Password.encode('utf-8'), bcrypt.gensalt())
    db_user = UserModel(
        Username=user.Username,
        PasswordHash=hashed_password.decode('utf-8'),
        Email=user.Email,
        CreatedAt=datetime.utcnow(),
        UpdatedAt=datetime.utcnow(),
    )
    try:
        db.add(db_user)
        db.commit()
        db.refresh(db_user)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Username or Email already exists.")
    return db_user

@router.post("/login")
def login_user(user: UserLogin, db: Session = Depends(get_db)):
    db_user = db.query(UserModel).filter(UserModel.Username == user.Username).first()
    if not db_user or not bcrypt.checkpw(user.Password.encode('utf-8'), db_user.PasswordHash.encode('utf-8')):
        raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail="Invalid username or password")
    return {"message": "Login successful"}

@router.get("/{user_id}", response_model=UserRead)
def read_user(user_id: int, db: Session = Depends(get_db)):
    user = db.query(UserModel).filter(UserModel.UserID == user_id).first()
    if user is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="User not found")
    return user

@router.put("/{user_id}", response_model=UserRead)
def update_user(user_id: int, user: UserCreate, db: Session = Depends(get_db)):
    db_user = db.query(UserModel).filter(UserModel.UserID == user_id).first()
    if db_user is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="User not found")
    for key, value in user.dict().items():
        if key == "Password":
            value = bcrypt.hashpw(value.encode('utf-8'), bcrypt.gensalt()).decode('utf-8')
        setattr(db_user, key, value)
    db_user.UpdatedAt = datetime.utcnow()
    try:
        db.commit()
        db.refresh(db_user)
    except IntegrityError:
        db.rollback()
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail="Username or Email already exists.")
    return db_user

@router.delete("/{user_id}", response_model=UserRead)
def delete_user(user_id: int, db: Session = Depends(get_db)):
    db_user = db.query(UserModel).filter(UserModel.UserID == user_id).first()
    if db_user is None:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="User not found")
    db.delete(db_user)
    db.commit()
    return db_user


==================== C:\Code\recipe-app\server\api\routes\__init__.py ====================

from .ingredients import router as ingredients_router
from .recipes import router as recipes_router
from .users import router as users_router
from .ingredient_categories import router as ingredient_categories_router
from .ingredient_sub_categories import router as ingredient_sub_categories_router
from .recipe_authors import router as recipe_authors_router
from .recipe_books import router as recipe_books_router
from .recipe_ingredients import router as recipe_ingredients_router
from .units import router as units_router
from .meal_plans import router as meal_plans_router
from .meal_plan_recipes import router as meal_plan_recipes_router
from .shopping_lists import router as shopping_lists_router
from .shopping_list_ingredients import router as shopping_list_ingredients_router

__all__ = [
    "ingredients_router",
    "recipes_router",
    "users_router",
    "ingredient_categories_router",
    "ingredient_sub_categories_router",
    "recipe_authors_router",
    "recipe_books_router",
    "recipe_ingredients_router",
    "units_router",
    "meal_plans_router",
    "meal_plan_recipes_router",
    "shopping_lists_router",
    "shopping_list_ingredients_router",
]


==================== C:\Code\recipe-app\server\models\base.py ====================

from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()


==================== C:\Code\recipe-app\server\models\ingredient.py ====================

from sqlalchemy import Column, Integer, String, Float, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class Ingredient(Base):
    __tablename__ = "Ingredients"

    IngredientID = Column(Integer, primary_key=True)
    SubCategoryID = Column(Integer, ForeignKey("IngredientSubCategories.SubCategoryID"), nullable=False)
    IngredientName = Column(String, nullable=False)
    PurchaseUnitID = Column(Integer, ForeignKey("Units.UnitID"))
    PurchaseWeightVolume = Column(Float)
    PurchaseWeightUnitID = Column(Integer, ForeignKey("Units.UnitID"))
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    subcategory = relationship("IngredientSubCategory", back_populates="ingredients")
    recipes = relationship("RecipeIngredient", back_populates="ingredient")
    shopping_list_ingredients = relationship("ShoppingListIngredient", back_populates="ingredient")


==================== C:\Code\recipe-app\server\models\ingredient_category.py ====================

from sqlalchemy import Column, Integer, String, TIMESTAMP
from sqlalchemy.orm import relationship
from .base import Base
from datetime import datetime

class IngredientCategory(Base):
    __tablename__ = "IngredientCategories"

    CategoryID = Column(Integer, primary_key=True, index=True, autoincrement=True)
    CategoryName = Column(String, nullable=False, unique=True)
    CreatedAt = Column(TIMESTAMP, default=datetime.utcnow)
    UpdatedAt = Column(TIMESTAMP, default=datetime.utcnow, onupdate=datetime.utcnow)

    subcategories = relationship("IngredientSubCategory", order_by="IngredientSubCategory.SubCategoryID", back_populates="category")


==================== C:\Code\recipe-app\server\models\ingredient_sub_category.py ====================

from sqlalchemy import Column, Integer, String, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class IngredientSubCategory(Base):
    __tablename__ = "IngredientSubCategories"

    SubCategoryID = Column(Integer, primary_key=True)
    CategoryID = Column(Integer, ForeignKey("IngredientCategories.CategoryID"), nullable=False)
    SubCategoryName = Column(String, nullable=False)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    category = relationship("IngredientCategory", back_populates="subcategories")
    ingredients = relationship("Ingredient", order_by="Ingredient.IngredientID", back_populates="subcategory")


==================== C:\Code\recipe-app\server\models\meal_plan.py ====================

from sqlalchemy import Column, Integer, String, Date, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class MealPlan(Base):
    __tablename__ = "MealPlans"

    MealPlanID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"), nullable=False)
    PlanName = Column(String)
    StartDate = Column(Date)
    EndDate = Column(Date)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="meal_plans")
    recipes = relationship("MealPlanRecipe", back_populates="meal_plan")


==================== C:\Code\recipe-app\server\models\meal_plan_recipe.py ====================

from sqlalchemy import Column, Integer, String, Date, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class MealPlanRecipe(Base):
    __tablename__ = "MealPlanRecipes"

    MealPlanRecipeID = Column(Integer, primary_key=True)
    MealPlanID = Column(Integer, ForeignKey("MealPlans.MealPlanID"), nullable=False)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    MealType = Column(String)
    Date = Column(Date, nullable=False)

    meal_plan = relationship("MealPlan", back_populates="recipes")
    recipe = relationship("Recipe", back_populates="meal_plan_recipes")
    shopping_list_ingredients = relationship("ShoppingListIngredient", back_populates="meal_plan_recipe")


==================== C:\Code\recipe-app\server\models\recipe.py ====================

from sqlalchemy import Column, Integer, String, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class Recipe(Base):
    __tablename__ = "Recipes"

    RecipeID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"))
    RecipeName = Column(String, nullable=False)
    AuthorID = Column(Integer, ForeignKey("RecipeAuthors.AuthorID"))
    BookID = Column(Integer, ForeignKey("RecipeBooks.BookID"))
    PageNumber = Column(Integer)
    OnlineURL = Column(String)
    CookTime = Column(Integer)
    Difficulty = Column(String)
    Type = Column(String)
    ImageURL = Column(String)
    Servings = Column(Integer)
    Cuisine = Column(String)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="recipes")
    author = relationship("RecipeAuthor", back_populates="recipes")
    book = relationship("RecipeBook", back_populates="recipes")
    ingredients = relationship("RecipeIngredient", back_populates="recipe")
    sections = relationship("RecipeIngredientSection", back_populates="recipe")
    reviews = relationship("RecipeReview", back_populates="recipe")
    steps = relationship("RecipeStep", back_populates="recipe")
    tags = relationship("RecipeTag", back_populates="recipe")
    meal_plan_recipes = relationship("MealPlanRecipe", back_populates="recipe")


==================== C:\Code\recipe-app\server\models\recipe_author.py ====================

from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import relationship
from .base import Base

class RecipeAuthor(Base):
    __tablename__ = "RecipeAuthors"

    AuthorID = Column(Integer, primary_key=True)
    AuthorName = Column(String, nullable=False)
    AuthorImageURL = Column(String)

    books = relationship("RecipeBook", back_populates="author")
    recipes = relationship("Recipe", back_populates="author")


==================== C:\Code\recipe-app\server\models\recipe_book.py ====================

# models/recipe_book.py
from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeBook(Base):
    __tablename__ = "RecipeBooks"

    BookID = Column(Integer, primary_key=True)
    AuthorID = Column(Integer, ForeignKey("RecipeAuthors.AuthorID"), nullable=False)
    BookName = Column(String, nullable=False)
    CoverArtURL = Column(String)

    author = relationship("RecipeAuthor", back_populates="books")
    recipes = relationship("Recipe", back_populates="book")


==================== C:\Code\recipe-app\server\models\recipe_ingredient.py ====================

from sqlalchemy import Column, Integer, Float, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeIngredient(Base):
    __tablename__ = "RecipeIngredients"

    RecipeIngredientID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    IngredientID = Column(Integer, ForeignKey("Ingredients.IngredientID"), nullable=False)
    SectionID = Column(Integer, ForeignKey("RecipeIngredientSections.SectionID"))
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey("Units.UnitID"))

    recipe = relationship("Recipe", back_populates="ingredients")
    ingredient = relationship("Ingredient", back_populates="recipes")
    section = relationship("RecipeIngredientSection", back_populates="ingredients")
    unit = relationship("Unit", back_populates="recipe_ingredients")


==================== C:\Code\recipe-app\server\models\recipe_ingredient_section.py ====================

from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeIngredientSection(Base):
    __tablename__ = "RecipeIngredientSections"

    SectionID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    SectionName = Column(String, nullable=False)

    recipe = relationship("Recipe", back_populates="sections")
    ingredients = relationship("RecipeIngredient", back_populates="section")


==================== C:\Code\recipe-app\server\models\recipe_review.py ====================

from sqlalchemy import Column, Integer, Float, String, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeReview(Base):
    __tablename__ = "RecipeReviews"

    ReviewID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"), nullable=False)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    Rating = Column(Float, nullable=False)
    ReviewText = Column(String)
    CreatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="reviews")
    recipe = relationship("Recipe", back_populates="reviews")


==================== C:\Code\recipe-app\server\models\recipe_step.py ====================

from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeStep(Base):
    __tablename__ = "RecipeSteps"

    StepID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    StepNumber = Column(Integer, nullable=False)
    Description = Column(String, nullable=False)

    recipe = relationship("Recipe", back_populates="steps")


==================== C:\Code\recipe-app\server\models\recipe_tag.py ====================

from sqlalchemy import Column, Integer, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class RecipeTag(Base):
    __tablename__ = "RecipeTags"

    RecipeTagID = Column(Integer, primary_key=True)
    RecipeID = Column(Integer, ForeignKey("Recipes.RecipeID"), nullable=False)
    TagID = Column(Integer, ForeignKey("Tags.TagID"), nullable=False)

    recipe = relationship("Recipe", back_populates="tags")
    tag = relationship("Tag", back_populates="recipes")


==================== C:\Code\recipe-app\server\models\shopping_list.py ====================

from sqlalchemy import Column, Integer, TIMESTAMP, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class ShoppingList(Base):
    __tablename__ = "ShoppingLists"

    ShoppingListID = Column(Integer, primary_key=True)
    UserID = Column(Integer, ForeignKey("Users.UserID"), nullable=False)
    CreatedAt = Column(TIMESTAMP)
    UpdatedAt = Column(TIMESTAMP)

    user = relationship("User", back_populates="shopping_lists")
    ingredients = relationship("ShoppingListIngredient", back_populates="shopping_list")


==================== C:\Code\recipe-app\server\models\shopping_list_ingredient.py ====================

from sqlalchemy import Column, Integer, Float, Boolean, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class ShoppingListIngredient(Base):
    __tablename__ = "ShoppingListIngredients"

    ShoppingListIngredientID = Column(Integer, primary_key=True)
    ShoppingListID = Column(Integer, ForeignKey("ShoppingLists.ShoppingListID"), nullable=False)
    MealPlanRecipeID = Column(Integer, ForeignKey("MealPlanRecipes.MealPlanRecipeID"))
    IngredientID = Column(Integer, ForeignKey("Ingredients.IngredientID"), nullable=False)
    Quantity = Column(Float)
    UnitID = Column(Integer, ForeignKey("Units.UnitID"))
    IsManual = Column(Boolean)
    AlreadyHave = Column(Boolean)
    Purchased = Column(Boolean)

    shopping_list = relationship("ShoppingList", back_populates="ingredients")
    meal_plan_recipe = relationship("MealPlanRecipe", back_populates="shopping_list_ingredients")
    ingredient = relationship("Ingredient", back_populates="shopping_list_ingredients")
    unit = relationship("Unit", back_populates="shopping_list_ingredients")


==================== C:\Code\recipe-app\server\models\tag.py ====================

from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import relationship
from .base import Base

class Tag(Base):
    __tablename__ = "Tags"

    TagID = Column(Integer, primary_key=True)
    TagName = Column(String, nullable=False, unique=True)

    recipes = relationship("RecipeTag", back_populates="tag")


==================== C:\Code\recipe-app\server\models\unit.py ====================

from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import relationship
from .base import Base

class Unit(Base):
    __tablename__ = "Units"

    UnitID = Column(Integer, primary_key=True)
    UnitName = Column(String, nullable=False, unique=True)
    Abbreviation = Column(String, nullable=False, unique=True)
    
    recipe_ingredients = relationship("RecipeIngredient", back_populates="unit")
    shopping_list_ingredients = relationship("ShoppingListIngredient", back_populates="unit")
    unit_conversions_from = relationship("UnitConversion", foreign_keys="[UnitConversion.FromUnitID]", back_populates="from_unit")
    unit_conversions_to = relationship("UnitConversion", foreign_keys="[UnitConversion.ToUnitID]", back_populates="to_unit")


==================== C:\Code\recipe-app\server\models\unit_conversion.py ====================

from sqlalchemy import Column, Integer, Float, ForeignKey
from sqlalchemy.orm import relationship
from .base import Base

class UnitConversion(Base):
    __tablename__ = "UnitConversions"

    FromUnitID = Column(Integer, ForeignKey("Units.UnitID"), primary_key=True)
    ToUnitID = Column(Integer, ForeignKey("Units.UnitID"), primary_key=True)
    ConversionFactor = Column(Float, nullable=False)

    from_unit = relationship("Unit", foreign_keys=[FromUnitID], back_populates="unit_conversions_from")
    to_unit = relationship("Unit", foreign_keys=[ToUnitID], back_populates="unit_conversions_to")


==================== C:\Code\recipe-app\server\models\user.py ====================

from sqlalchemy import Column, Integer, String, DateTime
from datetime import datetime
from sqlalchemy.orm import relationship
from .base import Base

class User(Base):
    __tablename__ = 'Users'
    UserID = Column(Integer, primary_key=True, index=True, autoincrement=True)
    Username = Column(String, unique=True, index=True, nullable=False)
    PasswordHash = Column(String, nullable=False)
    Email = Column(String, unique=True, index=True, nullable=False)
    CreatedAt = Column(DateTime, default=datetime.utcnow)
    UpdatedAt = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)

    recipes = relationship("Recipe", back_populates="user")
    meal_plans = relationship("MealPlan", back_populates="user")
    reviews = relationship("RecipeReview", back_populates="user")
    shopping_lists = relationship("ShoppingList", back_populates="user")


==================== C:\Code\recipe-app\server\models\__init__.py ====================

from .base import Base
from .user import User
from .recipe_author import RecipeAuthor
from .recipe_book import RecipeBook
from .recipe import Recipe
from .ingredient_category import IngredientCategory
from .ingredient_sub_category import IngredientSubCategory
from .ingredient import Ingredient
from .unit import Unit
from .meal_plan import MealPlan
from .meal_plan_recipe import MealPlanRecipe
from .recipe_ingredient import RecipeIngredient
from .recipe_ingredient_section import RecipeIngredientSection
from .recipe_review import RecipeReview
from .recipe_step import RecipeStep
from .recipe_tag import RecipeTag
from .shopping_list import ShoppingList
from .shopping_list_ingredient import ShoppingListIngredient
from .tag import Tag
from .unit_conversion import UnitConversion


==================== C:\Code\recipe-app\server\schemas\ingredient.py ====================

from pydantic import BaseModel
from typing import Optional
from datetime import datetime

class IngredientBase(BaseModel):
    IngredientName: str
    PurchaseWeightVolume: float
    PurchaseUnitID: Optional[int]
    SubCategoryID: int
    PurchaseWeightUnitID: Optional[int]

class IngredientCreate(IngredientBase):
    pass

class IngredientUpdate(IngredientBase):
    pass

class Ingredient(IngredientBase):
    IngredientID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\ingredient_category.py ====================

from pydantic import BaseModel
from datetime import datetime
from typing import List, Optional

class IngredientCategoryBase(BaseModel):
    CategoryName: str

class IngredientCategoryCreate(IngredientCategoryBase):
    pass

class IngredientCategoryUpdate(IngredientCategoryBase):
    pass

class IngredientCategory(IngredientCategoryBase):
    CategoryID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\ingredient_sub_category.py ====================

# schemas/ingredient_sub_category.py

from pydantic import BaseModel
from datetime import datetime

class IngredientSubCategoryBase(BaseModel):
    SubCategoryName: str
    CategoryID: int

class IngredientSubCategoryCreate(IngredientSubCategoryBase):
    pass

class IngredientSubCategoryUpdate(IngredientSubCategoryBase):
    pass

class IngredientSubCategory(IngredientSubCategoryBase):
    SubCategoryID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode: True


==================== C:\Code\recipe-app\server\schemas\meal_plan.py ====================

# schemas/meal_plan.py
from pydantic import BaseModel
from datetime import datetime, date
from typing import List, Optional

class MealPlanBase(BaseModel):
    UserID: int
    PlanName: Optional[str] = None
    StartDate: Optional[date] = None
    EndDate: Optional[date] = None

class MealPlanCreate(MealPlanBase):
    pass

class MealPlanUpdate(MealPlanBase):
    pass

class MealPlan(MealPlanBase):
    MealPlanID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\meal_plan_recipe.py ====================

# schemas/meal_plan_recipe.py
from pydantic import BaseModel
from datetime import date

class MealPlanRecipeBase(BaseModel):
    MealPlanID: int
    RecipeID: int
    MealType: str
    Date: date

class MealPlanRecipeCreate(MealPlanRecipeBase):
    pass

class MealPlanRecipeUpdate(MealPlanRecipeBase):
    pass

class MealPlanRecipe(MealPlanRecipeBase):
    MealPlanRecipeID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe.py ====================

from pydantic import BaseModel
from typing import Optional
from datetime import datetime

class RecipeBase(BaseModel):
    RecipeName: str
    AuthorID: Optional[int] = None
    BookID: Optional[int] = None
    PageNumber: Optional[int] = None
    OnlineURL: Optional[str] = None
    CookTime: Optional[int] = None
    Difficulty: Optional[str] = None
    Type: Optional[str] = None
    ImageURL: Optional[str] = None
    Servings: Optional[int] = None
    Cuisine: Optional[str] = None

class RecipeCreate(RecipeBase):
    pass

class Recipe(RecipeBase):
    RecipeID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe_author.py ====================

from pydantic import BaseModel
from typing import Optional

class RecipeAuthorBase(BaseModel):
    AuthorName: str
    AuthorImageURL: Optional[str] = None

class RecipeAuthorCreate(RecipeAuthorBase):
    pass

class RecipeAuthorUpdate(RecipeAuthorBase):
    pass

class RecipeAuthor(RecipeAuthorBase):
    AuthorID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe_book.py ====================

# schemas/recipe_book.py
from pydantic import BaseModel
from typing import Optional

class RecipeBookBase(BaseModel):
    AuthorID: int
    BookName: str
    CoverArtURL: Optional[str] = None

class RecipeBookCreate(RecipeBookBase):
    pass

class RecipeBookUpdate(RecipeBookBase):
    pass

class RecipeBook(RecipeBookBase):
    BookID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\recipe_ingredient.py ====================

# schemas/recipe_ingredient.py
from pydantic import BaseModel
from typing import Optional
from datetime import datetime

class RecipeIngredientBase(BaseModel):
    RecipeID: int
    IngredientID: int
    SectionID: Optional[int] = None
    Quantity: Optional[float] = None
    UnitID: Optional[int] = None

class RecipeIngredientCreate(RecipeIngredientBase):
    pass

class RecipeIngredientUpdate(RecipeIngredientBase):
    pass

class RecipeIngredient(RecipeIngredientBase):
    RecipeIngredientID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\shopping_list.py ====================

# schemas/shopping_list.py
from pydantic import BaseModel
from datetime import datetime
from typing import List, Optional

class ShoppingListBase(BaseModel):
    UserID: int

class ShoppingListCreate(ShoppingListBase):
    pass

class ShoppingListUpdate(ShoppingListBase):
    pass

class ShoppingList(ShoppingListBase):
    ShoppingListID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\shopping_list_ingredient.py ====================

# schemas/shopping_list_ingredient.py
from pydantic import BaseModel
from typing import Optional

class ShoppingListIngredientBase(BaseModel):
    ShoppingListID: int
    MealPlanRecipeID: Optional[int]
    IngredientID: int
    Quantity: Optional[float]
    UnitID: Optional[int]
    IsManual: Optional[bool]
    AlreadyHave: Optional[bool]
    Purchased: Optional[bool]

class ShoppingListIngredientCreate(ShoppingListIngredientBase):
    pass

class ShoppingListIngredientUpdate(ShoppingListIngredientBase):
    pass

class ShoppingListIngredient(ShoppingListIngredientBase):
    ShoppingListIngredientID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\unit.py ====================

from pydantic import BaseModel
from datetime import datetime

class UnitBase(BaseModel):
    UnitName: str
    Abbreviation: str

class UnitCreate(UnitBase):
    pass

class UnitUpdate(UnitBase):
    pass

class Unit(UnitBase):
    UnitID: int

    class Config:
        orm_mode = True


==================== C:\Code\recipe-app\server\schemas\user.py ====================

from pydantic import BaseModel, EmailStr
from datetime import datetime
from typing import Optional

class UserBase(BaseModel):
    Username: str
    Email: EmailStr

class UserCreate(UserBase):
    Password: str

class UserRead(UserBase):
    UserID: int
    CreatedAt: datetime
    UpdatedAt: datetime

    class Config:
        orm_mode = True

class UserLogin(BaseModel):
    Username: str
    Password: str
